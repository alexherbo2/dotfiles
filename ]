[33mcommit 65c2fea1309ab91adfdd9794c19e8205024296ac[m
Author: Mathieu Ablasou <alexherbo2@gmail.com>
Date:   2023-11-19 13:21:30 +0100

    2023-11-19 13:21:30


[34m.config/kak/colors/macos_light.kak[0m
[34m────────────────────────────────────────────────────────────────────────────────[0m

[34m───────────────────────────────────────────────────────────────────────────────────[0m[34m┐[0m
[34m113[0m:[38;2;51;51;51m set-face global Whitespace "rgb:%opt{non_text}+f" # Kakoune ⇒ add-highlighter [0m[34m│[0m
[34m───────────────────────────────────────────────────────────────────────────────────[0m[34m┘[0m
[38;2;51;51;51mset-face global WrapMarker "rgb:%opt{non_text}" # Kakoune ⇒ add-highlighter -override global/wrap wrap -marker '↪'[0m

[38;2;51;51;51m# Custom faces[0m
[48;2;255;224;224mset-face global Search "[48;2;255;192;192mrgb[48;2;255;224;224m:%opt{[48;2;255;192;192mblack[48;2;255;224;224m}[48;2;255;192;192m,rgb:[48;2;255;224;224m%opt{[48;2;255;192;192mbright_yellow[48;2;255;224;224m}[48;2;255;192;192m+fg[48;2;255;224;224m"[0m[48;2;255;224;224m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global Search "[48;2;160;239;160mdefault,rgba[48;2;208;255;208m:%opt{[48;2;160;239;160mbright_yellow[48;2;208;255;208m}%opt{[48;2;160;239;160mselection_highlight_alpha[48;2;208;255;208m}"[0m[48;2;208;255;208m[0K[0m
[38;2;51;51;51mset-face global SelectedText "default,rgba:%opt{selection}%opt{selection_highlight_alpha}"[0m
[38;2;51;51;51mset-face global StatusLineInactive "rgb:%opt{dim_foreground},rgb:%opt{dim_background}"[0m


[33mcommit 177a63c5ee54ca63ceb08252de6f28d90a37ebbc[m
Author: Mathieu Ablasou <taupiqueur.kanto@gmail.com>
Date:   2023-06-23 22:21:22 +0200

    2023-06-23 22:21:22


[34m.config/kak/colors/macos_light.kak[0m
[34m────────────────────────────────────────────────────────────────────────────────[0m

[34m────────────────────────────────────────────────────────────────────────────────────[0m[34m┐[0m
[34m112[0m:[38;2;51;51;51m set-face global WrapMarker "rgb:%opt{non_text}" # Kakoune ⇒ add-highlighter -o [0m[34m│[0m
[34m────────────────────────────────────────────────────────────────────────────────────[0m[34m┘[0m
[38;2;51;51;51m# Custom faces[0m
[38;2;51;51;51mset-face global Search "rgb:%opt{black},rgb:%opt{bright_yellow}+fg"[0m
[38;2;51;51;51mset-face global SelectedText "default,rgba:%opt{selection}%opt{selection_highlight_alpha}"[0m
[48;2;255;224;224mset-face global StatusLineInactive "rgb:%opt{foreground},[48;2;255;192;192mrgba[48;2;255;224;224m:%opt{[48;2;255;192;192mbackground_dark}%opt{selection_alpha[48;2;255;224;224m}"[0m[48;2;255;224;224m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global StatusLineInactive "rgb:%opt{foreground},[48;2;160;239;160mrgb[48;2;208;255;208m:%opt{[48;2;160;239;160mbackground[48;2;208;255;208m}"[0m[48;2;208;255;208m[0K[0m

[33mcommit be83fbbe416a7ad5a8727f79f7ca24cecef66a9e[m
Author: Mathieu Ablasou <taupiqueur.kanto@gmail.com>
Date:   2023-06-23 22:19:40 +0200

    2023-06-23 22:19:39


[34m.config/kak/colors/macos_light.kak[0m
[34m────────────────────────────────────────────────────────────────────────────────[0m

[34m────────────────────────────────────────────────────────────────────────────────────[0m[34m┐[0m
[34m112[0m:[38;2;51;51;51m set-face global WrapMarker "rgb:%opt{non_text}" # Kakoune ⇒ add-highlighter -o [0m[34m│[0m
[34m────────────────────────────────────────────────────────────────────────────────────[0m[34m┘[0m
[38;2;51;51;51m# Custom faces[0m
[38;2;51;51;51mset-face global Search "rgb:%opt{black},rgb:%opt{bright_yellow}+fg"[0m
[38;2;51;51;51mset-face global SelectedText "default,rgba:%opt{selection}%opt{selection_highlight_alpha}"[0m
[48;2;255;224;224mset-face global StatusLineInactive "rgb:%opt{foreground},[48;2;255;192;192mrgb[48;2;255;224;224m:%opt{[48;2;255;192;192mbackground_darker[48;2;255;224;224m}"[0m[48;2;255;224;224m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global StatusLineInactive "rgb:%opt{foreground},[48;2;160;239;160mrgba[48;2;208;255;208m:%opt{[48;2;160;239;160mbackground_dark}%opt{selection_alpha[48;2;208;255;208m}"[0m[48;2;208;255;208m[0K[0m

[33mcommit 164fbdb39cb8a044218f8f1afb0d73c4513dfcac[m
Author: Mathieu Ablasou <taupiqueur.kanto@gmail.com>
Date:   2023-06-16 22:49:29 +0200

    2023-06-16 22:49:29


[34m.config/foot/foot.ini[0m
[34m────────────────────────────────────────────────────────────────────────────────[0m

[34m───[0m[34m┐[0m
[34m2[0m: [34m│[0m
[34m───[0m[34m┘[0m
[38;2;150;152;150m# https://codeberg.org/dnkl/foot[0m
[38;2;150;152;150m# https://codeberg.org/dnkl/foot/src/branch/master/foot.ini[0m
[38;2;150;152;150m# https://codeberg.org/dnkl/foot/src/branch/master/doc/foot.ini.5.scd[0m
[48;2;255;192;192m# [48;2;255;224;224minclude=~/.config/foot/colors/macos_light.ini[0m[48;2;255;224;224m[0K[0m
[48;2;208;255;208;38;2;167;29;93minclude[38;2;51;51;51m=[38;2;24;54;145m~/.config/foot/colors/macos_light.ini[0m[48;2;208;255;208m[0K[0m
[38;2;167;29;93mfont[38;2;51;51;51m=[38;2;24;54;145mJetBrains Mono:size=14[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Add a bit of transparency to reduce eye strain.[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[colors][0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224malpha = 0.8[0m[48;2;255;224;224m[0K[0m

[33mcommit d0fb7d78cb1a6e93e34d353c71307c9974b35c69[m
Author: Mathieu Ablasou <taupiqueur.kanto@gmail.com>
Date:   2023-06-02 22:49:44 +0200

    2023-06-02 22:49:44


[34mremoved: .config/kak/colors/colibri.kak[0m
[34m────────────────────────────────────────────────────────────────────────────────[0m

[34m───[0m[34m┐[0m
[34m0[0m: [34m│[0m
[34m───[0m[34m┘[0m
[48;2;255;224;224m# Color palette[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Standard[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdeclare-option str background '3b224c' # midnight[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdeclare-option str foreground 'a4a0e8' # lavender[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdeclare-option str selection '540099'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdeclare-option str cursor 'ffffff'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdeclare-option str comment '697c81' # sirocco[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdeclare-option str white 'ffffff'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdeclare-option str lilac 'dbbfef'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdeclare-option str lavender 'a4a0e8'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdeclare-option str comet '5a5977'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdeclare-option str bossanova '452859'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdeclare-option str midnight '3b224c'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdeclare-option str revolver '281733'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdeclare-option str silver 'cccccc'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdeclare-option str sirocco '697c81'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdeclare-option str mint '9ff28f'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdeclare-option str almond 'eccdba'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdeclare-option str chamois 'e8dca0'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdeclare-option str honey 'efba5d'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdeclare-option str apricot 'f47868'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdeclare-option str lightning 'ffcd1c'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdeclare-option str delta '6f44f0'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# ANSI[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdeclare-option str black '000000'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdeclare-option str red '990000'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdeclare-option str green '00a600'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdeclare-option str yellow '999900'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdeclare-option str blue '0000b2'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdeclare-option str magenta 'b200b2'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdeclare-option str cyan '00a6b2'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdeclare-option str white 'bfbfbf'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdeclare-option str bright_black '666666'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdeclare-option str bright_red 'e50000'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdeclare-option str bright_green '00d900'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdeclare-option str bright_yellow 'e5e500'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdeclare-option str bright_blue '0000ff'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdeclare-option str bright_magenta 'e500e5'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdeclare-option str bright_cyan '00e5e5'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdeclare-option str bright_white 'e5e5e5'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m###[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdeclare-option str red 'f22c86'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdeclare-option str green '35bf86'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdeclare-option str orange '6f44f0'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Alpha blending[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdeclare-option str cursor_alpha '99'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdeclare-option str selection_alpha '80'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdeclare-option str selection_highlight_alpha '20'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# UI variants[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdeclare-option str foreground_lighter '333333'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdeclare-option str foreground_light '1a1a1a'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdeclare-option str background_dark '281733' # revolver[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdeclare-option str background_darker 'cccccc'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Other[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdeclare-option str non_text "%opt{comet}"[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Template[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# https://github.com/mawww/kakoune/blob/master/colors/default.kak[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# For code[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global value "rgb:%opt{chamois}" # C++ ⇒ int number = [42];[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global type "rgb:%opt{white}" # C++ ⇒ [int] main() { ... }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global variable "rgb:%opt{lavender}" # Makefile ⇒ [install]:[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global module "rgb:%opt{lilac}" # C++ ⇒ #include [<stdio.h>][0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global function "rgb:%opt{white}" # https://spec.draculatheme.com#FunctionNames[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global string "rgb:%opt{silver}" # https://spec.draculatheme.com#String[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global keyword "rgb:%opt{almond}" # https://spec.draculatheme.com#Keyword[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global operator "rgb:%opt{lilac}" # Shell ⇒ true [&&] false[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global attribute "rgb:%opt{lilac}" # C++ ⇒ [enum] Color { ... };[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global comment "rgb:%opt{comment}" # https://spec.draculatheme.com#Comment[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global documentation comment # Rust ⇒ /// Returns `true`.[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global meta "rgb:%opt{honey}" # C++ ⇒ [#include] <stdio.h>[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global builtin "rgb:%opt{mint}" # https://spec.draculatheme.com#Support[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Diffs[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# https://spec.draculatheme.com#sec-Diffs[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# set-face global DiffText "rgb:%opt{comment}"[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# set-face global DiffHeader "rgb:%opt{comment}"[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# set-face global DiffInserted "rgb:%opt{green},rgba:%opt{green}20" # https://github.com/dracula/visual-studio-code/blob/master/src/dracula.yml#:~:text=diffEditor.insertedTextBackground[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# set-face global DiffDeleted "rgb:%opt{red},rgba:%opt{red}50" # https://github.com/dracula/visual-studio-code/blob/master/src/dracula.yml#:~:text=diffEditor.removedTextBackground[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# set-face global DiffChanged "rgb:%opt{orange}"[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# For markup[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global title "rgb:%opt{blue}+b" # AsciiDoc ⇒ = Document title — https://spec.draculatheme.com#MarkupHeading[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global header "rgb:%opt{lilac}+b" # AsciiDoc ⇒ == Section title — https://spec.draculatheme.com#MarkupHeading[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global mono "rgb:%opt{almond}" # AsciiDoc ⇒ `code` — https://spec.draculatheme.com#MarkupInlineCode[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global block "rgb:%opt{magenta}" # AsciiDoc ⇒ [----][code][----] — https://spec.draculatheme.com#MarkupCodeBlockWithoutSyntax[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global link "rgb:%opt{silver}" # Markdown ⇒ <https://draculatheme.com> — https://spec.draculatheme.com#MarkupLinkUrl[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global bullet "rgb:%opt{cyan}" # https://spec.draculatheme.com#MarkupListBulletOrNumber[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global list default # AsciiDoc ⇒ - [item][0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Builtin faces[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global Default "rgb:%opt{foreground},rgb:%opt{background}" # Editor background[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global PrimarySelection "default,rgba:%opt{selection}%opt{selection_alpha}" # Pink (alpha-blended)[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global SecondarySelection "default,rgba:%opt{selection}%opt{selection_alpha}" # Purple (alpha-blended)[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global PrimaryCursor "default,rgba:%opt{cursor}%opt{cursor_alpha}" # Pink (alpha-blended)[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global SecondaryCursor "default,rgba:%opt{selection}%opt{cursor_alpha}" # Purple (alpha-blended)[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global PrimaryCursorEol "rgb:%opt{background},rgb:%opt{foreground}+fg" # White (full block)[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global SecondaryCursorEol "rgb:%opt{background},rgb:%opt{foreground}+fg" # White (full block)[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global MenuForeground "rgb:%opt{foreground},rgb:%opt{selection}" # https://github.com/dracula/visual-studio-code/blob/master/src/dracula.yml#:~:text=editorSuggestWidget.selectedBackground[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global MenuBackground "rgb:%opt{foreground},rgb:%opt{background_dark}" # https://github.com/dracula/visual-studio-code/blob/master/src/dracula.yml#:~:text=editorSuggestWidget.background[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global MenuInfo "rgb:%opt{comment}" # IntelliSense suggestions[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global Information "rgb:%opt{delta},rgb:%opt{background_dark}" # Contextual help blends with the editor background.[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global Error "rgb:%opt{apricot},rgb:%opt{background_dark}" # https://spec.draculatheme.com#Invalid[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global DiagnosticError "rgb:%opt{apricot}+c" # https://github.com/dracula/visual-studio-code/blob/master/src/dracula.yml#:~:text=editorError.foreground[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global DiagnosticWarning "rgb:%opt{lightning}+c" # https://github.com/dracula/visual-studio-code/blob/master/src/dracula.yml#:~:text=editorWarning.foreground[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global StatusLine "rgb:%opt{lilac},rgb:%opt{revolver}" # Prefer background dark here — https://github.com/dracula/visual-studio-code/blob/master/src/dracula.yml#:~:text=statusBar.background[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global StatusLineMode "rgb:%opt{silver}" # [insert][0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global StatusLineInfo "rgb:%opt{blue}" # 1 sel[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global StatusLineValue "rgb:%opt{green}" # 1 sel param=[42] reg=[y][0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global StatusCursor "rgb:%opt{background},rgb:%opt{foreground}" # Cursor in command mode[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global Prompt StatusLine # Same as the status line, since they live at the same place.[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global BufferPadding "rgb:%opt{non_text}" # Kakoune ⇒ set-option global ui_options terminal_padding_fill=yes[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Builtin highlighter faces[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global LineNumbers "rgb:%opt{non_text}" # Kakoune ⇒ add-highlighter -override global/number-lines number-lines — Prefer non-text here — https://github.com/dracula/visual-studio-code/blob/master/src/dracula.yml#:~:text=editorLineNumber[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global LineNumberCursor "rgb:%opt{lilac}" # Kakoune ⇒ add-highlighter -override global/number-lines number-lines -hlcursor[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global LineNumbersWrapped "rgb:%opt{background}" # Kakoune ⇒ add-highlighter -override global/number-lines number-lines; add-highlighter -override global/wrap wrap[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global MatchingChar "rgb:212121,rgb:6c6999" # Kakoune ⇒ add-highlighter -override global/show-matching show-matching — https://github.com/dracula/vim/blob/master/colors/dracula.vim#:~:text=MatchParen[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global Whitespace "rgb:%opt{non_text}+f" # Kakoune ⇒ add-highlighter -override global/show-whitespaces show-whitespaces[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global WrapMarker "rgb:%opt{non_text}" # Kakoune ⇒ add-highlighter -override global/wrap wrap -marker '↪'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Custom faces[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global Search "rgb:%opt{white},rgb:%opt{bossanova}"[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global SelectedText "default,rgba:%opt{selection}%opt{selection_highlight_alpha}"[0m[48;2;255;224;224m[0K[0m

[33mcommit 5a10d8ec362552d59b08bf59741ce8d5759722bb[m
Author: Mathieu Ablasou <taupiqueur.kanto@gmail.com>
Date:   2023-06-01 22:24:09 +0200

    2023-06-01 22:24:09


[34m.config/kak/colors/colibri.kak[0m
[34m────────────────────────────────────────────────────────────────────────────────[0m

[34m───[0m[34m┐[0m
[34m1[0m: [34m│[0m
[34m───[0m[34m┘[0m
[48;2;255;224;224m####################################[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mattribute = "lilac"[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mkeyword = "almond"[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m"keyword.directive" = "lilac" # -- preprocessor comments (#if in c)[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mnamespace = "lilac"[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mpunctuation = "lavender"[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m"punctuation.delimiter" = "lavender"[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224moperator = "lilac"[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mspecial = "honey"[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m"variable.other.member" = "white"[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mvariable = "lavender"[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# variable = "almond" # todo: metavariables only[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# "variable.parameter" = { fg = "lavender", modifiers = ["underlined"] }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m"variable.parameter" = { fg = "lavender" }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m"variable.builtin" = "mint"[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mtype = "white"[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m"type.builtin" = "white" # todo: distinguish?[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mconstructor = "lilac"[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mfunction = "white"[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m"function.macro" = "lilac"[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m"function.builtin" = "white"[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mtag = "almond"[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mcomment = "sirocco"[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mconstant = "white"[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m"constant.builtin" = "white"[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mstring = "silver"[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m"constant.numeric" = "chamois"[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m"constant.character.escape" = "honey"[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# used for lifetimes[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mlabel = "honey"[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m"markup.heading" = "lilac"[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m"markup.bold" = { modifiers = ["bold"] }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m"markup.italic" = { modifiers = ["italic"] }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m"markup.strikethrough" = { modifiers = ["crossed_out"] }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m"markup.link.url" = { fg = "silver", modifiers = ["underlined"] }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m"markup.link.text" = "almond"[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m"markup.raw" = "almond"[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m"diff.plus" = "#35bf86"[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m"diff.minus" = "#f22c86"[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m"diff.delta" = "#6f44f0"[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# todo: diferentiate doc comment[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# concat (error) @error.syntax and "missing ;" selectors for errors[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m"ui.background" = { bg = "midnight" }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m"ui.background.separator" = { fg = "comet" }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m"ui.linenr" = { fg = "comet" }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m"ui.linenr.selected" = { fg = "lilac" }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m"ui.statusline" = { fg = "lilac", bg = "revolver" }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m"ui.statusline.inactive" = { fg = "lavender", bg = "revolver" }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m"ui.popup" = { bg = "revolver" }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m"ui.window" = { fg = "bossanova" }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m"ui.help" = { bg = "#7958dc", fg = "#171452" }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m"ui.text" = { fg = "lavender" }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m"ui.text.focus" = { fg = "white" }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m"ui.text.inactive" = "sirocco"[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m"ui.virtual" = { fg = "comet" }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m"ui.virtual.indent-guide" = { fg = "comet" }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m"ui.selection" = { bg = "#540099" }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m"ui.selection.primary" = { bg = "#540099" }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# todo: namespace ui.cursor as ui.selection.cursor?[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m"ui.cursor.select" = { bg = "delta" }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m"ui.cursor.insert" = { bg = "white" }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m"ui.cursor.match" = { fg = "#212121", bg = "#6c6999" }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m"ui.cursor" = { modifiers = ["reversed"] }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m"ui.cursorline.primary" = { bg = "bossanova" }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m"ui.highlight" = { bg = "bossanova" }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m"ui.highlight.frameline" = { bg = "#634450" }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m"ui.debug" = { fg = "#634450" }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m"ui.debug.breakpoint" = { fg = "apricot" }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m"ui.menu" = { fg = "lavender", bg = "revolver" }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m"ui.menu.selected" = { fg = "revolver", bg = "white" }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m"ui.menu.scroll" = { fg = "lavender", bg = "comet" }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m"diagnostic.hint" = { underline = { color = "silver", style = "curl" } }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m"diagnostic.info" = { underline = { color = "delta", style = "curl" } }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m"diagnostic.warning" = { underline = { color = "lightning", style = "curl" } }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m"diagnostic.error" = { underline = { color = "apricot", style = "curl" } }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mwarning = "lightning"[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224merror = "apricot"[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224minfo = "delta"[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mhint = "silver"[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[palette][0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mwhite = "#ffffff"[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mlilac = "#dbbfef"[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mlavender = "#a4a0e8"[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mcomet = "#5a5977"[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mbossanova = "#452859"[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mmidnight = "#3b224c"[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mrevolver = "#281733"[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224msilver = "#cccccc"[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224msirocco = "#697c81"[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mmint = "#9ff28f"[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224malmond = "#eccdba"[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mchamois = "#e8dca0"[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mhoney = "#efba5d"[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mapricot = "#f47868"[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mlightning = "#ffcd1c"[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdelta = "#6f44f0"[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m####################################[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m" colibri.vim color theme[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m" author: blaz hrastnik[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m"[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m" note:[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m"[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m" todo: adjustable contrast?[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m" preamble: {{{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mhi clear[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mif exists("syntax_on") | syntax reset | endif[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mlet s:is_dark=(&background == 'dark')[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mlet g:colors_name = "colibri"[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m" }}}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m" colors: {{{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mlet s:colibri = {}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m" foreground #a4a0e8 (non active window) # play with complements, #9ff28f could be hsl(143.3, 61%, 76.9%) (complement derived from primary), hsl(343.3, 61%, 76.9%)[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m" base shades[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mlet s:colibri.white     = ["#ffffff", 231][0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mlet s:colibri.white_lilac  = ["#f3f2fc", 0] "lilac at lightness 97% hsl(243.3, 61%, 97%)[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m"let s:colibri.white_lilac  = ["#faf3ee", 0] " white_almond[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m"let s:colibri.white_lilac  = ["#faf9f4", 0] " white_chamois[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mlet s:colibri.white_lilac2 = ["#ebeafa", 0] "lilac at lightness 95% hsl(243.3, 61%, 95%)[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mlet s:colibri.lilac     = ["#dbbfef", 183][0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mlet s:colibri.lavender  = ["#a4a0e8", 146][0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mlet s:colibri.comet     = ["#5a5977", 60][0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mlet s:colibri.bossanova = ["#452859", 53][0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mlet s:colibri.midnight  = ["#3b224c", 17][0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mlet s:colibri.revolver  = ["#281733", 17][0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m" syntax groups[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m" white[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mlet s:colibri.silver    = ["#cccccc", 188][0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mlet s:colibri.sirocco   = ["#697c81", 66][0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mlet s:colibri.mint      = ["#9ff28f", 156] " 81eecf / 7fb998 / -- 5fe7b7[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m" lilac[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mlet s:colibri.almond    = ["#eccdba", 223][0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mlet s:colibri.chamois   = ["#e8dca0", 187][0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mlet s:colibri.honey     = ["#efba5d", 215] " alt: saturation is closer #ddb56f[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m" selection[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mlet s:colibri.cedar     = ["#802f00", 88][0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mlet s:colibri.sinbad    = ["#7fb998", 156][0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mif s:is_dark[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  let s:colibri.bg1 = s:colibri.revolver[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  let s:colibri.bg2 = s:colibri.midnight[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  let s:colibri.bg3 = s:colibri.bossanova[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  let s:colibri.fg1 = s:colibri.lavender[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  let s:colibri.fg2 = s:colibri.white[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  let s:colibri.fg3 = s:colibri.silver[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  let s:colibri.fg4 = s:colibri.sirocco[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224melse[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  " it seems that +10% saturation -10% lightness works for light colors[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  " mint: ~60% sat, 55% lightness[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  " comet: +10% lightness[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  " midnight: hsl(275.7, 18.2%, 50%) -20% sat? + 20% lightness[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  " silver: #aaa (from #ccc)[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  "[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  " white lilac is lilac +10% sat + 24% lightness, we could derive almond bg too hsl(22.8, 76.8%, 96.7%)[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  let s:colibri.comet    = ["#716f94", 0][0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  let s:colibri.midnight = ["#6a5379", 0] " one step[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  let s:colibri.midnight = ["#846897", 0] " two steps[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  " white[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  let s:colibri.comet    = s:colibri.silver " comet is only used for linenr, so override[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  let s:colibri.silver   = ["#aaaaaa", 0][0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  " sirocco[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  let s:colibri.lilac    = ["#c590eb", 0][0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  let s:colibri.lavender = ["#938fdb", 0][0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  let s:colibri.mint     = ["#6bc05b", 0][0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  let s:colibri.almond   = ["#e8ae8b", 0][0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  let s:colibri.chamois  = ["#e9d77c", 0][0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  let s:colibri.chamois  = ["#d4c57d", 0] " muted so it's easier to read[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  let s:colibri.chamois  = ["#d7c25b", 0] " even more muted so it's easier to read[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  " set some shades[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  let s:colibri.bg1 = s:colibri.white[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  let s:colibri.bg2 = s:colibri.white_lilac[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  let s:colibri.bg3 = s:colibri.white_lilac2[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  let s:colibri.fg1 = s:colibri.lavender[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  let s:colibri.fg2 = s:colibri.midnight[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  let s:colibri.fg3 = s:colibri.sirocco[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  let s:colibri.fg4 = s:colibri.silver[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  " flip the colors![0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  "let s:colibri.almond = s:colibri.lavender[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  "let s:colibri.chamois = s:colibri.lilac[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  "let s:colibri.mint = ["#83da74", 0][0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mendif[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mlet s:colibri.foreground      = s:colibri.fg1[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mlet s:colibri.background_dark = s:colibri.bg1[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mlet s:colibri.background      = s:colibri.bg2[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m" dark contrast bg[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m"let s:colibri.background     = ["#311d40", 53] " hsb with b at 25 (instead of 30)[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mlet s:colibri.background_light = s:colibri.bg3[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mlet s:colibri.sign_column = s:colibri.bg2[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m" ui tones[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mlet s:colibri.disabled = s:colibri.foreground[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mlet s:colibri.active   = s:colibri.lilac[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mlet s:colibri.window   = s:colibri.background_light[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mlet s:colibri.linenr   = s:colibri.comet[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mlet s:colibri.highlight = s:colibri.cedar[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m" #d7f4a8?[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mlet s:colibri.error    = ["#f47868", 209][0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mlet s:colibri.warning  = ["#ffcd1c", 220][0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mlet s:colibri.comment  = s:colibri.fg4[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mlet s:colibri.builtin  = s:colibri.fg2[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mlet s:colibri.string   = s:colibri.fg3[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mlet s:colibri.proper   = s:colibri.fg2[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mlet s:colibri.constant = s:colibri.mint[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mlet s:colibri.bool     = s:colibri.fg2[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mlet s:colibri.func     = s:colibri.fg2[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mlet s:colibri.punct    = s:colibri.lilac[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m"let s:colibri.keyword  = ["#77b56b", 107][0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mlet s:colibri.keyword  = s:colibri.almond[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mlet s:colibri.number   = s:colibri.chamois[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mlet s:colibri.special  = s:colibri.honey[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m" diff colors[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mlet s:colibri.diff_green  = ["#35bf86", 1][0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mlet s:colibri.diff_red    = ["#f22c86", 1][0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m"let s:colibri.error    = s:colibri.diff_red " darken & consolidate the red on errors?[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mif s:is_dark[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  let s:colibri.diff_change = ["#69a0f3", 1][0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  let s:colibri.diff_change = ["#6f44f0", 1][0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  let s:colibri.dblue       = ["#3b0fbf", 1] " 2cd5f2[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224melse[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  "swap[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  let s:colibri.dblue = ["#6f44f0", 1][0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  let s:colibri.diff_change = ["#3b0fbf", 1] " 2cd5f2[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mendif[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m" }}}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m" helpers: {{{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mfunction! s:hl(group, fg, ...)[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  " arguments: group, guifg, guibg, gui, guisp[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  let highlightstring = 'hi ' . a:group . ' '[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  " settings for highlight group ctermfg & guifg[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  if strlen(a:fg)[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    if a:fg == 'fg'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m      let highlightstring .= 'guifg=fg ctermfg=fg '[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    elseif a:fg == 'none'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m      let highlightstring .= 'guifg=none ctermfg=none '[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    else[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m      let color = get(s:colibri, a:fg)[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m      let highlightstring .= 'guifg=' . color[0] . ' ctermfg=' . color[1] . ' '[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    endif[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  endif[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  " settings for highlight group termbg & guibg[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  if a:0 >= 1 && strlen(a:1)[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    if a:1 == 'bg'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m      let highlightstring .= 'guibg=bg ctermbg=bg '[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    elseif a:1 == 'none'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m      let highlightstring .= 'guibg=none ctermbg=none '[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    else[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m      let color = get(s:colibri, a:1)[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m      let highlightstring .= 'guibg=' . color[0] . ' ctermbg=' . color[1] . ' '[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    endif[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  endif[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  " settings for highlight group cterm & gui[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  if a:0 >= 2 && strlen(a:2)[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    let highlightstring .= 'gui=' . a:2 . ' cterm=' . a:2 . ' '[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  endif[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  " settings for highlight guisp[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  if a:0 >= 3 && strlen(a:3)[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    let color = get(s:birds, a:3)[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    let highlightstring .= 'guisp=#' . color[0] . ' '[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  endif[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  " echom highlightstring[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  execute highlightstring[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mendfunction[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m" }}}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m"[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mcall s:hl('normal',       'foreground', 'background',      'none')[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mcall s:hl('vertsplit',    'window',     'window',          'none')[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m"call s:hl('cursor',       'background', 'cursor',    'none') " vcursor, icursor[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mcall s:hl('visual',       '',           'highlight',       'none')[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mcall s:hl('highlightedyankregion',       '',           'revolver',       'none')[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mcall s:hl('search',       'warning',    'background_dark', 'inverse')[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mcall s:hl('wildmenu',     'active',     'background',      'inverse')[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mcall s:hl('cursorline',   '',           'window',          'none')[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mcall s:hl('cursorcolumn', '',           'window',          'none')[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mcall s:hl('colorcolumn',  '',           'window',          'none')[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mcall s:hl('tabline',      '',           'bg3',             '')[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mcall s:hl('tablinefill',  'bg3',        '',                '')[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mcall s:hl('tablinesel',   'fg2',        'bg1',             '')[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m" - gutter[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mcall s:hl('linenr',     'linenr',  '',                 '')[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mcall s:hl('cursorlinenr','almond', '',                 '')[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mcall s:hl('signcolumn', 'active',  'sign_column',      'none')[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mcall s:hl('foldcolumn', 'active',  'window',           'none')[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mcall s:hl('folded',     'comment', 'background_light', 'none')[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m"call s:hl('matchparen',   'background_light', 'honey', '')[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m"call s:hl('matchparen',   'background_light', 'lavender', '')[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mcall s:hl('matchparen',   'white', 'background_dark', 'bold')[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mcall s:hl('statusline',   'background_dark', 'active',           '')[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mcall s:hl('statuslinenc', 'background_dark', 'disabled',         '')[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m" directories (netrw, etc.)[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mcall s:hl('directory',  'keyword',    '',     'bold')[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m" some html tags (<title>, some <h*>s)[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mcall s:hl('title',      'foreground', '',     'bold')[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mcall s:hl('errormsg',   'error',      'none', 'bold')[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mcall s:hl('warningmsg', 'warning',    'none')[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mcall s:hl('moremsg',    'diff_green', 'none')[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mcall s:hl('question',   'diff_green', 'none')[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m" todo: modemsg[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m" - completion menu[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mcall s:hl('pmenu',      'foreground', 'window',          'none')[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m"call s:hl('pmenu',    'active', 'linenr', 'none')[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mcall s:hl('pmenusel',   'active',     'background_dark', 'none')[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mcall s:hl('pmenusbar',  '',           'background_dark')[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mcall s:hl('pmenuthumb', '',           'active')[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m" tildes below buffer[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mcall s:hl('nontext', 'window', '', 'none')[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mlet s:colibri.neon = ["#2cf2f1", 0] " rotated diff_red hue until cyan[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m" special keys, e.g. some of the chars in 'listchars'. see ':h listchars'.[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mcall s:hl('specialkey', 'neon', '', 'none')[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m" neovim: whitespace[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m" - diffs[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mcall s:hl('diffadd',     'diff_green', 'background_light', 'bold')[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mcall s:hl('diffdelete',  'diff_red',   'background_light', '')[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mcall s:hl('diffchange',  'foreground', 'dblue',            '')[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m"call s:hl('difftext',    'dblue',      'diff_change',      'bold')[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mcall s:hl('difftext',    'lilac',  'diff_change',      'bold')[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m" experimenting[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m"call s:hl('diffchange',  'foreground', 'dblue',            '')[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m"call s:hl('difftext',    'white_lilac','dblue',      'bold')[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mcall s:hl('diffadded',   'diff_green', '',                 'bold')[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mcall s:hl('diffremoved', 'diff_red',   '',                 '')[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mcall s:hl('diffchanged', 'foreground', 'dblue',            '')[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m" --> syntax[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m" start simple[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mcall s:hl('special', 'special', '', 'none')[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m" todo: tag[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mcall s:hl('delimiter', 'punct', '', '') " hmm[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mcall s:hl('colibriinterpolationdelimiter', 'punct', '', '')[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m" next up, comments[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mcall s:hl('comment',        'comment', '',       '')[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m"call s:hl('specialcomment', 'comment', '',       'reverse')[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mcall s:hl('specialcomment', 'sinbad', '',       '')[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mcall s:hl('specialcomment', 'silver', '',       '')[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mcall s:hl('todo',           'warning', 'background', 'italic')[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mcall s:hl('error',          'error',   'background')[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m" -> keywords[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m" generic statement[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mcall s:hl('statement',   'keyword',  '', '')[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m" sizeof, "+", "*", etc.[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mcall s:hl('operator',    'punct',    '', '')[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m" functions and variable declarations[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mcall s:hl('identifier',  'builtin',  '', '')[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mcall s:hl('function',    'func',     '', '')[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m" preprocessor[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mcall s:hl('preproc',     'punct',    '', '')[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mcall s:hl('define',      'keyword',  '', '')[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m" constants[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mcall s:hl('constant',    'constant', '', '')[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m" character constant: 'c', '/n'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m" character[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mcall s:hl('boolean',     'bool',     '', '')[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mcall s:hl('number',      'number',   '', '')[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mcall s:hl('float',       'number',   '', '')[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mcall s:hl('string',      'string',   '', '')[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m" --> types[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mcall s:hl('type',        'proper',   '', '')[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m" --> filetype specific[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m" ruby[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m"call s:hl("rubysymbol", 'punct', '', '')[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m" apparently not the same as constant? (module/class name)[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mcall s:hl('rubyconstant',                 'proper',  '', '')[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mhi link rubyinterpolationdelimiter colibriinterpolationdelimiter[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mcall s:hl('rubystringdelimiter',          'string',  '', 'italic')[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mcall s:hl('rubyidentifier',               'proper',  '', '')[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mcall s:hl('rubyrailsmethod',              'proper',  '', '')[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m" elixir[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mcall s:hl('elixirstringdelimiter',        'string',  '', 'italic')[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mhi link elixirinterpolationdelimiter colibriinterpolationdelimiter[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m" html[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mcall s:hl('htmltag',                      'keyword', '', '')[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mcall s:hl('htmlendtag',                   'keyword', '', '')[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mcall s:hl('htmltagname',                  'keyword', '', '')[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mcall s:hl('htmlarg',                      'func',    '', '')[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m" markdown[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mcall s:hl('htmlh1',                       'punct',   '', '')[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m" yajs[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mhi! link javascriptimport keyword[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mhi! link javascriptexport keyword[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mcall s:hl('javascriptidentifier',         'proper',  '', '')[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mcall s:hl('javascriptidentifiername',     'proper',  '', '')[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mcall s:hl('javascriptobjectlabel',        'punct',   '', '')[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m" hi! link javascriptbraces delimiter[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m" hi! link typescriptbraces delimiter[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m" hi! link javascriptendcolons delimiter[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m" hi! link typescriptendcolons delimiter[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m"[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m" php[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mhi! link phpparent normal[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m" for pangloss's highlighting[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mhi! link jsstorageclass identifier[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mhi! link jsfunction function[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mhi! link jsfuncname identifier[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mhi! link jsfuncparens normal[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mhi! link noise identifier[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m" yaml[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m" css[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mhi! link cssvendor cssdefinition[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mcall s:hl("cssattrcomma",                 'punct',   '', '')[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m" --> plugins[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mcall s:hl('colibriaddsign',    'diff_green',  'sign_column')[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mcall s:hl('colibrichangesign', 'diff_change', 'sign_column')[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mcall s:hl('colibrideletesign', 'diff_red',    'sign_column')[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m" ale integration[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mcall s:hl('alewarningsign', 'warning', 'sign_column')[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mcall s:hl('aleerrorsign',   'error',   'sign_column')[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m" aleinfosign[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mhi! link syntasticerrorsign aleerrorsign[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mhi! link syntasticwarningsign alewarningsign[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m"vim-gitgutter[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mhi! link gitgutteradd colibriaddsign[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mhi! link gitgutterchange colibrichangesign[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mhi! link gitgutterdelete colibrideletesign[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mhi! link gitgutterchangedelete colibrichangesign[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m" vim-signify[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mhi! link signifyadd colibriaddsign[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mhi! link signifychange colibrichangesign[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mhi! link signifydelete colibrideletesign[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m" vi: foldmethod=marker[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m####################################[0m[48;2;255;224;224m[0K[0m
[38;2;51;51;51m# Color palette[0m

[38;2;51;51;51m# Standard[0m
[48;2;255;224;224mdeclare-option str background '[48;2;255;192;192mffffff[48;2;255;224;224m'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdeclare-option str foreground '[48;2;255;192;192m000000[48;2;255;224;224m'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdeclare-option str selection '[48;2;255;192;192ma5cdff[48;2;255;224;224m'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdeclare-option str cursor '[48;2;255;192;192m7f7f7f[48;2;255;224;224m'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdeclare-option str comment '[48;2;255;192;192mbfbfbf[48;2;255;224;224m'[0m[48;2;255;224;224m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdeclare-option str background '[48;2;160;239;160m3b224c[48;2;208;255;208m'[48;2;160;239;160m # midnight[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdeclare-option str foreground '[48;2;160;239;160ma4a0e8[48;2;208;255;208m'[48;2;160;239;160m # lavender[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdeclare-option str selection '[48;2;160;239;160m540099[48;2;208;255;208m'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdeclare-option str cursor '[48;2;160;239;160mffffff[48;2;208;255;208m'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdeclare-option str comment '[48;2;160;239;160m697c81[48;2;208;255;208m'[48;2;160;239;160m # sirocco[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdeclare-option str white 'ffffff'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdeclare-option str lilac 'dbbfef'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdeclare-option str lavender 'a4a0e8'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdeclare-option str comet '5a5977'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdeclare-option str bossanova '452859'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdeclare-option str midnight '3b224c'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdeclare-option str revolver '281733'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdeclare-option str silver 'cccccc'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdeclare-option str sirocco '697c81'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdeclare-option str mint '9ff28f'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdeclare-option str almond 'eccdba'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdeclare-option str chamois 'e8dca0'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdeclare-option str honey 'efba5d'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdeclare-option str apricot 'f47868'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdeclare-option str lightning 'ffcd1c'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdeclare-option str delta '6f44f0'[0m[48;2;208;255;208m[0K[0m

[38;2;51;51;51m# ANSI[0m
[38;2;51;51;51mdeclare-option str black '000000'[0m

[34m────────────────────────────────────────────[0m[34m┐[0m
[34m43[0m:[38;2;51;51;51m declare-option str bright_blue '0000ff' [0m[34m│[0m
[34m────────────────────────────────────────────[0m[34m┘[0m
[38;2;51;51;51mdeclare-option str bright_magenta 'e500e5'[0m
[38;2;51;51;51mdeclare-option str bright_cyan '00e5e5'[0m
[38;2;51;51;51mdeclare-option str bright_white 'e5e5e5'[0m
[48;2;208;255;208;38;2;51;51;51m###[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdeclare-option str red 'f22c86'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdeclare-option str green '35bf86'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdeclare-option str orange '6f44f0'[0m[48;2;208;255;208m[0K[0m

[38;2;51;51;51m# Alpha blending[0m
[38;2;51;51;51mdeclare-option str cursor_alpha '99'[0m

[34m──────────────────────────────────────────────────────[0m[34m┐[0m
[34m56[0m:[38;2;51;51;51m declare-option str selection_highlight_alpha '20' [0m[34m│[0m
[34m──────────────────────────────────────────────────────[0m[34m┘[0m
[38;2;51;51;51m# UI variants[0m
[38;2;51;51;51mdeclare-option str foreground_lighter '333333'[0m
[38;2;51;51;51mdeclare-option str foreground_light '1a1a1a'[0m
[48;2;255;224;224mdeclare-option str background_dark '[48;2;255;192;192me6e6e6[48;2;255;224;224m'[0m[48;2;255;224;224m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdeclare-option str background_dark '[48;2;160;239;160m281733[48;2;208;255;208m'[48;2;160;239;160m # revolver[0m[48;2;208;255;208m[0K[0m
[38;2;51;51;51mdeclare-option str background_darker 'cccccc'[0m

[38;2;51;51;51m# Other[0m
[48;2;255;224;224mdeclare-option str non_text "%opt{[48;2;255;192;192mbackground_darker[48;2;255;224;224m}"[0m[48;2;255;224;224m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdeclare-option str non_text "%opt{[48;2;160;239;160mcomet[48;2;208;255;208m}"[0m[48;2;208;255;208m[0K[0m

[38;2;51;51;51m# Template[0m
[38;2;51;51;51m# https://github.com/mawww/kakoune/blob/master/colors/default.kak[0m

[38;2;51;51;51m# For code[0m
[48;2;255;224;224mset-face global value "rgb:%opt{[48;2;255;192;192mred[48;2;255;224;224m}" # C++ ⇒ int number = [42];[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global type "rgb:%opt{[48;2;255;192;192myellow[48;2;255;224;224m}" # C++ ⇒ [int] main() { ... }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global variable "rgb:%opt{[48;2;255;192;192mcyan[48;2;255;224;224m}" # Makefile ⇒ [install]:[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global module "rgb:%opt{[48;2;255;192;192mgreen[48;2;255;224;224m}" # C++ ⇒ #include [<stdio.h>][0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global function "rgb:%opt{[48;2;255;192;192mmagenta[48;2;255;224;224m}" # https://spec.draculatheme.com#FunctionNames[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global string "rgb:%opt{[48;2;255;192;192mgreen[48;2;255;224;224m}" # https://spec.draculatheme.com#String[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global keyword "rgb:%opt{[48;2;255;192;192mblue[48;2;255;224;224m}" # https://spec.draculatheme.com#Keyword[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global operator "rgb:%opt{[48;2;255;192;192mforeground_lighter[48;2;255;224;224m}" # Shell ⇒ true [&&] false[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global attribute "rgb:%opt{[48;2;255;192;192mgreen[48;2;255;224;224m}" # C++ ⇒ [enum] Color { ... };[0m[48;2;255;224;224m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global value "rgb:%opt{[48;2;160;239;160mchamois[48;2;208;255;208m}" # C++ ⇒ int number = [42];[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global type "rgb:%opt{[48;2;160;239;160mwhite[48;2;208;255;208m}" # C++ ⇒ [int] main() { ... }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global variable "rgb:%opt{[48;2;160;239;160mlavender[48;2;208;255;208m}" # Makefile ⇒ [install]:[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global module "rgb:%opt{[48;2;160;239;160mlilac[48;2;208;255;208m}" # C++ ⇒ #include [<stdio.h>][0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global function "rgb:%opt{[48;2;160;239;160mwhite[48;2;208;255;208m}" # https://spec.draculatheme.com#FunctionNames[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global string "rgb:%opt{[48;2;160;239;160msilver[48;2;208;255;208m}" # https://spec.draculatheme.com#String[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global keyword "rgb:%opt{[48;2;160;239;160malmond[48;2;208;255;208m}" # https://spec.draculatheme.com#Keyword[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global operator "rgb:%opt{[48;2;160;239;160mlilac[48;2;208;255;208m}" # Shell ⇒ true [&&] false[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global attribute "rgb:%opt{[48;2;160;239;160mlilac[48;2;208;255;208m}" # C++ ⇒ [enum] Color { ... };[0m[48;2;208;255;208m[0K[0m
[38;2;51;51;51mset-face global comment "rgb:%opt{comment}" # https://spec.draculatheme.com#Comment[0m
[38;2;51;51;51mset-face global documentation comment # Rust ⇒ /// Returns `true`.[0m
[48;2;255;224;224mset-face global meta "rgb:%opt{[48;2;255;192;192mmagenta[48;2;255;224;224m}" # C++ ⇒ [#include] <stdio.h>[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global builtin "rgb:%opt{[48;2;255;192;192mmagenta[48;2;255;224;224m}" # https://spec.draculatheme.com#Support[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# set-face global builtin "rgb:%opt{cyan}+i" # https://spec.draculatheme.com#Support[0m[48;2;255;224;224m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global meta "rgb:%opt{[48;2;160;239;160mhoney[48;2;208;255;208m}" # C++ ⇒ [#include] <stdio.h>[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global builtin "rgb:%opt{[48;2;160;239;160mmint[48;2;208;255;208m}" # https://spec.draculatheme.com#Support[0m[48;2;208;255;208m[0K[0m

[38;2;51;51;51m# Diffs[0m
[38;2;51;51;51m# https://spec.draculatheme.com#sec-Diffs[0m

[34m─────────────────────────────────────────────────────────────────────────────────────[0m[34m┐[0m
[34m90[0m:[38;2;51;51;51m set-face global builtin "rgb:%opt{magenta}" # https://spec.draculatheme.com#Supp [0m[34m│[0m
[34m─────────────────────────────────────────────────────────────────────────────────────[0m[34m┘[0m

[38;2;51;51;51m# For markup[0m
[38;2;51;51;51mset-face global title "rgb:%opt{blue}+b" # AsciiDoc ⇒ = Document title — https://spec.draculatheme.com#MarkupHeading[0m
[48;2;255;224;224mset-face global header "rgb:%opt{[48;2;255;192;192mcyan[48;2;255;224;224m}+b" # AsciiDoc ⇒ == Section title — https://spec.draculatheme.com#MarkupHeading[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global mono "rgb:%opt{[48;2;255;192;192mgreen[48;2;255;224;224m}" # AsciiDoc ⇒ `code` — https://spec.draculatheme.com#MarkupInlineCode[0m[48;2;255;224;224m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global header "rgb:%opt{[48;2;160;239;160mlilac[48;2;208;255;208m}+b" # AsciiDoc ⇒ == Section title — https://spec.draculatheme.com#MarkupHeading[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global mono "rgb:%opt{[48;2;160;239;160malmond[48;2;208;255;208m}" # AsciiDoc ⇒ `code` — https://spec.draculatheme.com#MarkupInlineCode[0m[48;2;208;255;208m[0K[0m
[38;2;51;51;51mset-face global block "rgb:%opt{magenta}" # AsciiDoc ⇒ [----][code][----] — https://spec.draculatheme.com#MarkupCodeBlockWithoutSyntax[0m
[48;2;255;224;224mset-face global link "rgb:%opt{[48;2;255;192;192mcyan[48;2;255;224;224m}" # Markdown ⇒ <https://draculatheme.com> — https://spec.draculatheme.com#MarkupLinkUrl[0m[48;2;255;224;224m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global link "rgb:%opt{[48;2;160;239;160msilver[48;2;208;255;208m}" # Markdown ⇒ <https://draculatheme.com> — https://spec.draculatheme.com#MarkupLinkUrl[0m[48;2;208;255;208m[0K[0m
[38;2;51;51;51mset-face global bullet "rgb:%opt{cyan}" # https://spec.draculatheme.com#MarkupListBulletOrNumber[0m
[48;2;255;224;224m# yellow[0m[48;2;255;224;224m[0K[0m
[38;2;51;51;51mset-face global list default # AsciiDoc ⇒ - [item][0m

[38;2;51;51;51m# Builtin faces[0m

[34m──────────────────────────────────────────────────────────────────────────────────────[0m[34m┐[0m
[34m108[0m:[38;2;51;51;51m set-face global SecondaryCursorEol "rgb:%opt{background},rgb:%opt{foreground}+fg [0m[34m│[0m
[34m──────────────────────────────────────────────────────────────────────────────────────[0m[34m┘[0m
[38;2;51;51;51mset-face global MenuForeground "rgb:%opt{foreground},rgb:%opt{selection}" # https://github.com/dracula/visual-studio-code/blob/master/src/dracula.yml#:~:text=editorSuggestWidget.selectedBackground[0m
[38;2;51;51;51mset-face global MenuBackground "rgb:%opt{foreground},rgb:%opt{background_dark}" # https://github.com/dracula/visual-studio-code/blob/master/src/dracula.yml#:~:text=editorSuggestWidget.background[0m
[38;2;51;51;51mset-face global MenuInfo "rgb:%opt{comment}" # IntelliSense suggestions[0m
[48;2;255;224;224mset-face global Information "rgb:%opt{[48;2;255;192;192mforeground[48;2;255;224;224m},rgb:%opt{background_dark}" # Contextual help blends with the editor background.[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global Error "rgb:%opt{[48;2;255;192;192mred[48;2;255;224;224m},rgb:%opt{background_dark}" # https://spec.draculatheme.com#Invalid[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global DiagnosticError "rgb:%opt{[48;2;255;192;192mred[48;2;255;224;224m}" # https://github.com/dracula/visual-studio-code/blob/master/src/dracula.yml#:~:text=editorError.foreground[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global DiagnosticWarning "rgb:%opt{[48;2;255;192;192myellow[48;2;255;224;224m}" # https://github.com/dracula/visual-studio-code/blob/master/src/dracula.yml#:~:text=editorWarning.foreground[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global StatusLine "rgb:%opt{[48;2;255;192;192mforeground[48;2;255;224;224m},rgb:%opt{[48;2;255;192;192mbackground_dark[48;2;255;224;224m}" # Prefer background dark here — https://github.com/dracula/visual-studio-code/blob/master/src/dracula.yml#:~:text=statusBar.background[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global StatusLineMode "rgb:%opt{[48;2;255;192;192myellow[48;2;255;224;224m}" # [insert][0m[48;2;255;224;224m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global Information "rgb:%opt{[48;2;160;239;160mdelta[48;2;208;255;208m},rgb:%opt{background_dark}" # Contextual help blends with the editor background.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global Error "rgb:%opt{[48;2;160;239;160mapricot[48;2;208;255;208m},rgb:%opt{background_dark}" # https://spec.draculatheme.com#Invalid[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global DiagnosticError "rgb:%opt{[48;2;160;239;160mapricot[48;2;208;255;208m}[48;2;160;239;160m+c[48;2;208;255;208m" # https://github.com/dracula/visual-studio-code/blob/master/src/dracula.yml#:~:text=editorError.foreground[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global DiagnosticWarning "rgb:%opt{[48;2;160;239;160mlightning[48;2;208;255;208m}[48;2;160;239;160m+c[48;2;208;255;208m" # https://github.com/dracula/visual-studio-code/blob/master/src/dracula.yml#:~:text=editorWarning.foreground[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global StatusLine "rgb:%opt{[48;2;160;239;160mlilac[48;2;208;255;208m},rgb:%opt{[48;2;160;239;160mrevolver[48;2;208;255;208m}" # Prefer background dark here — https://github.com/dracula/visual-studio-code/blob/master/src/dracula.yml#:~:text=statusBar.background[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global StatusLineMode "rgb:%opt{[48;2;160;239;160msilver[48;2;208;255;208m}" # [insert][0m[48;2;208;255;208m[0K[0m
[38;2;51;51;51mset-face global StatusLineInfo "rgb:%opt{blue}" # 1 sel[0m
[38;2;51;51;51mset-face global StatusLineValue "rgb:%opt{green}" # 1 sel param=[42] reg=[y][0m
[38;2;51;51;51mset-face global StatusCursor "rgb:%opt{background},rgb:%opt{foreground}" # Cursor in command mode[0m

[34m────────────────────────────────────────────────────────────────────────────────────[0m[34m┐[0m
[34m122[0m:[38;2;51;51;51m set-face global BufferPadding "rgb:%opt{non_text}" # Kakoune ⇒ set-option glob [0m[34m│[0m
[34m────────────────────────────────────────────────────────────────────────────────────[0m[34m┘[0m

[38;2;51;51;51m# Builtin highlighter faces[0m
[38;2;51;51;51mset-face global LineNumbers "rgb:%opt{non_text}" # Kakoune ⇒ add-highlighter -override global/number-lines number-lines — Prefer non-text here — https://github.com/dracula/visual-studio-code/blob/master/src/dracula.yml#:~:text=editorLineNumber[0m
[48;2;255;224;224mset-face global LineNumberCursor "rgb:%opt{[48;2;255;192;192mforeground[48;2;255;224;224m}" # Kakoune ⇒ add-highlighter -override global/number-lines number-lines -hlcursor[0m[48;2;255;224;224m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global LineNumberCursor "rgb:%opt{[48;2;160;239;160mlilac[48;2;208;255;208m}" # Kakoune ⇒ add-highlighter -override global/number-lines number-lines -hlcursor[0m[48;2;208;255;208m[0K[0m
[38;2;51;51;51mset-face global LineNumbersWrapped "rgb:%opt{background}" # Kakoune ⇒ add-highlighter -override global/number-lines number-lines; add-highlighter -override global/wrap wrap[0m
[48;2;255;224;224mset-face global MatchingChar "[48;2;255;192;192mdefault[48;2;255;224;224m,[48;2;255;192;192mrgba[48;2;255;224;224m:[48;2;255;192;192m%opt{selection}%opt{selection_alpha}+u[48;2;255;224;224m" # Kakoune ⇒ add-highlighter -override global/show-matching show-matching — https://github.com/dracula/vim/blob/master/colors/dracula.vim#:~:text=MatchParen[0m[48;2;255;224;224m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global MatchingChar "[48;2;160;239;160mrgb:212121[48;2;208;255;208m,[48;2;160;239;160mrgb[48;2;208;255;208m:[48;2;160;239;160m6c6999[48;2;208;255;208m" # Kakoune ⇒ add-highlighter -override global/show-matching show-matching — https://github.com/dracula/vim/blob/master/colors/dracula.vim#:~:text=MatchParen[0m[48;2;208;255;208m[0K[0m
[38;2;51;51;51mset-face global Whitespace "rgb:%opt{non_text}+f" # Kakoune ⇒ add-highlighter -override global/show-whitespaces show-whitespaces[0m
[38;2;51;51;51mset-face global WrapMarker "rgb:%opt{non_text}" # Kakoune ⇒ add-highlighter -override global/wrap wrap -marker '↪'[0m

[38;2;51;51;51m# Custom faces[0m
[48;2;255;224;224mset-face global Search "rgb:%opt{[48;2;255;192;192mblack[48;2;255;224;224m},rgb:%opt{[48;2;255;192;192myellow[48;2;255;224;224m}"[0m[48;2;255;224;224m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global Search "rgb:%opt{[48;2;160;239;160mwhite[48;2;208;255;208m},rgb:%opt{[48;2;160;239;160mbossanova[48;2;208;255;208m}"[0m[48;2;208;255;208m[0K[0m
[38;2;51;51;51mset-face global SelectedText "default,rgba:%opt{selection}%opt{selection_highlight_alpha}"[0m

[33mcommit 8c859890fa78ad1a81b877d2d9637c828461dc93[m
Author: Mathieu Ablasou <taupiqueur.kanto@gmail.com>
Date:   2023-05-29 23:54:06 +0200

    2023-05-29 23:54:06


[34mremoved: .config/kak/colors/macos_dark.kak[0m
[34m────────────────────────────────────────────────────────────────────────────────[0m

[34m───[0m[34m┐[0m
[34m0[0m: [34m│[0m
[34m───[0m[34m┘[0m
[48;2;255;224;224m# Color palette[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Standard[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdeclare-option str background '171717'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdeclare-option str foreground 'ffffff'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdeclare-option str selection '314f78'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdeclare-option str cursor '8b8b8b'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdeclare-option str comment 'bfbfbf'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# ANSI[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdeclare-option str black '000000'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdeclare-option str red '990000'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdeclare-option str green '00a600'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdeclare-option str yellow '999900'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdeclare-option str blue '0000b2'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdeclare-option str magenta 'b200b2'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdeclare-option str cyan '00a6b2'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdeclare-option str white 'bfbfbf'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdeclare-option str bright_black '666666'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdeclare-option str bright_red 'e50000'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdeclare-option str bright_green '00d900'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdeclare-option str bright_yellow 'e5e500'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdeclare-option str bright_blue '0000ff'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdeclare-option str bright_magenta 'e500e5'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdeclare-option str bright_cyan '00e5e5'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdeclare-option str bright_white 'e5e5e5'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Alpha blending[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdeclare-option str cursor_alpha '99'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdeclare-option str selection_alpha '80'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdeclare-option str selection_highlight_alpha '20'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# UI variants[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdeclare-option str foreground_darker 'cccccc'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdeclare-option str foreground_dark 'e6e6e6'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdeclare-option str background_light '303030'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdeclare-option str background_lighter '4a4a4a'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Other[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdeclare-option str non_text "%opt{background_lighter}"[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Template[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# https://github.com/mawww/kakoune/blob/master/colors/default.kak[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# For code[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global value "rgb:%opt{red}" # C++ ⇒ int number = [42];[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global type "rgb:%opt{yellow}" # C++ ⇒ [int] main() { ... }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global variable "rgb:%opt{cyan}" # Makefile ⇒ [install]:[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global module "rgb:%opt{green}" # C++ ⇒ #include [<stdio.h>][0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global function "rgb:%opt{magenta}" # https://spec.draculatheme.com#FunctionNames[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global string "rgb:%opt{green}" # https://spec.draculatheme.com#String[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global keyword "rgb:%opt{blue}" # https://spec.draculatheme.com#Keyword[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global operator "rgb:%opt{foreground_darker}" # Shell ⇒ true [&&] false[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global attribute "rgb:%opt{green}" # C++ ⇒ [enum] Color { ... };[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global comment "rgb:%opt{comment}" # https://spec.draculatheme.com#Comment[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global documentation comment # Rust ⇒ /// Returns `true`.[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global meta "rgb:%opt{magenta}" # C++ ⇒ [#include] <stdio.h>[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global builtin "rgb:%opt{magenta}" # https://spec.draculatheme.com#Support[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# set-face global builtin "rgb:%opt{cyan}+i" # https://spec.draculatheme.com#Support[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Diffs[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# https://spec.draculatheme.com#sec-Diffs[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# set-face global DiffText "rgb:%opt{comment}"[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# set-face global DiffHeader "rgb:%opt{comment}"[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# set-face global DiffInserted "rgb:%opt{green},rgba:%opt{green}20" # https://github.com/dracula/visual-studio-code/blob/master/src/dracula.yml#:~:text=diffEditor.insertedTextBackground[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# set-face global DiffDeleted "rgb:%opt{red},rgba:%opt{red}50" # https://github.com/dracula/visual-studio-code/blob/master/src/dracula.yml#:~:text=diffEditor.removedTextBackground[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# set-face global DiffChanged "rgb:%opt{orange}"[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# For markup[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global title "rgb:%opt{blue}+b" # AsciiDoc ⇒ = Document title — https://spec.draculatheme.com#MarkupHeading[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global header "rgb:%opt{cyan}+b" # AsciiDoc ⇒ == Section title — https://spec.draculatheme.com#MarkupHeading[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global mono "rgb:%opt{green}" # AsciiDoc ⇒ `code` — https://spec.draculatheme.com#MarkupInlineCode[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global block "rgb:%opt{magenta}" # AsciiDoc ⇒ [----][code][----] — https://spec.draculatheme.com#MarkupCodeBlockWithoutSyntax[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global link "rgb:%opt{cyan}" # Markdown ⇒ <https://draculatheme.com> — https://spec.draculatheme.com#MarkupLinkUrl[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global bullet "rgb:%opt{cyan}" # https://spec.draculatheme.com#MarkupListBulletOrNumber[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# yellow[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global list default # AsciiDoc ⇒ - [item][0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Builtin faces[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global Default "rgb:%opt{foreground},rgb:%opt{background}" # Editor background[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global PrimarySelection "default,rgba:%opt{selection}%opt{selection_alpha}" # Pink (alpha-blended)[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global SecondarySelection "default,rgba:%opt{selection}%opt{selection_alpha}" # Purple (alpha-blended)[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global PrimaryCursor "default,rgba:%opt{cursor}%opt{cursor_alpha}" # Pink (alpha-blended)[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global SecondaryCursor "default,rgba:%opt{cursor}%opt{cursor_alpha}" # Purple (alpha-blended)[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global PrimaryCursorEol "rgb:%opt{background},rgb:%opt{foreground}+fg" # White (full block)[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global SecondaryCursorEol "rgb:%opt{background},rgb:%opt{foreground}+fg" # White (full block)[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global MenuForeground "rgb:%opt{foreground},rgb:%opt{selection}" # https://github.com/dracula/visual-studio-code/blob/master/src/dracula.yml#:~:text=editorSuggestWidget.selectedBackground[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global MenuBackground "rgb:%opt{foreground},rgb:%opt{background_light}" # https://github.com/dracula/visual-studio-code/blob/master/src/dracula.yml#:~:text=editorSuggestWidget.background[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global MenuInfo "rgb:%opt{comment}" # IntelliSense suggestions[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global Information "rgb:%opt{foreground},rgb:%opt{background_light}" # Contextual help blends with the editor background.[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global Error "rgb:%opt{red},rgb:%opt{background_light}" # https://spec.draculatheme.com#Invalid[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global DiagnosticError "rgb:%opt{red}" # https://github.com/dracula/visual-studio-code/blob/master/src/dracula.yml#:~:text=editorError.foreground[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global DiagnosticWarning "rgb:%opt{yellow}" # https://github.com/dracula/visual-studio-code/blob/master/src/dracula.yml#:~:text=editorWarning.foreground[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global StatusLine "rgb:%opt{foreground},rgb:%opt{background_light}" # Prefer background dark here — https://github.com/dracula/visual-studio-code/blob/master/src/dracula.yml#:~:text=statusBar.background[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global StatusLineMode "rgb:%opt{yellow}" # [insert][0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global StatusLineInfo "rgb:%opt{blue}" # 1 sel[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global StatusLineValue "rgb:%opt{green}" # 1 sel param=[42] reg=[y][0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global StatusCursor "rgb:%opt{background},rgb:%opt{foreground}" # Cursor in command mode[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global Prompt StatusLine # Same as the status line, since they live at the same place.[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global BufferPadding "rgb:%opt{non_text}" # Kakoune ⇒ set-option global ui_options terminal_padding_fill=yes[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Builtin highlighter faces[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global LineNumbers "rgb:%opt{non_text}" # Kakoune ⇒ add-highlighter -override global/number-lines number-lines — Prefer non-text here — https://github.com/dracula/visual-studio-code/blob/master/src/dracula.yml#:~:text=editorLineNumber[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global LineNumberCursor "rgb:%opt{foreground}" # Kakoune ⇒ add-highlighter -override global/number-lines number-lines -hlcursor[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global LineNumbersWrapped "rgb:%opt{background}" # Kakoune ⇒ add-highlighter -override global/number-lines number-lines; add-highlighter -override global/wrap wrap[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global MatchingChar "default,rgba:%opt{selection}%opt{selection_alpha}+u" # Kakoune ⇒ add-highlighter -override global/show-matching show-matching — https://github.com/dracula/vim/blob/master/colors/dracula.vim#:~:text=MatchParen[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global Whitespace "rgb:%opt{non_text}+f" # Kakoune ⇒ add-highlighter -override global/show-whitespaces show-whitespaces[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global WrapMarker "rgb:%opt{non_text}" # Kakoune ⇒ add-highlighter -override global/wrap wrap -marker '↪'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Custom faces[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global Search "rgb:%opt{black},rgb:%opt{yellow}"[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global SelectedText "default,rgba:%opt{selection}%opt{selection_highlight_alpha}"[0m[48;2;255;224;224m[0K[0m

[33mcommit 1fcaf3985131bcc4472b5a5f232603778beba319[m
Author: Mathieu Ablasou <taupiqueur.kanto@gmail.com>
Date:   2023-05-29 23:36:37 +0200

    2023-05-29 23:36:37


[34madded: .config/kak/colors/colibri.kak[0m
[34m────────────────────────────────────────────────────────────────────────────────[0m

[34m───[0m[34m┐[0m
[34m1[0m: [34m│[0m
[34m───[0m[34m┘[0m
[48;2;208;255;208;38;2;51;51;51m# Color palette[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Standard[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdeclare-option str background 'ffffff'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdeclare-option str foreground '000000'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdeclare-option str selection 'a5cdff'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdeclare-option str cursor '7f7f7f'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdeclare-option str comment 'bfbfbf'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# ANSI[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdeclare-option str black '000000'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdeclare-option str red '990000'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdeclare-option str green '00a600'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdeclare-option str yellow '999900'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdeclare-option str blue '0000b2'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdeclare-option str magenta 'b200b2'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdeclare-option str cyan '00a6b2'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdeclare-option str white 'bfbfbf'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdeclare-option str bright_black '666666'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdeclare-option str bright_red 'e50000'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdeclare-option str bright_green '00d900'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdeclare-option str bright_yellow 'e5e500'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdeclare-option str bright_blue '0000ff'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdeclare-option str bright_magenta 'e500e5'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdeclare-option str bright_cyan '00e5e5'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdeclare-option str bright_white 'e5e5e5'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Alpha blending[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdeclare-option str cursor_alpha '99'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdeclare-option str selection_alpha '80'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdeclare-option str selection_highlight_alpha '20'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# UI variants[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdeclare-option str foreground_lighter '333333'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdeclare-option str foreground_light '1a1a1a'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdeclare-option str background_dark 'e6e6e6'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdeclare-option str background_darker 'cccccc'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Other[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdeclare-option str non_text "%opt{background_darker}"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Template[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# https://github.com/mawww/kakoune/blob/master/colors/default.kak[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# For code[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global value "rgb:%opt{red}" # C++ ⇒ int number = [42];[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global type "rgb:%opt{yellow}" # C++ ⇒ [int] main() { ... }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global variable "rgb:%opt{cyan}" # Makefile ⇒ [install]:[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global module "rgb:%opt{green}" # C++ ⇒ #include [<stdio.h>][0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global function "rgb:%opt{magenta}" # https://spec.draculatheme.com#FunctionNames[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global string "rgb:%opt{green}" # https://spec.draculatheme.com#String[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global keyword "rgb:%opt{blue}" # https://spec.draculatheme.com#Keyword[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global operator "rgb:%opt{foreground_lighter}" # Shell ⇒ true [&&] false[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global attribute "rgb:%opt{green}" # C++ ⇒ [enum] Color { ... };[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global comment "rgb:%opt{comment}" # https://spec.draculatheme.com#Comment[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global documentation comment # Rust ⇒ /// Returns `true`.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global meta "rgb:%opt{magenta}" # C++ ⇒ [#include] <stdio.h>[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global builtin "rgb:%opt{magenta}" # https://spec.draculatheme.com#Support[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# set-face global builtin "rgb:%opt{cyan}+i" # https://spec.draculatheme.com#Support[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Diffs[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# https://spec.draculatheme.com#sec-Diffs[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# set-face global DiffText "rgb:%opt{comment}"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# set-face global DiffHeader "rgb:%opt{comment}"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# set-face global DiffInserted "rgb:%opt{green},rgba:%opt{green}20" # https://github.com/dracula/visual-studio-code/blob/master/src/dracula.yml#:~:text=diffEditor.insertedTextBackground[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# set-face global DiffDeleted "rgb:%opt{red},rgba:%opt{red}50" # https://github.com/dracula/visual-studio-code/blob/master/src/dracula.yml#:~:text=diffEditor.removedTextBackground[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# set-face global DiffChanged "rgb:%opt{orange}"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# For markup[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global title "rgb:%opt{blue}+b" # AsciiDoc ⇒ = Document title — https://spec.draculatheme.com#MarkupHeading[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global header "rgb:%opt{cyan}+b" # AsciiDoc ⇒ == Section title — https://spec.draculatheme.com#MarkupHeading[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global mono "rgb:%opt{green}" # AsciiDoc ⇒ `code` — https://spec.draculatheme.com#MarkupInlineCode[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global block "rgb:%opt{magenta}" # AsciiDoc ⇒ [----][code][----] — https://spec.draculatheme.com#MarkupCodeBlockWithoutSyntax[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global link "rgb:%opt{cyan}" # Markdown ⇒ <https://draculatheme.com> — https://spec.draculatheme.com#MarkupLinkUrl[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global bullet "rgb:%opt{cyan}" # https://spec.draculatheme.com#MarkupListBulletOrNumber[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# yellow[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global list default # AsciiDoc ⇒ - [item][0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Builtin faces[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global Default "rgb:%opt{foreground},rgb:%opt{background}" # Editor background[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global PrimarySelection "default,rgba:%opt{selection}%opt{selection_alpha}" # Pink (alpha-blended)[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global SecondarySelection "default,rgba:%opt{selection}%opt{selection_alpha}" # Purple (alpha-blended)[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global PrimaryCursor "default,rgba:%opt{cursor}%opt{cursor_alpha}" # Pink (alpha-blended)[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global SecondaryCursor "default,rgba:%opt{selection}%opt{cursor_alpha}" # Purple (alpha-blended)[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global PrimaryCursorEol "rgb:%opt{background},rgb:%opt{foreground}+fg" # White (full block)[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global SecondaryCursorEol "rgb:%opt{background},rgb:%opt{foreground}+fg" # White (full block)[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global MenuForeground "rgb:%opt{foreground},rgb:%opt{selection}" # https://github.com/dracula/visual-studio-code/blob/master/src/dracula.yml#:~:text=editorSuggestWidget.selectedBackground[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global MenuBackground "rgb:%opt{foreground},rgb:%opt{background_dark}" # https://github.com/dracula/visual-studio-code/blob/master/src/dracula.yml#:~:text=editorSuggestWidget.background[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global MenuInfo "rgb:%opt{comment}" # IntelliSense suggestions[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global Information "rgb:%opt{foreground},rgb:%opt{background_dark}" # Contextual help blends with the editor background.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global Error "rgb:%opt{red},rgb:%opt{background_dark}" # https://spec.draculatheme.com#Invalid[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global DiagnosticError "rgb:%opt{red}" # https://github.com/dracula/visual-studio-code/blob/master/src/dracula.yml#:~:text=editorError.foreground[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global DiagnosticWarning "rgb:%opt{yellow}" # https://github.com/dracula/visual-studio-code/blob/master/src/dracula.yml#:~:text=editorWarning.foreground[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global StatusLine "rgb:%opt{foreground},rgb:%opt{background_dark}" # Prefer background dark here — https://github.com/dracula/visual-studio-code/blob/master/src/dracula.yml#:~:text=statusBar.background[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global StatusLineMode "rgb:%opt{yellow}" # [insert][0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global StatusLineInfo "rgb:%opt{blue}" # 1 sel[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global StatusLineValue "rgb:%opt{green}" # 1 sel param=[42] reg=[y][0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global StatusCursor "rgb:%opt{background},rgb:%opt{foreground}" # Cursor in command mode[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global Prompt StatusLine # Same as the status line, since they live at the same place.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global BufferPadding "rgb:%opt{non_text}" # Kakoune ⇒ set-option global ui_options terminal_padding_fill=yes[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Builtin highlighter faces[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global LineNumbers "rgb:%opt{non_text}" # Kakoune ⇒ add-highlighter -override global/number-lines number-lines — Prefer non-text here — https://github.com/dracula/visual-studio-code/blob/master/src/dracula.yml#:~:text=editorLineNumber[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global LineNumberCursor "rgb:%opt{foreground}" # Kakoune ⇒ add-highlighter -override global/number-lines number-lines -hlcursor[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global LineNumbersWrapped "rgb:%opt{background}" # Kakoune ⇒ add-highlighter -override global/number-lines number-lines; add-highlighter -override global/wrap wrap[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global MatchingChar "default,rgba:%opt{selection}%opt{selection_alpha}+u" # Kakoune ⇒ add-highlighter -override global/show-matching show-matching — https://github.com/dracula/vim/blob/master/colors/dracula.vim#:~:text=MatchParen[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global Whitespace "rgb:%opt{non_text}+f" # Kakoune ⇒ add-highlighter -override global/show-whitespaces show-whitespaces[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global WrapMarker "rgb:%opt{non_text}" # Kakoune ⇒ add-highlighter -override global/wrap wrap -marker '↪'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Custom faces[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global Search "rgb:%opt{black},rgb:%opt{yellow}"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global SelectedText "default,rgba:%opt{selection}%opt{selection_highlight_alpha}"[0m[48;2;208;255;208m[0K[0m

[33mcommit 4ee757a68f65c6d18063abc81e7d3309b2f49452[m
Author: Mathieu Ablasou <taupiqueur.kanto@gmail.com>
Date:   2023-05-28 00:02:07 +0200

    2023-05-28 00:02:07


[34madded: .config/kak/colors/macos_dark.kak[0m
[34m────────────────────────────────────────────────────────────────────────────────[0m

[34m───[0m[34m┐[0m
[34m1[0m: [34m│[0m
[34m───[0m[34m┘[0m
[48;2;208;255;208;38;2;51;51;51m# Color palette[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Standard[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdeclare-option str background '171717'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdeclare-option str foreground 'ffffff'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdeclare-option str selection '314f78'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdeclare-option str cursor '8b8b8b'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdeclare-option str comment 'bfbfbf'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# ANSI[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdeclare-option str black '000000'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdeclare-option str red '990000'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdeclare-option str green '00a600'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdeclare-option str yellow '999900'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdeclare-option str blue '0000b2'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdeclare-option str magenta 'b200b2'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdeclare-option str cyan '00a6b2'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdeclare-option str white 'bfbfbf'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdeclare-option str bright_black '666666'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdeclare-option str bright_red 'e50000'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdeclare-option str bright_green '00d900'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdeclare-option str bright_yellow 'e5e500'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdeclare-option str bright_blue '0000ff'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdeclare-option str bright_magenta 'e500e5'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdeclare-option str bright_cyan '00e5e5'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdeclare-option str bright_white 'e5e5e5'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Alpha blending[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdeclare-option str cursor_alpha '99'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdeclare-option str selection_alpha '80'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdeclare-option str selection_highlight_alpha '20'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# UI variants[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdeclare-option str foreground_darker 'cccccc'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdeclare-option str foreground_dark 'e6e6e6'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdeclare-option str background_light '303030'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdeclare-option str background_lighter '4a4a4a'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Other[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdeclare-option str non_text "%opt{background_lighter}"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Template[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# https://github.com/mawww/kakoune/blob/master/colors/default.kak[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# For code[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global value "rgb:%opt{red}" # C++ ⇒ int number = [42];[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global type "rgb:%opt{yellow}" # C++ ⇒ [int] main() { ... }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global variable "rgb:%opt{cyan}" # Makefile ⇒ [install]:[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global module "rgb:%opt{green}" # C++ ⇒ #include [<stdio.h>][0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global function "rgb:%opt{magenta}" # https://spec.draculatheme.com#FunctionNames[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global string "rgb:%opt{green}" # https://spec.draculatheme.com#String[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global keyword "rgb:%opt{blue}" # https://spec.draculatheme.com#Keyword[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global operator "rgb:%opt{foreground_darker}" # Shell ⇒ true [&&] false[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global attribute "rgb:%opt{green}" # C++ ⇒ [enum] Color { ... };[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global comment "rgb:%opt{comment}" # https://spec.draculatheme.com#Comment[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global documentation comment # Rust ⇒ /// Returns `true`.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global meta "rgb:%opt{magenta}" # C++ ⇒ [#include] <stdio.h>[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global builtin "rgb:%opt{magenta}" # https://spec.draculatheme.com#Support[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# set-face global builtin "rgb:%opt{cyan}+i" # https://spec.draculatheme.com#Support[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Diffs[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# https://spec.draculatheme.com#sec-Diffs[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# set-face global DiffText "rgb:%opt{comment}"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# set-face global DiffHeader "rgb:%opt{comment}"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# set-face global DiffInserted "rgb:%opt{green},rgba:%opt{green}20" # https://github.com/dracula/visual-studio-code/blob/master/src/dracula.yml#:~:text=diffEditor.insertedTextBackground[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# set-face global DiffDeleted "rgb:%opt{red},rgba:%opt{red}50" # https://github.com/dracula/visual-studio-code/blob/master/src/dracula.yml#:~:text=diffEditor.removedTextBackground[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# set-face global DiffChanged "rgb:%opt{orange}"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# For markup[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global title "rgb:%opt{blue}+b" # AsciiDoc ⇒ = Document title — https://spec.draculatheme.com#MarkupHeading[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global header "rgb:%opt{cyan}+b" # AsciiDoc ⇒ == Section title — https://spec.draculatheme.com#MarkupHeading[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global mono "rgb:%opt{green}" # AsciiDoc ⇒ `code` — https://spec.draculatheme.com#MarkupInlineCode[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global block "rgb:%opt{magenta}" # AsciiDoc ⇒ [----][code][----] — https://spec.draculatheme.com#MarkupCodeBlockWithoutSyntax[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global link "rgb:%opt{cyan}" # Markdown ⇒ <https://draculatheme.com> — https://spec.draculatheme.com#MarkupLinkUrl[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global bullet "rgb:%opt{cyan}" # https://spec.draculatheme.com#MarkupListBulletOrNumber[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# yellow[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global list default # AsciiDoc ⇒ - [item][0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Builtin faces[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global Default "rgb:%opt{foreground},rgb:%opt{background}" # Editor background[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global PrimarySelection "default,rgba:%opt{selection}%opt{selection_alpha}" # Pink (alpha-blended)[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global SecondarySelection "default,rgba:%opt{selection}%opt{selection_alpha}" # Purple (alpha-blended)[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global PrimaryCursor "default,rgba:%opt{cursor}%opt{cursor_alpha}" # Pink (alpha-blended)[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global SecondaryCursor "default,rgba:%opt{cursor}%opt{cursor_alpha}" # Purple (alpha-blended)[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global PrimaryCursorEol "rgb:%opt{background},rgb:%opt{foreground}+fg" # White (full block)[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global SecondaryCursorEol "rgb:%opt{background},rgb:%opt{foreground}+fg" # White (full block)[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global MenuForeground "rgb:%opt{foreground},rgb:%opt{selection}" # https://github.com/dracula/visual-studio-code/blob/master/src/dracula.yml#:~:text=editorSuggestWidget.selectedBackground[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global MenuBackground "rgb:%opt{foreground},rgb:%opt{background_light}" # https://github.com/dracula/visual-studio-code/blob/master/src/dracula.yml#:~:text=editorSuggestWidget.background[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global MenuInfo "rgb:%opt{comment}" # IntelliSense suggestions[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global Information "rgb:%opt{foreground},rgb:%opt{background_light}" # Contextual help blends with the editor background.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global Error "rgb:%opt{red},rgb:%opt{background_light}" # https://spec.draculatheme.com#Invalid[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global DiagnosticError "rgb:%opt{red}" # https://github.com/dracula/visual-studio-code/blob/master/src/dracula.yml#:~:text=editorError.foreground[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global DiagnosticWarning "rgb:%opt{yellow}" # https://github.com/dracula/visual-studio-code/blob/master/src/dracula.yml#:~:text=editorWarning.foreground[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global StatusLine "rgb:%opt{foreground},rgb:%opt{background_light}" # Prefer background dark here — https://github.com/dracula/visual-studio-code/blob/master/src/dracula.yml#:~:text=statusBar.background[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global StatusLineMode "rgb:%opt{yellow}" # [insert][0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global StatusLineInfo "rgb:%opt{blue}" # 1 sel[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global StatusLineValue "rgb:%opt{green}" # 1 sel param=[42] reg=[y][0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global StatusCursor "rgb:%opt{background},rgb:%opt{foreground}" # Cursor in command mode[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global Prompt StatusLine # Same as the status line, since they live at the same place.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global BufferPadding "rgb:%opt{non_text}" # Kakoune ⇒ set-option global ui_options terminal_padding_fill=yes[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Builtin highlighter faces[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global LineNumbers "rgb:%opt{non_text}" # Kakoune ⇒ add-highlighter -override global/number-lines number-lines — Prefer non-text here — https://github.com/dracula/visual-studio-code/blob/master/src/dracula.yml#:~:text=editorLineNumber[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global LineNumberCursor "rgb:%opt{foreground}" # Kakoune ⇒ add-highlighter -override global/number-lines number-lines -hlcursor[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global LineNumbersWrapped "rgb:%opt{background}" # Kakoune ⇒ add-highlighter -override global/number-lines number-lines; add-highlighter -override global/wrap wrap[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global MatchingChar "default,rgba:%opt{selection}%opt{selection_alpha}+u" # Kakoune ⇒ add-highlighter -override global/show-matching show-matching — https://github.com/dracula/vim/blob/master/colors/dracula.vim#:~:text=MatchParen[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global Whitespace "rgb:%opt{non_text}+f" # Kakoune ⇒ add-highlighter -override global/show-whitespaces show-whitespaces[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global WrapMarker "rgb:%opt{non_text}" # Kakoune ⇒ add-highlighter -override global/wrap wrap -marker '↪'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Custom faces[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global Search "rgb:%opt{black},rgb:%opt{yellow}"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global SelectedText "default,rgba:%opt{selection}%opt{selection_highlight_alpha}"[0m[48;2;208;255;208m[0K[0m

[33mcommit 1f086cb9a2451aed1a58831672a1d288cc06fd34[m
Author: Mathieu Ablasou <taupiqueur.kanto@gmail.com>
Date:   2023-05-26 13:13:20 +0200

    2023-05-26 13:13:20


[34m.config/kak/colors/macos_light.kak[0m
[34m────────────────────────────────────────────────────────────────────────────────[0m

[34m───────────────────────────────────────────────────────────────────────────────────[0m[34m┐[0m
[34m110[0m:[38;2;51;51;51m set-face global Whitespace "rgb:%opt{non_text}+f" # Kakoune ⇒ add-highlighter [0m[34m│[0m
[34m───────────────────────────────────────────────────────────────────────────────────[0m[34m┘[0m
[38;2;51;51;51mset-face global WrapMarker "rgb:%opt{non_text}" # Kakoune ⇒ add-highlighter -override global/wrap wrap -marker '↪'[0m

[38;2;51;51;51m# Custom faces[0m
[48;2;255;224;224mset-face global Search "default,[48;2;255;192;192mrgba[48;2;255;224;224m:%opt{background_dark}[48;2;255;192;192m%opt{selection_highlight_alpha}[48;2;255;224;224m"[0m[48;2;255;224;224m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global Search "default,[48;2;160;239;160mrgb[48;2;208;255;208m:%opt{background_dark}"[0m[48;2;208;255;208m[0K[0m
[38;2;51;51;51mset-face global SelectedText "default,rgba:%opt{selection}%opt{selection_highlight_alpha}"[0m

[33mcommit e7344942c3920e7bee9b19d9efdce14f6b0b5a8c[m
Author: Mathieu Ablasou <taupiqueur.kanto@gmail.com>
Date:   2023-05-26 13:07:52 +0200

    2023-05-26 13:07:52


[34m.config/kak/colors/macos_light.kak[0m
[34m────────────────────────────────────────────────────────────────────────────────[0m

[34m────────────────────────────────────────────────────────────────────────────────────[0m[34m┐[0m
[34m108[0m:[38;2;51;51;51m set-face global LineNumbersWrapped "rgb:%opt{background}" # Kakoune ⇒ add-high [0m[34m│[0m
[34m────────────────────────────────────────────────────────────────────────────────────[0m[34m┘[0m
[38;2;51;51;51mset-face global MatchingChar "default,rgba:%opt{selection}%opt{selection_alpha}+u" # Kakoune ⇒ add-highlighter -override global/show-matching show-matching — https://github.com/dracula/vim/blob/master/colors/dracula.vim#:~:text=MatchParen[0m
[38;2;51;51;51mset-face global Whitespace "rgb:%opt{non_text}+f" # Kakoune ⇒ add-highlighter -override global/show-whitespaces show-whitespaces[0m
[38;2;51;51;51mset-face global WrapMarker "rgb:%opt{non_text}" # Kakoune ⇒ add-highlighter -override global/wrap wrap -marker '↪'[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Custom faces[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global Search "default,rgba:%opt{background_dark}%opt{selection_highlight_alpha}"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global SelectedText "default,rgba:%opt{selection}%opt{selection_highlight_alpha}"[0m[48;2;208;255;208m[0K[0m

[33mcommit 69f4a50a58dc2f815045ac6fa2e9bf52de96c16d[m
Author: Mathieu Ablasou <taupiqueur.kanto@gmail.com>
Date:   2023-05-23 22:20:56 +0200

    2023-05-23 22:20:56


[34m.config/kak/colors/macos_light.kak[0m
[34m────────────────────────────────────────────────────────────────────────────────[0m

[34m────────────────────────────────────────────────────────────────────────────────────[0m[34m┐[0m
[34m108[0m:[38;2;51;51;51m set-face global LineNumbersWrapped "rgb:%opt{background}" # Kakoune ⇒ add-high [0m[34m│[0m
[34m────────────────────────────────────────────────────────────────────────────────────[0m[34m┘[0m
[38;2;51;51;51mset-face global MatchingChar "default,rgba:%opt{selection}%opt{selection_alpha}+u" # Kakoune ⇒ add-highlighter -override global/show-matching show-matching — https://github.com/dracula/vim/blob/master/colors/dracula.vim#:~:text=MatchParen[0m
[38;2;51;51;51mset-face global Whitespace "rgb:%opt{non_text}+f" # Kakoune ⇒ add-highlighter -override global/show-whitespaces show-whitespaces[0m
[38;2;51;51;51mset-face global WrapMarker "rgb:%opt{non_text}" # Kakoune ⇒ add-highlighter -override global/wrap wrap -marker '↪'[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Custom faces[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global SelectedText "default,rgba:%opt{selection}%opt{selection_highlight_alpha}"[0m[48;2;255;224;224m[0K[0m

[33mcommit 3fc4869ccc929f33aab454057724e0c824ee643c[m
Author: Mathieu Ablasou <taupiqueur.kanto@gmail.com>
Date:   2023-05-14 22:03:31 +0200

    2023-05-14 22:03:30


[34m.config/foot/foot.ini[0m
[34m────────────────────────────────────────────────────────────────────────────────[0m

[34m───[0m[34m┐[0m
[34m3[0m: [34m│[0m
[34m───[0m[34m┘[0m
[38;2;150;152;150m# https://codeberg.org/dnkl/foot/src/branch/master/doc/foot.ini.5.scd[0m
[38;2;167;29;93minclude[38;2;51;51;51m=[38;2;24;54;145m~/.config/foot/colors/macos_light.ini[0m
[38;2;167;29;93mfont[38;2;51;51;51m=[38;2;24;54;145mJetBrains Mono:size=14[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;150;152;150m# Add a bit of transparency to reduce eye strain.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m[[38;2;121;93;163mcolors[38;2;51;51;51m][0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;167;29;93malpha[38;2;51;51;51m = [38;2;24;54;145m0.9[0m[48;2;208;255;208m[0K[0m

[33mcommit 51e0d908b26e207030dd6a6b7ba2f7d5755a8585[m
Author: Mathieu Ablasou <taupiqueur.kanto@gmail.com>
Date:   2023-05-11 23:37:27 +0200

    2023-05-11 23:37:27


[34m.bash_history[0m
[34m────────────────────────────────────────────────────────────────────────────────[0m

[34m───[0m[34m┐[0m
[34m1[0m: [34m│[0m
[34m───[0m[34m┘[0m
[38;2;51;51;51mgit clone https://github.com/ajeetdsouza/zoxide.git ~/.local/share/github.com/ajeetdsouza/zoxide[0m
[48;2;208;255;208;38;2;51;51;51mfoot --config=/dev/null -o colors.alpha=0.9[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51malacritty --config-file=/dev/null -o window.opacity=0.9[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51malacritty msg config window.opacity=0.9[0m[48;2;208;255;208m[0K[0m
[38;2;51;51;51mkak -s megumin -e 'rename-client chomusuke'[0m
[38;2;51;51;51mkak -c megumin[0m
[38;2;51;51;51mgit clone https://github.com/watzon/arg_parser.git ~/.local/share/github.com/watzon/arg_parser[0m

[33mcommit f0c9b678acf22df95832b5def55956b793e25aef[m
Author: Mathieu Ablasou <taupiqueur.kanto@gmail.com>
Date:   2023-05-01 14:50:18 +0200

    2023-05-01 14:50:18


[34m.config/kak/colors/macos_light.kak[0m
[34m────────────────────────────────────────────────────────────────────────────────[0m

[34m─────────────────────────────────────────────────────────────────────────────────────[0m[34m┐[0m
[34m89[0m:[38;2;51;51;51m set-face global SecondaryCursorEol "rgb:%opt{background},rgb:%opt{foreground}+fg [0m[34m│[0m
[34m─────────────────────────────────────────────────────────────────────────────────────[0m[34m┘[0m
[38;2;51;51;51mset-face global MenuForeground "rgb:%opt{foreground},rgb:%opt{selection}" # https://github.com/dracula/visual-studio-code/blob/master/src/dracula.yml#:~:text=editorSuggestWidget.selectedBackground[0m
[38;2;51;51;51mset-face global MenuBackground "rgb:%opt{foreground},rgb:%opt{background_dark}" # https://github.com/dracula/visual-studio-code/blob/master/src/dracula.yml#:~:text=editorSuggestWidget.background[0m
[38;2;51;51;51mset-face global MenuInfo "rgb:%opt{comment}" # IntelliSense suggestions[0m
[48;2;255;224;224mset-face global Information [48;2;255;192;192mDefault[48;2;255;224;224m # Contextual help blends with the editor background.[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global Error "rgb:%opt{[48;2;255;192;192mforeground[48;2;255;224;224m},rgb:%opt{[48;2;255;192;192mred[48;2;255;224;224m}" # https://spec.draculatheme.com#Invalid[0m[48;2;255;224;224m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global Information [48;2;160;239;160m"rgb:%opt{foreground},rgb:%opt{background_dark}"[48;2;208;255;208m # Contextual help blends with the editor background.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global Error "rgb:%opt{[48;2;160;239;160mred[48;2;208;255;208m},rgb:%opt{[48;2;160;239;160mbackground_dark[48;2;208;255;208m}" # https://spec.draculatheme.com#Invalid[0m[48;2;208;255;208m[0K[0m
[38;2;51;51;51mset-face global DiagnosticError "rgb:%opt{red}" # https://github.com/dracula/visual-studio-code/blob/master/src/dracula.yml#:~:text=editorError.foreground[0m
[38;2;51;51;51mset-face global DiagnosticWarning "rgb:%opt{yellow}" # https://github.com/dracula/visual-studio-code/blob/master/src/dracula.yml#:~:text=editorWarning.foreground[0m
[38;2;51;51;51mset-face global StatusLine "rgb:%opt{foreground},rgb:%opt{background_dark}" # Prefer background dark here — https://github.com/dracula/visual-studio-code/blob/master/src/dracula.yml#:~:text=statusBar.background[0m

[34m────────────────────────────────────────────────────────────────────────────────────[0m[34m┐[0m
[34m105[0m:[38;2;51;51;51m set-face global BufferPadding "rgb:%opt{non_text}" # Kakoune ⇒ set-option glob [0m[34m│[0m
[34m────────────────────────────────────────────────────────────────────────────────────[0m[34m┘[0m
[38;2;51;51;51mset-face global LineNumbers "rgb:%opt{non_text}" # Kakoune ⇒ add-highlighter -override global/number-lines number-lines — Prefer non-text here — https://github.com/dracula/visual-studio-code/blob/master/src/dracula.yml#:~:text=editorLineNumber[0m
[38;2;51;51;51mset-face global LineNumberCursor "rgb:%opt{foreground}" # Kakoune ⇒ add-highlighter -override global/number-lines number-lines -hlcursor[0m
[38;2;51;51;51mset-face global LineNumbersWrapped "rgb:%opt{background}" # Kakoune ⇒ add-highlighter -override global/number-lines number-lines; add-highlighter -override global/wrap wrap[0m
[48;2;255;224;224mset-face global MatchingChar "[48;2;255;192;192mrgb[48;2;255;224;224m:%opt{[48;2;255;192;192mgreen[48;2;255;224;224m}+[48;2;255;192;192muf[48;2;255;224;224m" # Kakoune ⇒ add-highlighter -override global/show-matching show-matching — https://github.com/dracula/vim/blob/master/colors/dracula.vim#:~:text=MatchParen[0m[48;2;255;224;224m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global MatchingChar "[48;2;160;239;160mdefault,rgba[48;2;208;255;208m:%opt{[48;2;160;239;160mselection}%opt{selection_alpha[48;2;208;255;208m}+[48;2;160;239;160mu[48;2;208;255;208m" # Kakoune ⇒ add-highlighter -override global/show-matching show-matching — https://github.com/dracula/vim/blob/master/colors/dracula.vim#:~:text=MatchParen[0m[48;2;208;255;208m[0K[0m
[38;2;51;51;51mset-face global Whitespace "rgb:%opt{non_text}+f" # Kakoune ⇒ add-highlighter -override global/show-whitespaces show-whitespaces[0m
[38;2;51;51;51mset-face global WrapMarker "rgb:%opt{non_text}" # Kakoune ⇒ add-highlighter -override global/wrap wrap -marker '↪'[0m


[33mcommit 69e14c777c2730851b07b2cd4a8445aca5d822b9[m
Author: Mathieu Ablasou <taupiqueur.kanto@gmail.com>
Date:   2023-04-27 23:52:45 +0200

    2023-04-27 23:52:45


[34m.config/kak/colors/macos_light.kak[0m
[34m────────────────────────────────────────────────────────────────────────────────[0m

[34m─────────────────────────────────────────────[0m[34m┐[0m
[34m54[0m:[38;2;51;51;51m declare-option str bright_white 'e5e5e5' [0m[34m│[0m
[34m─────────────────────────────────────────────[0m[34m┘[0m
[38;2;51;51;51m# Alpha blending[0m
[38;2;51;51;51mdeclare-option str cursor_alpha '99'[0m
[38;2;51;51;51mdeclare-option str selection_alpha '80'[0m
[48;2;208;255;208;38;2;51;51;51mdeclare-option str selection_highlight_alpha '20'[0m[48;2;208;255;208m[0K[0m

[38;2;51;51;51m# UI variants[0m
[38;2;51;51;51m# <https://github.com/dracula/visual-studio-code/blob/master/src/dracula.yml#:~:text=UI Variants>[0m

[34m────────────────────────────────────────────────────────────────────────────────────[0m[34m┐[0m
[34m136[0m:[38;2;51;51;51m set-face global LineNumbersWrapped "rgb:%opt{background}" # Kakoune ⇒ add-high [0m[34m│[0m
[34m────────────────────────────────────────────────────────────────────────────────────[0m[34m┘[0m
[38;2;51;51;51mset-face global MatchingChar "rgb:%opt{green}+uf" # Kakoune ⇒ add-highlighter -override global/show-matching show-matching — https://github.com/dracula/vim/blob/master/colors/dracula.vim#:~:text=MatchParen[0m
[38;2;51;51;51mset-face global Whitespace "rgb:%opt{non_text}+f" # Kakoune ⇒ add-highlighter -override global/show-whitespaces show-whitespaces[0m
[38;2;51;51;51mset-face global WrapMarker "rgb:%opt{non_text}" # Kakoune ⇒ add-highlighter -override global/wrap wrap -marker '↪'[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Custom faces[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global Whitespace "rgb:%opt{non_text}"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global SelectedText "default,rgba:%opt{selection}%opt{selection_highlight_alpha}"[0m[48;2;208;255;208m[0K[0m

[33mcommit a640a5bc636b1e79b5abfb2ce160db86ef835d24[m
Author: Mathieu Ablasou <taupiqueur.kanto@gmail.com>
Date:   2023-04-24 15:57:54 +0200

    2023-04-24 15:57:54


[34m.config/foot/foot.ini[0m
[34m────────────────────────────────────────────────────────────────────────────────[0m

[34m───[0m[34m┐[0m
[34m3[0m: [34m│[0m
[34m───[0m[34m┘[0m
[38;2;150;152;150m# https://codeberg.org/dnkl/foot/src/branch/master/doc/foot.ini.5.scd[0m
[38;2;167;29;93minclude[38;2;51;51;51m=[38;2;24;54;145m~/.config/foot/colors/macos.ini[0m
[38;2;167;29;93mfont[38;2;51;51;51m=[38;2;24;54;145mJetBrains Mono:size=14[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Add a bit of transparency to reduce eye strain.[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[colors][0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224malpha = 0.9[0m[48;2;255;224;224m[0K[0m

[33mcommit 3fbaee5429a9da6626ca58ee7da4f688adcfd68b[m
Author: Mathieu Ablasou <taupiqueur.kanto@gmail.com>
Date:   2023-04-22 19:56:22 +0200

    2023-04-22 19:56:22


[34madded: .config/kak/colors/colibri.kak[0m
[34m────────────────────────────────────────────────────────────────────────────────[0m

[34m───[0m[34m┐[0m
[34m1[0m: [34m│[0m
[34m───[0m[34m┘[0m
[48;2;208;255;208;38;2;51;51;51m# colibri[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# ~/.config/kak/colors/dracula.kak[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Dracula theme for Kakoune[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# https://draculatheme.com/kakoune[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m#[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Color palette[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# https://spec.draculatheme.com[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m#[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Template[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# https://github.com/mawww/kakoune/blob/master/colors/default.kak[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m#[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Faces[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# https://github.com/mawww/kakoune/blob/master/doc/pages/faces.asciidoc[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m#[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# A fully spec‐compliant theme implementation:[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# https://draculatheme.com/visual-studio-code[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# https://github.com/dracula/visual-studio-code/blob/master/src/dracula.yml[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m#[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# A list of files to open in Kakoune and VS Code:[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# C++ ⇒ https://github.com/mawww/kakoune/tree/master/src[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# AsciiDoc ⇒ https://github.com/mawww/kakoune/tree/master/doc[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Color palette ────────────────────────────────────────────────────────────────[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Standard[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdeclare-option str background '282a36'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdeclare-option str foreground 'f8f8f2'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdeclare-option str selection '44475a'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdeclare-option str comment '6272a4'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdeclare-option str red 'ff5555'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdeclare-option str orange 'ffb86c'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdeclare-option str yellow 'f1fa8c'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdeclare-option str green '50fa7b'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdeclare-option str purple 'bd93f9'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdeclare-option str cyan '8be9fd'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdeclare-option str pink 'ff79c6'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# ANSI[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdeclare-option str black '21222c'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdeclare-option str red 'ff5555'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdeclare-option str green '50fa7b'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdeclare-option str yellow 'f1fa8c'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdeclare-option str blue 'bd93f9'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdeclare-option str magenta 'ff79c6'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdeclare-option str cyan '8be9fd'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdeclare-option str white 'f8f8f2'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdeclare-option str bright_black '6272a4'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdeclare-option str bright_red 'ff6e6e'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdeclare-option str bright_green '69ff94'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdeclare-option str bright_yellow 'ffffa5'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdeclare-option str bright_blue 'd6acff'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdeclare-option str bright_magenta 'ff92df'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdeclare-option str bright_cyan 'a4ffff'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdeclare-option str bright_white 'ffffff'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Alpha blending[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdeclare-option str cursor_alpha '99'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdeclare-option str selection_alpha '80'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# UI variants[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# <https://github.com/dracula/visual-studio-code/blob/master/src/dracula.yml#:~:text=UI Variants>[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdeclare-option str background_lighter '424450'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdeclare-option str background_light '343746'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdeclare-option str background_dark '21222c'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdeclare-option str background_darker '191a21'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Other[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# https://github.com/dracula/visual-studio-code/blob/master/src/dracula.yml#:~:text=other[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdeclare-option str non_text "%opt{background_light}"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Template ─────────────────────────────────────────────────────────────────────[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# For code[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global value "rgb:%opt{purple}" # C++ ⇒ int number = [42];[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global type "rgb:%opt{pink}" # C++ ⇒ [int] main() { ... }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global variable "rgb:%opt{cyan}" # Makefile ⇒ [install]:[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global module "rgb:%opt{yellow}" # C++ ⇒ #include [<stdio.h>][0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global function "rgb:%opt{green}" # https://spec.draculatheme.com#FunctionNames[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global string "rgb:%opt{yellow}" # https://spec.draculatheme.com#String[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global keyword "rgb:%opt{pink}" # https://spec.draculatheme.com#Keyword[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global operator "rgb:%opt{pink}" # Shell ⇒ true [&&] false[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global attribute "rgb:%opt{pink}" # C++ ⇒ [enum] Color { ... };[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global comment "rgb:%opt{comment}" # https://spec.draculatheme.com#Comment[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global documentation comment # Rust ⇒ /// Returns `true`.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global meta "rgb:%opt{pink}" # C++ ⇒ [#include] <stdio.h>[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global builtin "rgb:%opt{cyan}+i" # https://spec.draculatheme.com#Support[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Diffs[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# https://spec.draculatheme.com#sec-Diffs[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global DiffText "rgb:%opt{comment}"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global DiffHeader "rgb:%opt{comment}"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global DiffInserted "rgb:%opt{green},rgba:%opt{green}20" # https://github.com/dracula/visual-studio-code/blob/master/src/dracula.yml#:~:text=diffEditor.insertedTextBackground[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global DiffDeleted "rgb:%opt{red},rgba:%opt{red}50" # https://github.com/dracula/visual-studio-code/blob/master/src/dracula.yml#:~:text=diffEditor.removedTextBackground[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global DiffChanged "rgb:%opt{orange}"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# For markup[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global title "rgb:%opt{purple}+b" # AsciiDoc ⇒ = Document title — https://spec.draculatheme.com#MarkupHeading[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global header "rgb:%opt{purple}+b" # AsciiDoc ⇒ == Section title — https://spec.draculatheme.com#MarkupHeading[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global mono "rgb:%opt{green}" # AsciiDoc ⇒ `code` — https://spec.draculatheme.com#MarkupInlineCode[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global block "rgb:%opt{orange}" # AsciiDoc ⇒ [----][code][----] — https://spec.draculatheme.com#MarkupCodeBlockWithoutSyntax[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global link "rgb:%opt{cyan}" # Markdown ⇒ <https://draculatheme.com> — https://spec.draculatheme.com#MarkupLinkUrl[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global bullet "rgb:%opt{cyan}" # https://spec.draculatheme.com#MarkupListBulletOrNumber[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global list "rgb:%opt{foreground}" # AsciiDoc ⇒ - [item][0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Builtin faces[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global Default "rgb:%opt{foreground},rgb:%opt{background}" # Editor background[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global PrimarySelection "default,rgba:%opt{pink}%opt{selection_alpha}" # Pink (alpha-blended)[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global SecondarySelection "default,rgba:%opt{purple}%opt{selection_alpha}" # Purple (alpha-blended)[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global PrimaryCursor "default,rgba:%opt{pink}%opt{cursor_alpha}" # Pink (alpha-blended)[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global SecondaryCursor "default,rgba:%opt{purple}%opt{cursor_alpha}" # Purple (alpha-blended)[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global PrimaryCursorEol "rgb:%opt{background},rgb:%opt{foreground}+fg" # White (full block)[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global SecondaryCursorEol "rgb:%opt{background},rgb:%opt{foreground}+fg" # White (full block)[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global MenuForeground "rgb:%opt{foreground},rgb:%opt{selection}" # https://github.com/dracula/visual-studio-code/blob/master/src/dracula.yml#:~:text=editorSuggestWidget.selectedBackground[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global MenuBackground "rgb:%opt{foreground},rgb:%opt{background_dark}" # https://github.com/dracula/visual-studio-code/blob/master/src/dracula.yml#:~:text=editorSuggestWidget.background[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global MenuInfo "rgb:%opt{comment}" # IntelliSense suggestions[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global Information Default # Contextual help blends with the editor background.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global Error "rgb:%opt{foreground},rgb:%opt{red}" # https://spec.draculatheme.com#Invalid[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global DiagnosticError "rgb:%opt{red}" # https://github.com/dracula/visual-studio-code/blob/master/src/dracula.yml#:~:text=editorError.foreground[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global DiagnosticWarning "rgb:%opt{cyan}" # https://github.com/dracula/visual-studio-code/blob/master/src/dracula.yml#:~:text=editorWarning.foreground[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global StatusLine "rgb:%opt{foreground},rgb:%opt{background_dark}" # Prefer background dark here — https://github.com/dracula/visual-studio-code/blob/master/src/dracula.yml#:~:text=statusBar.background[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global StatusLineMode "rgb:%opt{green}" # [insert][0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global StatusLineInfo "rgb:%opt{purple}" # 1 sel[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global StatusLineValue "rgb:%opt{green}" # 1 sel param=[42] reg=[y][0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global StatusCursor "rgb:%opt{background},rgb:%opt{foreground}" # Cursor in command mode[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global Prompt StatusLine # Same as the status line, since they live at the same place.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global BufferPadding "rgb:%opt{non_text}" # Kakoune ⇒ set-option global ui_options terminal_padding_fill=yes[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Builtin highlighter faces[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global LineNumbers "rgb:%opt{non_text}" # Kakoune ⇒ add-highlighter -override global/number-lines number-lines — Prefer non-text here — https://github.com/dracula/visual-studio-code/blob/master/src/dracula.yml#:~:text=editorLineNumber[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global LineNumberCursor "rgb:%opt{foreground}" # Kakoune ⇒ add-highlighter -override global/number-lines number-lines -hlcursor[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global LineNumbersWrapped "rgb:%opt{background}" # Kakoune ⇒ add-highlighter -override global/number-lines number-lines; add-highlighter -override global/wrap wrap[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global MatchingChar "rgb:%opt{green}+uf" # Kakoune ⇒ add-highlighter -override global/show-matching show-matching — https://github.com/dracula/vim/blob/master/colors/dracula.vim#:~:text=MatchParen[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global Whitespace "rgb:%opt{non_text}+f" # Kakoune ⇒ add-highlighter -override global/show-whitespaces show-whitespaces[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global WrapMarker "rgb:%opt{non_text}" # Kakoune ⇒ add-highlighter -override global/wrap wrap -marker '↪'[0m[48;2;208;255;208m[0K[0m

[34m.config/kak/kakrc[0m
[34m────────────────────────────────────────────────────────────────────────────────[0m

[34m────────────────────────────────────────────────────────[0m[34m┐[0m
[34m3709[0m:[38;2;51;51;51m define-command -hidden yaml-indent-on-new-line %{ [0m[34m│[0m
[34m────────────────────────────────────────────────────────[0m[34m┘[0m

[38;2;51;51;51m}[0m
[38;2;51;51;51m# ~/.config/kak/colors/dracula.kak[0m
[48;2;255;224;224m# Dracula theme for Kakoune[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# https://draculatheme.com/kakoune[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m#[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Color palette[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# https://spec.draculatheme.com[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m#[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Template[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# https://github.com/mawww/kakoune/blob/master/colors/default.kak[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m#[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Faces[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# https://github.com/mawww/kakoune/blob/master/doc/pages/faces.asciidoc[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m#[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# A fully spec‐compliant theme implementation:[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# https://draculatheme.com/visual-studio-code[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# https://github.com/dracula/visual-studio-code/blob/master/src/dracula.yml[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m#[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# A list of files to open in Kakoune and VS Code:[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# C++ ⇒ https://github.com/mawww/kakoune/tree/master/src[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# AsciiDoc ⇒ https://github.com/mawww/kakoune/tree/master/doc[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Color palette ────────────────────────────────────────────────────────────────[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Standard[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdeclare-option str background '282a36'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdeclare-option str foreground 'f8f8f2'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdeclare-option str selection '44475a'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdeclare-option str comment '6272a4'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdeclare-option str red 'ff5555'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdeclare-option str orange 'ffb86c'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdeclare-option str yellow 'f1fa8c'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdeclare-option str green '50fa7b'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdeclare-option str purple 'bd93f9'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdeclare-option str cyan '8be9fd'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdeclare-option str pink 'ff79c6'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# ANSI[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdeclare-option str black '21222c'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdeclare-option str red 'ff5555'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdeclare-option str green '50fa7b'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdeclare-option str yellow 'f1fa8c'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdeclare-option str blue 'bd93f9'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdeclare-option str magenta 'ff79c6'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdeclare-option str cyan '8be9fd'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdeclare-option str white 'f8f8f2'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdeclare-option str bright_black '6272a4'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdeclare-option str bright_red 'ff6e6e'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdeclare-option str bright_green '69ff94'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdeclare-option str bright_yellow 'ffffa5'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdeclare-option str bright_blue 'd6acff'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdeclare-option str bright_magenta 'ff92df'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdeclare-option str bright_cyan 'a4ffff'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdeclare-option str bright_white 'ffffff'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Alpha blending[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdeclare-option str cursor_alpha '99'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdeclare-option str selection_alpha '80'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# UI variants[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# <https://github.com/dracula/visual-studio-code/blob/master/src/dracula.yml#:~:text=UI Variants>[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdeclare-option str background_lighter '424450'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdeclare-option str background_light '343746'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdeclare-option str background_dark '21222c'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdeclare-option str background_darker '191a21'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Other[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# https://github.com/dracula/visual-studio-code/blob/master/src/dracula.yml#:~:text=other[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdeclare-option str non_text "%opt{background_light}"[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Template ─────────────────────────────────────────────────────────────────────[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# For code[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global value "rgb:%opt{purple}" # C++ ⇒ int number = [42];[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global type "rgb:%opt{pink}" # C++ ⇒ [int] main() { ... }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global variable "rgb:%opt{cyan}" # Makefile ⇒ [install]:[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global module "rgb:%opt{yellow}" # C++ ⇒ #include [<stdio.h>][0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global function "rgb:%opt{green}" # https://spec.draculatheme.com#FunctionNames[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global string "rgb:%opt{yellow}" # https://spec.draculatheme.com#String[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global keyword "rgb:%opt{pink}" # https://spec.draculatheme.com#Keyword[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global operator "rgb:%opt{pink}" # Shell ⇒ true [&&] false[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global attribute "rgb:%opt{pink}" # C++ ⇒ [enum] Color { ... };[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global comment "rgb:%opt{comment}" # https://spec.draculatheme.com#Comment[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global documentation comment # Rust ⇒ /// Returns `true`.[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global meta "rgb:%opt{pink}" # C++ ⇒ [#include] <stdio.h>[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global builtin "rgb:%opt{cyan}+i" # https://spec.draculatheme.com#Support[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Diffs[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# https://spec.draculatheme.com#sec-Diffs[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global DiffText "rgb:%opt{comment}"[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global DiffHeader "rgb:%opt{comment}"[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global DiffInserted "rgb:%opt{green},rgba:%opt{green}20" # https://github.com/dracula/visual-studio-code/blob/master/src/dracula.yml#:~:text=diffEditor.insertedTextBackground[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global DiffDeleted "rgb:%opt{red},rgba:%opt{red}50" # https://github.com/dracula/visual-studio-code/blob/master/src/dracula.yml#:~:text=diffEditor.removedTextBackground[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global DiffChanged "rgb:%opt{orange}"[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# For markup[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global title "rgb:%opt{purple}+b" # AsciiDoc ⇒ = Document title — https://spec.draculatheme.com#MarkupHeading[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global header "rgb:%opt{purple}+b" # AsciiDoc ⇒ == Section title — https://spec.draculatheme.com#MarkupHeading[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global mono "rgb:%opt{green}" # AsciiDoc ⇒ `code` — https://spec.draculatheme.com#MarkupInlineCode[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global block "rgb:%opt{orange}" # AsciiDoc ⇒ [----][code][----] — https://spec.draculatheme.com#MarkupCodeBlockWithoutSyntax[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global link "rgb:%opt{cyan}" # Markdown ⇒ <https://draculatheme.com> — https://spec.draculatheme.com#MarkupLinkUrl[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global bullet "rgb:%opt{cyan}" # https://spec.draculatheme.com#MarkupListBulletOrNumber[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global list "rgb:%opt{foreground}" # AsciiDoc ⇒ - [item][0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Builtin faces[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global Default "rgb:%opt{foreground},rgb:%opt{background}" # Editor background[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global PrimarySelection "default,rgba:%opt{pink}%opt{selection_alpha}" # Pink (alpha-blended)[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global SecondarySelection "default,rgba:%opt{purple}%opt{selection_alpha}" # Purple (alpha-blended)[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global PrimaryCursor "default,rgba:%opt{pink}%opt{cursor_alpha}" # Pink (alpha-blended)[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global SecondaryCursor "default,rgba:%opt{purple}%opt{cursor_alpha}" # Purple (alpha-blended)[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global PrimaryCursorEol "rgb:%opt{background},rgb:%opt{foreground}+fg" # White (full block)[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global SecondaryCursorEol "rgb:%opt{background},rgb:%opt{foreground}+fg" # White (full block)[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global MenuForeground "rgb:%opt{foreground},rgb:%opt{selection}" # https://github.com/dracula/visual-studio-code/blob/master/src/dracula.yml#:~:text=editorSuggestWidget.selectedBackground[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global MenuBackground "rgb:%opt{foreground},rgb:%opt{background_dark}" # https://github.com/dracula/visual-studio-code/blob/master/src/dracula.yml#:~:text=editorSuggestWidget.background[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global MenuInfo "rgb:%opt{comment}" # IntelliSense suggestions[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global Information Default # Contextual help blends with the editor background.[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global Error "rgb:%opt{foreground},rgb:%opt{red}" # https://spec.draculatheme.com#Invalid[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global DiagnosticError "rgb:%opt{red}" # https://github.com/dracula/visual-studio-code/blob/master/src/dracula.yml#:~:text=editorError.foreground[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global DiagnosticWarning "rgb:%opt{cyan}" # https://github.com/dracula/visual-studio-code/blob/master/src/dracula.yml#:~:text=editorWarning.foreground[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global StatusLine "rgb:%opt{foreground},rgb:%opt{background_dark}" # Prefer background dark here — https://github.com/dracula/visual-studio-code/blob/master/src/dracula.yml#:~:text=statusBar.background[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global StatusLineMode "rgb:%opt{green}" # [insert][0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global StatusLineInfo "rgb:%opt{purple}" # 1 sel[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global StatusLineValue "rgb:%opt{green}" # 1 sel param=[42] reg=[y][0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global StatusCursor "rgb:%opt{background},rgb:%opt{foreground}" # Cursor in command mode[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global Prompt StatusLine # Same as the status line, since they live at the same place.[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global BufferPadding "rgb:%opt{non_text}" # Kakoune ⇒ set-option global ui_options terminal_padding_fill=yes[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Builtin highlighter faces[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global LineNumbers "rgb:%opt{non_text}" # Kakoune ⇒ add-highlighter -override global/number-lines number-lines — Prefer non-text here — https://github.com/dracula/visual-studio-code/blob/master/src/dracula.yml#:~:text=editorLineNumber[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global LineNumberCursor "rgb:%opt{foreground}" # Kakoune ⇒ add-highlighter -override global/number-lines number-lines -hlcursor[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global LineNumbersWrapped "rgb:%opt{background}" # Kakoune ⇒ add-highlighter -override global/number-lines number-lines; add-highlighter -override global/wrap wrap[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global MatchingChar "rgb:%opt{green}+uf" # Kakoune ⇒ add-highlighter -override global/show-matching show-matching — https://github.com/dracula/vim/blob/master/colors/dracula.vim#:~:text=MatchParen[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global Whitespace "rgb:%opt{non_text}+f" # Kakoune ⇒ add-highlighter -override global/show-whitespaces show-whitespaces[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global WrapMarker "rgb:%opt{non_text}" # Kakoune ⇒ add-highlighter -override global/wrap wrap -marker '↪'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# ~/.config/kak/colors/dracula.kak[0m[48;2;255;224;224m[0K[0m
[38;2;51;51;51m##[0m
[38;2;51;51;51m## base16.kak by lenormf[0m
[38;2;51;51;51m##[0m

[33mcommit 6f3fca35f358f656aee2e577dc9befb143321b42[m
Author: Mathieu Ablasou <taupiqueur.kanto@gmail.com>
Date:   2023-04-15 13:30:23 +0200

    2023-04-15 13:30:23


[34madded: .config/kak/kakrc[0m
[34m────────────────────────────────────────────────────────────────────────────────[0m

[34m───[0m[34m┐[0m
[34m1[0m: [34m│[0m
[34m───[0m[34m┘[0m
[48;2;208;255;208;38;2;51;51;51m# Kakoune[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# https://kakoune.org[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# https://github.com/mawww/kakoune[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m#[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Configuration:[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m#[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# https://github.com/Delapouite/dot-in-the-sky/blob/master/.config/kak/kakrc[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# https://github.com/mawww/config/blob/master/kakrc[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# https://github.com/occivink/config/blob/master/.config/kak/kakrc[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# https://github.com/topisani/dotfiles/blob/master/config/kak/kakrc[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# https://gitlab.com/vbauerster/dotfiles/-/blob/master/.config/kak/kakrc[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Preamble ---------------------------------------------------------------------[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdefine-command -override colorscheme -params 1 -docstring 'load color scheme' %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  source "%val{config}/colors/%arg{1}.kak"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mevaluate-commands %sh{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  find -L "$kak_config/autoload" -type f -name '*.kak' -exec printf 'source "%s";' {} +[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# source "%val{config}/kakrc"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# source ~/.kakrc[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Preamble ---------------------------------------------------------------------[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mremove-hooks global config[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mtry %sh{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  kak-lsp --kakoune --session "$kak_session"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  kak-test --print-kakoune-init[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Options ----------------------------------------------------------------------[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# UI options[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-option global startup_info_version 20221231[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-option global ui_options terminal_set_title=no terminal_assistant=none[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Matching pairs[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-option global matching_pairs ( ) { } [ ] < > “ ” ‘ ’ « » ‹ ›[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-option global scrolloff 5,1[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter -override global/show-matching show-matching[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter -override global/number-lines number-lines -hlcursor[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Status line[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-option global modelinefmt '%val{bufname} %val{cursor_line}:%val{cursor_char_column} {{context_info}} {{mode_info}} - %val{client}@%val{session}'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Color scheme: One light (https://git.sr.ht/~raiguard/one.kak)[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51msource "%val{runtime}/colors/default.kak"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# colorscheme one-light[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Custom faces[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# set-face global Whitespace "rgb:%opt{bg}+f"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# set-face global SelectedText "rgb:%opt{blue}+f"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# System clipboard[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# set-option global clipboard_copy_command 'pbcopy'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# set-option global clipboard_copy_args[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Highlight whitespace[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# add-highlighter -override global/whitespace ref whitespace[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Highlight various characters[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# https://unicode-table.com[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter -override global/U+2013 regex '–' '0:green+f'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter -override global/U+2014 regex '—' '0:green+bf'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter -override global/math-symbols regex '[−×]' '0:cyan+f'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Mappings ---------------------------------------------------------------------[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Text objects[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Quotation marks[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mmap -docstring 'double quotation mark' global object <a-Q> 'c“,”<ret>'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mmap -docstring 'single quotation mark' global object <a-q> 'c‘,’<ret>'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mmap -docstring 'double angle quotation mark' global object <a-G> 'c«,»<ret>'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mmap -docstring 'single angle quotation mark' global object <a-g> 'c‹,›<ret>'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Tag[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mmap -docstring 'tag' global object t 'c<lt>.+?<gt>,<lt>/.+?<gt><ret>'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Line[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mmap -docstring 'line' global object x '<esc>x_'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mmap -docstring 'yank joined selections into system clipboard' global user y ': yank_terminal_clipboard<ret>'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mmap global normal <ret> ':'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mmap global normal f '<a-:>F'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mmap global normal F '<a-:><a-;><a-F>'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mmap global normal t '<a-:>T'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mmap global normal T '<a-:><a-;><a-T>'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# map global normal / '<a-:>?'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# map global normal ? '<a-:><a-;><a-?>'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# map global normal n '<a-:>?<ret>'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# map global normal N '<a-:><a-;><a-?><ret>'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mmap global normal x ': select-or-extend-lines<ret>'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mmap global normal X 'x<a-:><a-;>'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mmap global normal v '<a-i>'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mmap global normal V '<a-a>'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mmap global normal { '<a-:><a-;>{p'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mmap global normal } '<a-:>}p'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdefine-command select-or-extend-lines %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  execute-keys '<a-:>'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  try %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    # At least one selection is not full, so select whole lines.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    execute-keys -draft '<a-K>\A^.*\n\z<ret>'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    execute-keys 'x'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  } catch %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    execute-keys 'Jx'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Normal mode ------------------------------------------------------------------[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Hot reloading[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# map -docstring 'reload kakrc' global user <F5> ': source "%val{runtime}/kakrc"; echo reloaded kakrc<ret>'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Enter command mode[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mmap -docstring 'enter command' global normal <ret> :[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Re-center view[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# map -docstring 'scroll to put the cursor on the top line of the window' global user , vtvm[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Editing[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# map -docstring 'save file' global normal <c-s> ': write; echo -markup ''{Information}file saved''<ret>'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# map -docstring 'close client' global normal <c-q> ': quit<ret>'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# map -docstring 'close buffer' global normal <c-w> ': delete-buffer; echo -markup ''{Information}buffer closed''<ret>'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Navigation[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# map -docstring 'scroll one page up' global normal <pageup> ,<pageup>[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# map -docstring 'scroll one page down' global normal <pagedown> ,<pagedown>[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# map -docstring 'move to previous paragraph' global normal [ ,gh[pgi[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# map -docstring 'move to next paragraph' global normal ] ,]plgi[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Selection primitives[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mmap -docstring 'select inner object' global normal v <a-i>[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mmap -docstring 'select whole object' global normal V <a-a>[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mmap -docstring 'enter surround mode' global normal q ': enter-surround-mode<ret>'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mmap -docstring 'enter select mode' global normal s ': enter-select-mode<ret>'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# User mode --------------------------------------------------------------------[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# LSP[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# map -docstring 'lsp' global user l ': enter-user-mode lsp<ret>'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# map -docstring 'open document symbol picker' global user s ': enter-user-mode lsp<ret>s'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# map -docstring 'open workspace symbol picker' global user S ': enter-user-mode lsp<ret>o'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Formatting and parsing date-time[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mmap -docstring 'format date to 2006-01-02' global user d '| date -d "$kak_selection" ''+%F''<ret>'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mmap -docstring 'format date to 2006-01-02 Mon' global user D '| date -d "$kak_selection" ''+%F %a''<ret>'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Show the Unicode value under the cursor.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mmap -docstring 'Unicode' global user u ': echo -markup "{Information}U+%sh{printf ''%04x'' ""$kak_cursor_char_value""}"<ret>'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Add search flags[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mmap global prompt <a-i> '<home>(?i)<end>'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mmap global prompt <a-o> '<home>(?S)<end>'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Goto mode --------------------------------------------------------------------[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mmap -docstring 'file' global goto f '<a-;>: open-file-picker<ret>'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdefine-command -override open-file-picker -docstring 'open-file-picker: Opens file picker.' %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  prompt -menu file: -shell-script-candidates 'fd -H --type file' %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    edit %val{text}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mmap -docstring 'buffer' global goto b '<a-;>: open-buffer-picker<ret>'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdefine-command -override open-buffer-picker -docstring 'open-buffer-picker: Opens buffer picker.' %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  prompt -menu buffer: -buffer-completion %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    buffer %val{text}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mmap -docstring 'global search' global goto / '<a-;>: open-global-search-picker<ret>'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/grep regex '^(.+?):(\d+):(\d+):(.+?)$' 1:string 2:value 3:value[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mhook -group grep-highlight global BufSetOption filetype=grep %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  add-highlighter buffer/grep ref grep[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  map buffer normal <ret> ': grep_jump<ret>'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  hook -always -once buffer BufSetOption 'filetype=.*' %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    remove-highlighter buffer/grep[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdefine-command -hidden grep_jump %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  evaluate-commands -draft %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    execute-keys ',;xs^(.+?):(\d+):(\d+):(.+?)$<ret>'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    evaluate-commands -client %val{client} -- edit -existing %reg{1} %reg{2} %reg{3}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdefine-command fifo -params .. %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  reg d %sh{mktemp -d}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  reg f "%reg{d}/fifo"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  nop %sh{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    mkfifo "$kak_reg_f"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    { "$@" > "$kak_reg_f"; } < /dev/null > /dev/null 2>&1 &[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  edit! -fifo %reg{f} '[fifo]'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  hook -always -once buffer BufCloseFifo '' "nop %%sh{ echo rm -Rf ""%reg{d}"" >> ~/t.txt }"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mcomplete-command fifo shell[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdeclare-option str grep_command rg[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdeclare-option str-list grep_args --hidden --column --with-filename[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdefine-command -override open-global-search-picker -docstring 'open-global-search-picker: Opens global search picker.' %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  # Provides word completion[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  prompt grep: -shell-script-candidates %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    echo "write '$kak_response_fifo'" > "$kak_command_fifo"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    cat "$kak_response_fifo" | kak -f 's[\w-]{4,}<ret>y%<a-R>a<ret>'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  } %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    fifo rg --hidden --column --with-filename %val{text}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    rename-buffer "%arg{@}.refs"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    set-option buffer filetype grep[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Vim-like unimpaired mappings[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdeclare-user-mode unimpaired_left[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdeclare-user-mode unimpaired_right[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mmap -docstring 'unimpaired_left' global user '[' ': enter-user-mode unimpaired_left<ret>'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mmap -docstring 'unimpaired_right' global user ']' ': enter-user-mode unimpaired_right<ret>'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mmap -docstring 'read-only' global unimpaired_left r ': set-option buffer readonly yes<ret>'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mmap -docstring 'read-only' global unimpaired_right r ': set-option buffer readonly no<ret>'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mmap -docstring 'whitespace' global unimpaired_left w ': remove-highlighter global/whitespace<ret>'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mmap -docstring 'whitespace' global unimpaired_right w ': add-highlighter global/whitespace show-whitespaces<ret>'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mmap -docstring 'rulers' global unimpaired_left r ': remove-highlighter global/rulers<ret>'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mmap -docstring 'rulers' global unimpaired_right r ': add-highlighter global/rulers column 81 default,cyan<ret>'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Commands ---------------------------------------------------------------------[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Shortcuts[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Mappings ─────────────────────────────────────────────────────────────────────[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mmap -docstring 'erase character before cursor' global normal <backspace> ': erase-character-before-cursor<ret>'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mmap -docstring 'erase character under cursor' global normal <del> ': erase-character-under-cursor<ret>'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mmap -docstring 'select next word' global normal w ': select-next-word<ret>'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mmap -docstring 'move line down' global normal <a-down> ': move-lines-down<ret>'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mmap -docstring 'move line up' global normal <a-up> ': move-lines-up<ret>'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mmap -docstring 'select all occurrences of current selection' global normal <a-percent> ': select-highlights<ret>'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mmap -docstring 'increment selection' global normal <c-a> ': increment-selection %val{count}<ret>'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mmap -docstring 'decrement selection' global normal <c-x> ': decrement-selection %val{count}<ret>'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mmap -docstring 'buffer directory' global prompt <a-/> '%sh{dirname "$kak_bufname"}<a-!>/'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Commands ─────────────────────────────────────────────────────────────────────[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdefine-command -override erase-character-before-cursor -docstring 'erase character before cursor' %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  execute-keys -draft ';i<backspace>'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdefine-command -override erase-character-under-cursor -docstring 'erase character under cursor' %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  execute-keys -draft ';i<del>'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdefine-command -override select-next-word -docstring 'select next word' %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  evaluate-commands -itersel %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    hook -group select-next-word -always -once window User "%val{selection_desc}" %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m      search-next-word[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    try %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m      execute-keys '<a-i>w'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m      trigger-user-hook "%val{selection_desc}"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    } catch %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m      search-next-word[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    remove-hooks window select-next-word[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdefine-command -override -hidden search-next-word -docstring 'search next word' %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  execute-keys 'h/\W\w<ret><a-i>w'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Reference: https://code.visualstudio.com/docs/getstarted/keybindings#_basic-editing[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdefine-command -override move-lines-down -docstring 'move line down' %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  execute-keys -draft 'x<a-_><a-:>Z;ezjxdzP'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdefine-command -override move-lines-up -docstring 'move line up' %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  execute-keys -draft 'x<a-_><a-:><a-;>Z;bzkxdzp'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdefine-command -override select-highlights -docstring 'select all occurrences of current selection' %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  execute-keys '"aZ*%s<ret>"bZ"az"b<a-z>a'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdefine-command -override increment-selection -params 1 -docstring 'increment-selection <count>: increment selection by count' %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  execute-keys "a+%sh{expr $1 '|' 1}<esc>|{ cat; echo; } | bc<ret>"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdefine-command -override decrement-selection -params 1 -docstring 'decrement-selection <count>: decrement selection by count' %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  execute-keys "a-%sh{expr $1 '|' 1}<esc>|{ cat; echo; } | bc<ret>"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdefine-command -override evaluate-selections -docstring 'evaluate selections' %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  evaluate-commands -itersel %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    evaluate-commands %val{selection}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51malias global = evaluate-selections[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdefine-command link-window -params 1 -docstring 'link-window <client>: link window to client' %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  execute-keys '"sZ'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  execute-keys -client %arg{1} '"sz'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mcomplete-command link-window client[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdefine-command grab_buffer_in_viewport -params 1 -client-completion -docstring 'link-window <client>: link window to client' %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  execute-keys '"sZ'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  execute-keys -client %arg{1} '"sz'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdefine-command -override move-window -params 1 -client-completion -docstring 'move-window <client>: move window to client' %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  execute-keys '"sZ'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  execute-keys -client %arg{1} '"sz'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  buffer-next[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdefine-command -override swap-window -params 1 -client-completion -docstring 'swap-window <client>: swap window with client' %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  execute-keys '"sZ'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  execute-keys -client %arg{1} '"tZ'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  execute-keys '"tz'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  execute-keys -client %arg{1} '"sz'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Surround selections[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Reference: https://github.com/mawww/kakoune/blob/master/src/normal.cc#:~:text=select_object[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Modes ────────────────────────────────────────────────────────────────────────[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mtry %[ declare-user-mode surround ][0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdefine-command -override enter-surround-mode -docstring 'enter surround mode' %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  enter-user-mode surround[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Mappings ─────────────────────────────────────────────────────────────────────[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# parenthesis block[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# brace block[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# bracket block[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# angle block[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# double quote string[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# single quote string[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# grave quote string[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# double quotation mark[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# single quotation mark[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# double angle quotation mark[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# single angle quotation mark[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# emphasis[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# strong[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# map -docstring 'enter surround mode' global normal q ': enter-surround-mode<ret>'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdefine-command -override -hidden surround-init %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  # Enter text[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  map -docstring 'enter insert mode' global surround i ': surround-enter-insert-mode<ret>'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  map -docstring 'key' global surround k ': surround-key<ret>'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  map -docstring 'tag' global surround t ': surround-tag<ret>'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  # Editing[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  map -docstring 'space' global surround <space> ': surround-add-space<ret>'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  map -docstring 'line' global surround <ret> ': surround-add-line<ret>'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  map -docstring 'delete' global surround <backspace> ': surround-delete<ret>'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  map -docstring 'delete' global surround <del> ': surround-delete<ret>'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  # Surrounding pairs[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  declare-surrounding-pair 'parenthesis block' b ( )[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  declare-surrounding-pair 'brace block' B { }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  declare-surrounding-pair 'bracket block' r [ ][0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  declare-surrounding-pair 'angle block' a <lt> <gt>[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  declare-surrounding-pair 'double quote string' Q '"' '"'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  declare-surrounding-pair 'single quote string' q "'" "'"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  declare-surrounding-pair 'grave quote string' g ` `[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  declare-surrounding-pair 'double quotation mark' <a-Q> “ ”[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  declare-surrounding-pair 'single quotation mark' <a-q> ‘ ’[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  declare-surrounding-pair 'double angle quotation mark' <a-G> « »[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  declare-surrounding-pair 'single angle quotation mark' <a-g> ‹ ›[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  # Emphasis[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  map -docstring 'emphasis' global surround _ ': surround-add _ _<ret>'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  map -docstring 'strong' global surround * ': surround-add ** **<ret>'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Commands ─────────────────────────────────────────────────────────────────────[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Declare surrounding pairs[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdefine-command -override declare-surrounding-pair -params 4 -docstring 'declare-surrounding-pair <description> [alias] <opening> <closing>: declare surrounding pair' %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  try %[ map -docstring %arg{1} global surround %arg{2} ": surround-add %%🐈%arg{3}🐈 %%🐈%arg{4}🐈<ret>" ][0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  try %[ map -docstring %arg{1} global surround %arg{3} ": surround-add %%🐈%arg{3}🐈 %%🐈%arg{4}🐈<ret>" ][0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  try %[ map -docstring %arg{1} global surround %arg{4} ": surround-add %%🐈%arg{3}🐈 %%🐈%arg{4}🐈<ret>" ][0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Enter insert mode[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdefine-command -override -hidden surround-enter-insert-mode -docstring 'surround: enter insert mode' %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  execute-keys -save-regs '' 'Z'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  hook -always -once window ModeChange 'pop:insert:normal' %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    hook -always -once window ModeChange 'pop:insert:normal' %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m      execute-keys z[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m      set-register ^[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m      echo[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    execute-keys -with-hooks a[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  execute-keys -with-hooks i[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Surround key[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdefine-command -override -hidden surround-key -docstring 'surround key' %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  on-key %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    surround-add %val{key} %val{key}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Surround tag[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdefine-command -override -hidden surround-tag -docstring 'surround tag' %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  prompt surround-tag: %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    surround-add "<%val{text}>" "</%val{text}>"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Surround selected text[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdefine-command -override -hidden surround-add -params 2 %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  evaluate-commands -save-regs '"' %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    set-register '"' %arg{1}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    execute-keys -draft P[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    set-register '"' %arg{2}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    execute-keys -draft p[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdefine-command -override -hidden surround-add-space %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  surround-add ' ' ' '[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdefine-command -override -hidden surround-add-line %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  # Extract selected text on its own line; clean whitespaces around the selection.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  try %[ execute-keys -draft 'i<ret><esc>kgl<a-i><space>d' ][0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  try %[ execute-keys -draft 'a<ret><esc>jgl<a-i><space>d' ][0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  # Indent selection[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  execute-keys -draft '<a-:><a-;>K<a-:>J<a-&>'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  execute-keys -draft '<gt>'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Delete surrounding[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdefine-command -override -hidden surround-delete %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  # Tag support[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  try %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    execute-keys 'y<a-a>c<lt>.+?<gt>,<lt>/.+?<gt><ret>R'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  } catch %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    # Delete left surrounding[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    try %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m      execute-keys -draft '<a-:><a-;>h<a-a><space>d'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    } catch %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m      execute-keys -draft 'i<backspace>'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    # Delete right surrounding[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    try %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m      execute-keys -draft '<a-:>l<a-a><space>d'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    } catch %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m      execute-keys -draft 'a<del>'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Initialization ───────────────────────────────────────────────────────────────[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51msurround-init[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdefine-command alacritty-open-new-client -params .. %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  nop %sh{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    alacritty msg create-window -e kak -c "$kak_session" -e "$*"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mcomplete-command alacritty-open-new-client command[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdefine-command foot-open-new-client -params .. %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  nop %sh{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    footclient -e kak -c "$kak_session" -e "$*"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mcomplete-command foot-open-new-client command[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdefine-command -override mkdir -docstring 'make directory for the current buffer' %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  nop %sh(mkdir -p -- "$(dirname -- "$kak_buffile")")[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Terminal integration[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mhook -group alacritty-detection global ClientCreate '.*' %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  trigger-user-hook "TERM=%val{client_env_TERM}"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Alacritty terminal detection[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mhook -group alacritty-integration global User 'TERM=alacritty' %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  alias global open-new-client alacritty-open-new-client[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# foot terminal detection[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mhook -group alacritty-integration global User 'TERM=foot' %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  alias global open-new-client foot-open-new-client[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdefine-command open-kakrc -docstring 'open kakrc' %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  edit "%val{config}/kakrc"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdefine-command open-config -params 1 -docstring 'open from %val{config}' %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  edit "%val{config}/%arg{1}"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mcomplete-command -menu open-config shell-script-candidates %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  cd "$kak_config" && find -L . -type f | sort -u[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdefine-command -override open-runtime -params 1 -docstring 'open from %val{runtime}' %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  edit "%val{runtime}/%arg{1}"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mcomplete-command -menu open-config shell-script-candidates %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  cd "$kak_runtime" && find -L . -type f | sort -u[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdefine-command yank_terminal_clipboard %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  nop %sh{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    printf 'echo -to-file %%(%s) -- "%%val{selections}"' "$kak_response_fifo" > "$kak_command_fifo"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    {[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m      printf '\033]52;c;'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m      tr '\0' '\n' < "$kak_response_fifo" | sed 's/\\\\/\\/g' | base64[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m      printf '\a'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    } > /dev/tty[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Show Unicode value in the status line.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdefine-command get_character_info %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  echo %sh{printf 'U+%04x' "$kak_cursor_char_value"}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Language support -------------------------------------------------------------[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Indentation[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-option global tabstop 4[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-option global indentwidth 2[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-option global disabled_hooks '.+-trim-indent|.+-insert|.+-indent'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Kakoune[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# https://kakoune.org[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mhook -group config global BufSetOption filetype=kak %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  set-option buffer indentwidth 2[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  set-option buffer line_comment_token '#'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Crystal[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# https://crystal-lang.org[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mhook -group config global BufSetOption filetype=crystal %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  set-option buffer indentwidth 2[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  set-option buffer line_comment_token '#'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# JavaScript[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# https://developer.mozilla.org/en-US/docs/Web/JavaScript[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mhook -group config global BufSetOption filetype=javascript %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  set-option buffer indentwidth 2[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  set-option buffer line_comment_token '//'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  set-option buffer block_comment_tokens '/*' '*/'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Lua[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# https://lua.org[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mhook -group config global BufSetOption filetype=lua %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  set-option buffer indentwidth 2[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  set-option buffer line_comment_token '--'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  set-option buffer block_comment_tokens '[[--' '--]]'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Makefile[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# https://en.wikipedia.org/wiki/Make_(software)#Makefile[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mhook -group config global BufSetOption filetype=makefile %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  set-option buffer indentwidth 0[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  set-option buffer line_comment_token '#'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# grep[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# https://en.wikipedia.org/wiki/Grep[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mhook -group config global BufSetOption filetype=grep %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  map buffer normal <ret> ': grep-jump<ret>'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Detection --------------------------------------------------------------------[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mhook -group config global BufCreate '.*/\.kakrc' %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  set-option buffer filetype kak[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mhook -group config global BufCreate '.*/(profile|bashrc|tmux.conf)' %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  set-option buffer filetype sh[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Mark[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Iterate selections one by one with `Control+N` and `Control+P`.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Save selections with `Y` or its strong version `Alt+Y` (same as `Y Space`).[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Clear registers with `D`.  You can specify the register to use.  For example, `"/D` to clear the search register.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Restore registers as selections with `z` or its strong version `Z` (same as `zD`).[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# You can specify the register to use for all commands.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# == Commands[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# - `z` ⇒ Restore register.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# - `Z` ⇒ Consume register.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# - `D` ⇒ Clear register.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# - `Y` ⇒ Add selections.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# - `Alt+Y` ⇒ Consume selections.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# - `Control+N` ⇒ Iterate next selection.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# - `Control+P` ⇒ Iterate previous selection.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# == Faces[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# - `MarkedPrimaryCursor`[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# - `MarkedPrimarySelection`[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# - `MarkedSecondaryCursor`[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# - `MarkedSecondarySelection`[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Options ──────────────────────────────────────────────────────────────────────[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Internal variables[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdeclare-option -hidden range-specs mark_ranges[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Faces[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global MarkedPrimaryCursor '+ub'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global MarkedPrimarySelection '+ub'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global MarkedSecondaryCursor '+u'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global MarkedSecondarySelection '+u'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Mappings ─────────────────────────────────────────────────────────────────────[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mmap -docstring 'restore register' global normal z ': restore-register %val{register}<ret>'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mmap -docstring 'consume register' global normal Z ': consume-register %val{register}<ret>'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mmap -docstring 'clear register' global normal D ': clear-register %val{register}<ret>'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mmap -docstring 'add selections' global normal Y ': add-selections %val{register}<ret>'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mmap -docstring 'consume selections' global normal <a-Y> ': consume-selections %val{register}<ret>'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mmap -docstring 'iterate next selection' global normal <c-n> ': iterate-next-selection %val{register}<ret>'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mmap -docstring 'iterate previous selection' global normal <c-p> ': iterate-previous-selection %val{register}<ret>'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Commands ─────────────────────────────────────────────────────────────────────[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdefine-command -override restore-register -params 1 -docstring 'restore-register <register>: restore register (default: ^)' %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  try %[ execute-keys """%arg{1}z" ][0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdefine-command -override consume-register -params 1 -docstring 'consume-register <register>: consume register (default: ^)' %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  restore-register %arg{1}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  clear-register %arg{1}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdefine-command -override clear-register -params 1 -docstring 'clear-register <register>: clear register (default: ^)' %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  # Handle null named register.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  try %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    set-register %arg{1}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    echo -markup "{Information}cleared register '%arg{1}'{Default}"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  } catch %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    set-register '^'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    echo -markup "{Information}cleared register '^'{Default}"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdefine-command -override restore-selections -params 1 -docstring 'restore-selections <register>: restore selections (default: ^)' %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  try %[ execute-keys """%arg{1}<a-z>a" ][0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdefine-command -override save-selections -params 1 -docstring 'save-selections <register>: save selections (default: ^)' %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  execute-keys -save-regs '' """%arg{1}Z"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdefine-command -override add-selections -params 1 -docstring 'add-selections <register>: add selections (default: ^)' %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  evaluate-commands -draft consume-selections %arg{1}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  # Display saved selections:[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  # Handle null named register.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  try %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    execute-keys -save-regs %arg{1} """%arg{1}Z"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  } catch %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    execute-keys Z[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdefine-command -override consume-selections -params 1 -docstring 'consume-selections <register>: consume selections (default: ^)' %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  restore-selections %arg{1}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  save-selections %arg{1}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  execute-keys ','[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdefine-command -override iterate-next-selection -params 1 -docstring 'iterate-next-selection <register>: iterate next selection (default: ^)' %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  restore-register %arg{1}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  execute-keys ')'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  consume-selections %arg{1}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdefine-command -override iterate-previous-selection -params 1 -docstring 'iterate-previous-selection <register>: iterate previous selection (default: ^)' %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  restore-register %arg{1}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  execute-keys '('[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  consume-selections %arg{1}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Highlighters ─────────────────────────────────────────────────────────────────[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdefine-command -override -hidden update-mark-ranges %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  # Reset ranges[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  evaluate-commands -buffer '*' unset-option buffer mark_ranges[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  try %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    evaluate-commands -draft %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m      # Jump to the buffer[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m      execute-keys 'z'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m      # Initialize ranges[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m      set-option buffer mark_ranges %val{timestamp}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m      # Mark the main selection[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m      evaluate-commands -draft %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        execute-keys ','[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        set-option -add buffer mark_ranges "%val{selection_desc}|MarkedPrimarySelection"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        execute-keys ';'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        set-option -add buffer mark_ranges "%val{selection_desc}|MarkedPrimaryCursor"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m      }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m      # Mark other selections[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m      execute-keys '<a-,>'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m      evaluate-commands -draft -itersel %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        set-option -add buffer mark_ranges "%val{selection_desc}|MarkedSecondarySelection"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        execute-keys ';'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        set-option -add buffer mark_ranges "%val{selection_desc}|MarkedSecondaryCursor"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m      }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdefine-command -override show-marks -docstring 'show marks' %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  add-highlighter -override global/marks ranges mark_ranges[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  remove-hooks global show-marks[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  hook -group show-marks -always global RegisterModified '\^' update-mark-ranges[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  update-mark-ranges[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdefine-command -override hide-marks -docstring 'hide marks' %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  remove-hooks global show-marks[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  remove-highlighter global/marks[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  evaluate-commands -buffer '*' unset-option buffer mark_ranges[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Initialization[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mshow-marks[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Select objects[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Reference: https://github.com/mawww/kakoune/blob/master/src/normal.cc#:~:text=select_object[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# _/_::[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# regex matches[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# _b_, _(_, _)_::[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# parenthesis blocks[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# _B_, _{_, _}_::[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# brace blocks[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# _r_, _[_, _]_::[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# bracket blocks[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# _a_, _<_, _>_::[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# angle blocks[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# _Q_, _"_::[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# double quote strings[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# _q_, _'_::[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# single quote strings[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# _g_, _`_::[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# grave quote strings[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# _w_::[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# words[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# _Alt+w_::[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# big words[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# _s_::[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# sentences[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# _p_::[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# paragraphs[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# _Space_::[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# whitespaces[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# _i_::[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# indent[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# _n_::[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# numbers[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# _u_::[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# arguments[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Modes ────────────────────────────────────────────────────────────────────────[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mtry %[ declare-user-mode select ][0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdefine-command -override enter-select-mode -docstring 'enter select mode' %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  enter-user-mode select[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Mappings ─────────────────────────────────────────────────────────────────────[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mmap -docstring 'select regex matches' global select / s[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mmap -docstring 'select inner parenthesis blocks' global select b ': select-inner-parenthesis-blocks<ret>'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mmap -docstring 'select whole parenthesis blocks' global select <a-b> ': select-whole-parenthesis-blocks<ret>'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mmap -docstring 'select inner parenthesis blocks' global select ( ': select-inner-parenthesis-blocks<ret>'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mmap -docstring 'select whole parenthesis blocks' global select ) ': select-whole-parenthesis-blocks<ret>'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mmap -docstring 'select inner brace blocks' global select B ': select-inner-brace-blocks<ret>'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mmap -docstring 'select whole brace blocks' global select <a-B> ': select-whole-brace-blocks<ret>'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mmap -docstring 'select inner brace blocks' global select { ': select-inner-brace-blocks<ret>'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mmap -docstring 'select whole brace blocks' global select } ': select-whole-brace-blocks<ret>'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mmap -docstring 'select inner bracket blocks' global select r ': select-inner-bracket-blocks<ret>'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mmap -docstring 'select whole bracket blocks' global select <a-r> ': select-whole-bracket-blocks<ret>'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mmap -docstring 'select inner bracket blocks' global select [ ': select-inner-bracket-blocks<ret>'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mmap -docstring 'select whole bracket blocks' global select ] ': select-whole-bracket-blocks<ret>'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mmap -docstring 'select inner angle blocks' global select a ': select-inner-angle-blocks<ret>'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mmap -docstring 'select whole angle blocks' global select <a-a> ': select-whole-angle-blocks<ret>'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mmap -docstring 'select inner angle blocks' global select <lt> ': select-inner-angle-blocks<ret>'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mmap -docstring 'select whole angle blocks' global select <gt> ': select-whole-angle-blocks<ret>'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mmap -docstring 'select inner double quote strings' global select Q ': select-inner-double-quote-strings<ret>'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mmap -docstring 'select whole double quote strings' global select <a-Q> ': select-whole-double-quote-strings<ret>'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mmap -docstring 'select inner double quote strings' global select '"' ': select-inner-double-quote-strings<ret>'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mmap -docstring 'select whole double quote strings' global select '<a-">' ': select-whole-double-quote-strings<ret>'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mmap -docstring 'select inner single quote strings' global select q ': select-inner-single-quote-strings<ret>'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mmap -docstring 'select whole single quote strings' global select <a-q> ': select-whole-single-quote-strings<ret>'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mmap -docstring 'select inner single quote strings' global select "'" ': select-inner-single-quote-strings<ret>'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mmap -docstring 'select whole single quote strings' global select "<a-'>" ': select-whole-single-quote-strings<ret>'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mmap -docstring 'select inner grave quote strings' global select g ': select-inner-grave-quote-strings<ret>'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mmap -docstring 'select whole grave quote strings' global select <a-g> ': select-whole-grave-quote-strings<ret>'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mmap -docstring 'select inner grave quote strings' global select ` ': select-inner-grave-quote-strings<ret>'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mmap -docstring 'select whole grave quote strings' global select <a-`> ': select-whole-grave-quote-strings<ret>'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mmap -docstring 'select words' global select w ': select-words<ret>'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mmap -docstring 'select big words' global select <a-w> ': select-big-words<ret>'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mmap -docstring 'select sentences' global select s ': select-sentences<ret>'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mmap -docstring 'select paragraphs' global select p ': select-paragraphs<ret>'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mmap -docstring 'select whitespaces' global select <space> ': select-whitespaces<ret>'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mmap -docstring 'select indent' global select i ': select-indent<ret>'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mmap -docstring 'select numbers' global select n ': select-numbers<ret>'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mmap -docstring 'select arguments' global select u ': select-arguments<ret>'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Commands ─────────────────────────────────────────────────────────────────────[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdefine-command -override -hidden select-inner-parenthesis-blocks -docstring 'select inner parenthesis blocks' %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  execute-keys 's\(<ret><a-i>b'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdefine-command -override -hidden select-whole-parenthesis-blocks -docstring 'select whole parenthesis blocks' %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  execute-keys 's\(<ret><a-a>b'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdefine-command -override -hidden select-inner-brace-blocks -docstring 'select inner brace blocks' %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  execute-keys 's\{<ret><a-i>B' # }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdefine-command -override -hidden select-whole-brace-blocks -docstring 'select whole brace blocks' %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  execute-keys 's\{<ret><a-a>B' # }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdefine-command -override -hidden select-inner-bracket-blocks -docstring 'select inner bracket blocks' %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  execute-keys 's\[<ret><a-i>r'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdefine-command -override -hidden select-whole-bracket-blocks -docstring 'select whole bracket blocks' %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  execute-keys 's\[<ret><a-a>r'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdefine-command -override -hidden select-inner-angle-blocks -docstring 'select inner angle blocks' %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  execute-keys 's<lt><ret><a-i>a'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdefine-command -override -hidden select-whole-angle-blocks -docstring 'select whole angle blocks' %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  execute-keys 's<lt><ret><a-a>a'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdefine-command -override -hidden select-inner-double-quote-strings -docstring 'select inner double quote strings' %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  execute-keys 's"[^"]*"<ret><a-;><a-i>Q'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdefine-command -override -hidden select-whole-double-quote-strings -docstring 'select whole double quote strings' %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  execute-keys 's"[^"]*"<ret><a-;><a-a>Q'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdefine-command -override -hidden select-inner-single-quote-strings -docstring 'select inner single quote strings' %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  execute-keys "s'[^']*'<ret><a-;><a-i>q"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdefine-command -override -hidden select-whole-single-quote-strings -docstring 'select whole single quote strings' %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  execute-keys "s'[^']*'<ret><a-;><a-a>q"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdefine-command -override -hidden select-inner-grave-quote-strings -docstring 'select inner grave quote strings' %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  execute-keys 's`[^`]*`<ret><a-;><a-i>g'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdefine-command -override -hidden select-whole-grave-quote-strings -docstring 'select whole grave quote strings' %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  execute-keys 's`[^`]*`<ret><a-;><a-a>g'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdefine-command -override -hidden select-words -docstring 'select words' %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  execute-keys 's\w+<ret><a-i>w'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdefine-command -override -hidden select-big-words -docstring 'select big words' %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  execute-keys 's\w+<ret><a-i><a-w>'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdefine-command -override -hidden select-sentences -docstring 'select sentences' %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  execute-keys 's[^\n]+<ret><a-i>s'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdefine-command -override -hidden select-paragraphs -docstring 'select paragraphs' %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  execute-keys 's[^\n]+<ret><a-i>p'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdefine-command -override -hidden select-whitespaces -docstring 'select whitespaces' %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  execute-keys 's\h+<ret><a-i><space>'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdefine-command -override -hidden select-indent -docstring 'select indent' %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  execute-keys 's^\h+<ret><a-i><space>'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdefine-command -override -hidden select-numbers -docstring 'select numbers' %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  execute-keys 's\d+<ret><a-i>n'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdefine-command -override -hidden select-arguments -docstring 'select arguments' %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  execute-keys 's\(<ret><a-i>bs\w+<ret><a-i>u'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Notes ------------------------------------------------------------------------[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mhook -group config global BufCreate '.*/docs/notes.txt' %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  set-option buffer filetype notes[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mhook -group config global BufSetOption filetype=notes %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  add-highlighter -override buffer/notes ref notes[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  map -docstring 'insert date (2006-01-02 Mon)' buffer insert <c-u> '<a-;>;<a-;>!date ''+%F %a'' | tr -d ''\n''<ret><right>'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  map -docstring 'insert date (2006-01-02 Mon 15:04)' buffer insert <c-i> '<a-;>;<a-;>!date ''+%F %a %H:%M'' | tr -d ''\n''<ret><right>'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter -override shared/notes regions[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter -override shared/notes/text default-region group[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter -override shared/notes/text/entry-date-year regex '^\d{4}' 0:comment[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter -override shared/notes/text/entry-date-year-month regex '^\d{4}-\d{2}' 0:comment[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter -override shared/notes/text/entry-date regex '^\d{4}-\d{2}-\d{2} \w{3}' 0:comment[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter -override shared/notes/text/entry-date-time regex '^\d{4}-\d{2}-\d{2} \w{3} \d{2}:\d{2}' 0:comment[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter -override shared/notes/text/keyword regex '\b(Buy|Go on|Go to|Read|Sign up|Update|Watch)\b' 0:keyword[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter -override shared/notes/text/url regex 'https?://\S+' 0:link[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter -override shared/notes/info region -recurse '\(' '\(' '\)' group[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter -override shared/notes/info/content fill string[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter -override shared/notes/info/url ref notes/text/url[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter -override shared/notes/info/delimiters regex '(?<opening>.).+(?<closing>.)' opening:string closing:string[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter -override shared/notes/tag region -recurse '\[' '\[' '\]' fill meta[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# List -------------------------------------------------------------------------[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mhook -group config global BufCreate '.*/list.txt' %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  set-option buffer filetype list[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mhook -group config global BufSetOption filetype=list %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  add-highlighter -override buffer/list ref list[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter -override shared/list regions[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter -override shared/list/text default-region group[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter -override shared/list/text/number regex '\b\d{2}\b' 0:value[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter -override shared/list/text/date regex '\b\d{4}-\d{2}-\d{2}\b' 0:string[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter -override shared/list/text/year regex '\b\d{4}\b' 0:string[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter -override shared/list/text/keyword regex '\b(Movie|Special)\b' 0:keyword[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter -override shared/list/text/url regex 'https?://\S+' 0:link[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Pipe selections as JSON Lines to work with traditional Unix tools.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m#[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# JSON Lines[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# https://jsonlines.org[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m#[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Why Kakoune — A better unix citizen[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# https://kakoune.org/why-kakoune/why-kakoune.html#_a_better_unix_citizen[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Mappings ─────────────────────────────────────────────────────────────────────[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mmap -docstring 'pipe (jsonl)' global user | ': pipe-selections-as-jsonl-prompt<ret>'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Commands ─────────────────────────────────────────────────────────────────────[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdefine-command -override pipe-selections-as-jsonl-prompt -docstring 'pipe selections as JSON Lines' %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  prompt 'pipe (jsonl):' -shell-completion %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    pipe-selections-as-jsonl %val{text}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdefine-command -override pipe-selections-as-jsonl -params 1.. -docstring 'pipe-selections-as-jsonl <command> [arguments]: pipe selections as JSON Lines' %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  evaluate-commands -save-regs '"' %sh{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    # Path to selections as JSON Lines[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    selections_path=$(mktemp)[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    # Cleanup temporary files[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    trap at_exit EXIT[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    at_exit() {[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m      rm -f "$selections_path"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    # Terminates execution immediately, printing message to Kakoune.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    abort() {[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m      echo "fail $1"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m      exit 1[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    # Serialize (Shell → JSON Lines) and run the shell command.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    shell_command=$@[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    eval set -- "$kak_quoted_selections"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    jq --null-input '$ARGS.positional[]' --args -- "$@" |[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    sh -c "$shell_command" > "$selections_path"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    # Abort with non-zero exit status[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    [ $? = 0 ] || abort "pipe exit status: $?"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    # Validate the command output[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    jq --exit-status --slurp 'all(type == "string")' "$selections_path" > /dev/null || abort "selections are not JSON Lines"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    # Serialize (JSON Lines → Kakoune) and set the selections.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    export squote="'"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    jq --slurp --raw-output '["set-register", "dquote"] + map(env.squote + gsub(env.squote; env.squote + env.squote) + env.squote) | join(" ")' "$selections_path"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    echo execute-keys R[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# The editor will not insert indentation automatically.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# The editor will keep the current line's indentation.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# The editor will keep the current line's indentation and honor language defined brackets.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# The editor will keep the current line's indentation, honor language defined brackets and invoke special onEnterRules defined by languages.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# The editor will keep the current line's indentation, honor language defined brackets, invoke special onEnterRules defined by languages, and honor indentationRules defined by languages.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Controls whether the editor should automatically adjust the indentation when users type, paste, move or indent lines.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# November 2019 (version 1.41)[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# January 2022 (version 1.64)[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# window_type Compare against the window type (_NET_WM_WINDOW_TYPE). Possible values are normal, dialog, utility, toolbar, splash, menu, dropdown_menu, popup_menu, tooltip and notification.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# New auto indentation option#[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# The setting editor.autoIndent can now take different values. This setting impacts multiple features, such as pressing Enter, pressing Tab, or when indenting and unindenting lines. You can think of the setting like a "slider" that becomes more and more opinionated:[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# "none": Pressing Enter will insert \n and nothing more.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# "keep": Pressing Enter will keep the indentation of the current line.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# "brackets": All of the above and special logic around language-specific brackets.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# "advanced": All of the above and respecting language-specific rules that are defined via onEnterRules.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# "full" (default): All of the above and respecting language-specific rules that are defined via indentationRules.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# If true, the default, tab_size and translate_tabs_to_spaces will be calculated automatically when loading a file[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Indentation Detection[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# When a file is loaded, its contents are examined, and the tab_size and translate_tabs_to_spaces settings are set for that file. The status area will report when this happens. While this generally works well, you may want to disable it. You can do that with the detect_indentation setting.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Indentation detection can be run manually via the detect-indentation command.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# https://github.com/helix-editor/helix/blob/master/helix-core/src/indent.rs[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# https://github.com/microsoft/vscode/blob/main/src/vs/editor/contrib/indentation/browser/indentation.ts[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# https://docs.helix-editor.com/lang-support.html[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# https://code.visualstudio.com/docs/languages/overview[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Other reference:[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# https://github.com/tpope/vim-sleuth[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Indentation rules[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Sets indentation rules for languages.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# https://code.visualstudio.com/api/language-extensions/language-configuration-guide#indentation-rules[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# https://code.visualstudio.com/updates/v1_41#_new-auto-indentation-option[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# https://github.com/microsoft/vscode/blob/main/src/vs/editor/common/config/editorOptions.ts#:~:text=EditorAutoIndentStrategy[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# https://github.com/microsoft/vscode/blob/main/src/vs/editor/common/config/editorOptions.ts#:~:text=editor.autoIndent[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Automatic Indentation Settings[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Auto-detection[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Kakoune analyzes your open file and determines the indentation used in the document.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# The auto-detected indentation overrides your default indentation settings.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Note: Kakoune auto-detection checks for the first indentation.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# If your file uses a different number of spaces, the indentation may not be correctly detected.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# You may want to turn off `detect_indent_style` and explicitly set the indentation style.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Enum representing auto-indent strategy.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# none[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# keep[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# full[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdeclare-option -docstring 'auto_indent' str auto_indent full[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdeclare-option -docstring 'Indentation rules to increase the indentation of the current line or next line' str increase_indent_pattern '[({\[]$'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdeclare-option -docstring 'Indentation rules to decrease the indentation of the current line or next line' str decrease_indent_pattern '^\h*[)}\]]$'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdeclare-option -docstring 'Indentation rules to ignore the indentation of the current line or next line' str ignore_indent_pattern '^\h*#'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdeclare-option -hidden str private_increase_indent_pattern '[({\[]$'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdeclare-option -hidden str private_decrease_indent_pattern '^\h*[)}\]]$'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mremove-hooks global indent[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mhook -group indent global InsertChar '.*' indent-on-inserted-character[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Increase and decrease indent with Tab.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mmap -docstring 'Increase indent' global insert <tab> '<a-;><a-gt>'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mmap -docstring 'Decrease indent' global insert <s-tab> '<a-;><lt>'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mmap -docstring 'Decrease indent or erase character before cursor' global insert <backspace> '<a-;>: decrease-indent-or-erase-character-before-cursor<ret>'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# map -docstring 'Decrease indent or erase character before cursor' global insert <ret> '<a-;>: enter-new-line-and-keep-indent<ret>'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# hook on file open and buffer reload.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Implementation reference:[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# https://github.com/helix-editor/helix/blob/master/helix-view/src/document.rs#:~:text=detect_indent_and_line_ending[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# hook -group indent global BufOpenFile '.*' detect-indent-style[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# hook -group indent global BufReload '.*' detect-indent-style[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Enter ⇒ Decrease indent or erase character before cursor.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdefine-command -override -hidden enter-new-line-and-keep-indent %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  evaluate-commands -draft -itersel %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    execute-keys ';i<ret>'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    # Copy previous line indent[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    execute-keys -draft 'H<a-&>'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    # Clean previous line indent[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    try %[ execute-keys -draft 'kxs^\h+$<ret>d' ][0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Backspace ⇒ Decrease indent or erase character before cursor.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdefine-command -override -hidden decrease-indent-or-erase-character-before-cursor %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  try %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    execute-keys -draft -itersel '<a-h><a-k>\A\h+.\z<ret>'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    execute-keys -draft '<lt>'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  } catch %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    execute-keys -draft ';i<backspace>'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdefine-command -override -hidden indent-on-inserted-character %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  "indent-on-inserted-character-with-auto-indent-%opt{auto_indent}"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdefine-command -override -hidden indent-handle-inserted-character -params .. %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  evaluate-commands -draft %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    # Select line begin to the rightmost inserted character.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    execute-keys 'h<a-h><a-:>'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    evaluate-commands -draft -itersel -verbatim -- try %arg{@}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdefine-command -override -hidden indent-on-inserted-character-with-auto-indent-none %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdefine-command -override -hidden indent-on-inserted-character-with-auto-indent-keep %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  indent-handle-inserted-character %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    # Indentation rules when inserting a new line[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    execute-keys -draft '<a-k>\n<ret>'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    # Copy previous line indent[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    execute-keys -draft 'L<a-&>'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    # Clean previous line indent[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    try %[ execute-keys -draft 's^\h+$<ret>d' ][0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdefine-command -override -hidden indent-on-inserted-character-with-auto-indent-full %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  indent-handle-inserted-character %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    # Indentation rules when inserting a new line[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    execute-keys -draft '<a-k>\n<ret>'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    # Copy previous line indent[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    execute-keys -draft 'L<a-&>'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    # Clean previous line indent[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    try %[ execute-keys -draft 's^\h+$<ret>d' ][0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    try %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m      # Ignore indentation rules.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m      execute-keys -draft '<a-K>%opt{ignore_indent_pattern}<a-!><ret>'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m      # Increase the indentation of the next line[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m      try %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        execute-keys -draft '<a-k>%opt{private_increase_indent_pattern}<a-!>|%opt{increase_indent_pattern}<a-!><ret>'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        execute-keys -draft 'l<a-gt>'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m      }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m      # Decrease the indentation of the next line[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m      # when inserting a new line in the middle of line[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m      try %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        execute-keys -draft 'lx<a-k>%opt{private_decrease_indent_pattern}<a-!>|%opt{decrease_indent_pattern}<a-!><ret>'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        execute-keys -draft 'l<lt>'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m      }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  } catch %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    try %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m      # Ignore indentation rules.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m      execute-keys -draft '<a-K>%opt{ignore_indent_pattern}<a-!><ret>'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m      # Indentation rules when inserting a character at the end of line[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m      execute-keys -draft 'l<a-k>\n<ret>'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m      # Decrease the indentation of the current line[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m      try %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        execute-keys -draft 'L<a-k>%opt{private_decrease_indent_pattern}<a-!>|%opt{decrease_indent_pattern}<a-!><ret>'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        execute-keys -draft '<lt>'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m      }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  } catch %{}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdefine-command -override detect-indent-style -docstring 'detect-indent-style' %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  try %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    evaluate-commands -draft %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m      # Search the first indent level[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m      execute-keys 'gg/^\h+<ret>'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m      # Tabs vs. Spaces[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m      # https://youtu.be/V7PLxL8jIl8[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m      try %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        execute-keys '<a-k>\t<ret>'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        # Global scope[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        unset-option buffer tabstop[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        set-option buffer indentwidth 0[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m      } catch %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        set-option buffer tabstop %val{selection_length}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        set-option buffer indentwidth %val{selection_length}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m      }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# This script provides the functionality to toggle comments on lines over the selection[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# using the line and block comment tokens defined in `line_comment_token` and `block_comment_tokens` options.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m#[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Implementation reference:[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m#[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Helix:[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m#[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# - https://github.com/helix-editor/helix/blob/master/helix-term/src/keymap.rs#:~:text=toggle_comments[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# - https://github.com/helix-editor/helix/blob/master/helix-term/src/commands.rs#:~:text=toggle_comments[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# - https://github.com/helix-editor/helix/blob/master/helix-core/src/comment.rs[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m#[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Visual Studio Code:[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m#[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# - https://github.com/microsoft/vscode/blob/main/src/vs/editor/contrib/comment/browser/comment.ts[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# - https://github.com/microsoft/vscode/blob/main/src/vs/editor/contrib/comment/browser/lineCommentCommand.ts[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# - https://github.com/microsoft/vscode/blob/main/src/vs/editor/contrib/comment/browser/blockCommentCommand.ts[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Options[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdeclare-option -docstring 'Line comment token' str-list line_comment_token '//'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdeclare-option -docstring 'Block comment tokens' str-list block_comment_tokens '/*' '*/'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Mappings[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mmap -docstring 'Toggle comments' global normal '#' ': toggle-comments<ret>'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Commands[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdefine-command -override toggle-comments -docstring 'Toggle comments' %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  try toggle-line-comments catch toggle-block-comments[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdefine-command -override toggle-line-comments -docstring 'Toggle line comments' %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  toggle-line-comments-with-token %opt{line_comment_token}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdefine-command -override toggle-block-comments -docstring 'Toggle block comments' %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  toggle-block-comments-with-token %opt{block_comment_tokens}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdefine-command -override -hidden toggle-line-comments-with-token -params 1 -docstring 'Toggle line comments with the given line comment token' %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  evaluate-commands -draft -save-regs 'ab' %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    # Arguments[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    set-register a %arg{1}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    # Sanitize selections before iterating.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    execute-keys 'x'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    evaluate-commands -draft -itersel %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m      try %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        # Select each line, excluding indentation.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        # Blank lines and blank comments are excluded.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        execute-keys '<a-s><a-K>^\h*$|^\h*\Q<c-r>a\E\h*$<ret>giGl'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        try %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m          # Determines whether the given lines should be considered commented.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m          # As soon as one of the non-blank lines doesn’t have a comment, the whole block is considered uncommented.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m          execute-keys -draft '<a-K>\A\Q<c-r>a<ret>'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m          # Comment lines[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m          # At least one line is not commented, so comment everything.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m          #[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m          # Align selections to column to place comment tokens.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m          set-register b %sh(echo "$kak_selections_desc" | tr ' ' '\n' | cut -d ',' -f 1 | cut -d '.' -f 2 | sort -n | head -n 1)[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m          execute-keys -draft "gh%reg{b}lhi<c-r>a<space>"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        } catch %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m          # Uncomment lines[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m          # All lines are commented, so uncomment everything.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m          try %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            # Determines margin of 0 or 1 for uncommenting.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            # If any comment token is not followed by a space, a margin of 0 is used for all lines.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            execute-keys -draft '<a-K>\A\Q<c-r>a<space><ret>'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            # Uncomment lines (keep space)[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            # At least one comment token is not followed by a space, so uncomment and keep space everywhere.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            execute-keys -draft 's\A\Q<c-r>a<ret>d'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m          } catch %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            # Uncomment lines (remove space)[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            # All comment tokens are followed by a space, so uncomment and remove space everywhere.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            execute-keys -draft 's\A\Q<c-r>a<space><ret>d'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m          }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m      }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdefine-command -override -hidden toggle-block-comments-with-token -params 2 -docstring 'Toggle block comments with the given block comment tokens' %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  evaluate-commands -draft -save-regs 'ab' %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    # Arguments[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    set-register a %arg{1}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    set-register b %arg{2}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    try %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m      # Sanitize selections before iterating.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m      # Blank lines are excluded.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m      execute-keys 'x_'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m      evaluate-commands -draft -itersel %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        try %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m          # Uncomment selection.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m          # Assert that the selection has been commented.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m          execute-keys -draft '<a-k>\A\Q<c-r>a\E.*\Q<c-r>b\E\z<ret>'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m          execute-keys -draft 's\A\Q<c-r>a\E\h*|\h*\Q<c-r>b\E\z<ret>d'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        } catch %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m          # Comment selection.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m          execute-keys -draft 'i<c-r>a<space><esc>a<space><c-r>b'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m      }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# [EditorConfig]: https://editorconfig.org[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# [Visual Studio Code — Language Configuration Guide]: https://code.visualstudio.com/api/language-extensions/language-configuration-guide[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# [Visual Studio Code — Basic Editing — Auto-detection]: https://code.visualstudio.com/docs/editor/codebasics#_autodetection[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# [Sublime Text — Indentation Settings]: https://sublimetext.com/docs/indentation.html[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Here is a language configuration example that configures the editing experience for C files.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mhook -group c-configuration global BufSetOption filetype=c %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  set-option buffer line_comment_token '//'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  set-option buffer block_comment_tokens '/*' '*/'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  set-option buffer indentation_rules_increase_indent_pattern ''[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  set-option buffer indentation_rules_decrease_indent_pattern ''[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Git[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# https://git-scm.com[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Options ──────────────────────────────────────────────────────────────────────[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Faces[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global GitInformation 'blue'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global GitScissors 'blue+b'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global GitModifiedFile 'yellow'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global GitNewFile 'green'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global GitDeletedFile 'red'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global GitRenamedFile 'yellow'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Generics[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global DiffText 'comment'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global DiffHeader 'comment'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global DiffInserted 'green'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global DiffDeleted 'red'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global DiffChanged 'yellow'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Commands ─────────────────────────────────────────────────────────────────────[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Provides basic Git integration for Kakoune.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# All commands always uses the current buffer’s repository, so you don’t need to worry about the current working directory.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# == Faces[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# - `GitInformation`[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# - `GitScissors`[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# - `GitModifiedFile`[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# - `GitNewFile`[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# - `GitDeletedFile`[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# - `GitRenamedFile`[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# === Generics[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# - `DiffText`[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# - `DiffHeader`[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# - `DiffInserted`[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# - `DiffDeleted`[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# - `DiffChanged`[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdefine-command -override git -params .. -docstring 'git [options] [command] [flags]: run Git' %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  evaluate-commands %sh{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    git "$@" > /dev/null[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    exit_code=$?[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    if [ "$exit_code" -ne 0 ]; then[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m      printf 'fail "git: `git %%arg{@}` exited with %d"' "$exit_code"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    fi[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# https://git-scm.com/docs/git-add[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdefine-command -override git-write -docstring 'git-write: save the current buffer and stage the file' %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  write[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  ensure_git_dir[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  nop %sh{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    directory=$(dirname "$kak_buffile")[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    cd "$directory"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    git add --force "$kak_buffile"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  echo -markup '{Information}Added file{Default}'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# https://git-scm.com/docs/git-commit[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdefine-command -override git-commit -docstring 'git-commit: commit changes' %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  ensure_git_dir[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  edit %sh{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    directory=$(dirname "$kak_buffile")[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    cd "$directory"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    git -c core.editor= commit --verbose[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    git rev-parse --path-format=absolute --git-path COMMIT_EDITMSG[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  hook -always -once buffer BufWritePost '(?<git_root>.*)/\.git/COMMIT_EDITMSG' %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    try %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m      git -C %val{hook_param_capture_git_root} commit --file %val{hook_param} --cleanup=strip[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m      delete-buffer[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m      echo -markup '{Information}Commit succeeded{Default}'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    } catch %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m      delete-buffer[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m      echo -markup '{Error}Commit failed{Default}'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# https://git-scm.com/docs/git[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# https://git-scm.com/docs/git-rev-parse[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdefine-command -override -hidden ensure_git_dir %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  evaluate-commands %sh{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    buf_dir=$(dirname "$kak_buffile")[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    buf_inside_work_tree=$(git -C "$buf_dir" rev-parse --is-inside-work-tree)[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    exit_code=$?[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    if [ "$exit_code" -ne 0 ]; then[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m      echo 'fail "git: %val{buffile} not inside a Git repository"'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    fi[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    if [ "$buf_inside_work_tree" = false ]; then[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m      echo 'fail "git: %val{buffile} not inside work tree"'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    fi[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Aliases ──────────────────────────────────────────────────────────────────────[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51malias global g git[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51malias global gw git-write[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51malias global gc git-commit[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Highlighters ─────────────────────────────────────────────────────────────────[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter -override shared/git group[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Commit ┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# https://git-scm.com/docs/git-commit[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter -override shared/git/commit regions[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter -override shared/git/commit/comments region '^#' '$' group[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter -override shared/git/commit/comments/region fill comment[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Summary[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter -override shared/git/commit/comments/branch_name regex 'On branch (.+)' 0:GitInformation 1:keyword[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter -override shared/git/commit/comments/staged_changes regex 'Changes to be committed' 0:GitInformation[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter -override shared/git/commit/comments/unstaged_changes regex 'Changes not staged for commit' 0:GitInformation[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter -override shared/git/commit/comments/untracked_files regex 'Untracked files' 0:GitInformation[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Changed files[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter -override shared/git/commit/comments/modified_files regex '(modified):\h+(.+)' 1:attribute 2:GitModifiedFile[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter -override shared/git/commit/comments/new_files regex '(new file):\h+(.+)' 1:attribute 2:GitNewFile[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter -override shared/git/commit/comments/deleted_files regex '(deleted):\h+(.+)' 1:attribute 2:GitDeletedFile[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter -override shared/git/commit/comments/renamed_files regex '(renamed):\h+(.+)' 1:attribute 2:GitRenamedFile[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Scissors[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# https://git-scm.com/docs/git-commit#Documentation/git-commit.txt-scissors[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter -override shared/git/commit/comments/scissors regex '# ------------------------ >8 ------------------------' 0:GitScissors[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Diffs[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter -override shared/git/commit/diffs region '^diff --git' '^(?=diff --git)' group[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter -override shared/git/commit/diffs/information regex '^\w.+$' 0:GitInformation[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter -override shared/git/commit/diffs/regions ref git/diff[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Diff ┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# https://git-scm.com/docs/git-diff[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# https://en.wikipedia.org/wiki/Diff#Unified_format[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter -override shared/git/diff regions[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter -override shared/git/diff/original_files region '^---' '$' fill DiffHeader[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter -override shared/git/diff/new_files region '^\Q+++' '$' fill DiffHeader[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter -override shared/git/diff/range_information region '^@@' '$' fill DiffHeader[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter -override shared/git/diff/line_additions region '^\+' '$' fill DiffInserted[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter -override shared/git/diff/line_deletions region '^-' '$' fill DiffDeleted[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter -override shared/git/diff/contextual_lines region '^\h' '$' fill DiffText[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Rebase ┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# https://git-scm.com/docs/git-rebase[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter -override shared/git/rebase regions[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter -override shared/git/rebase/comments region '^#' '$' group[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter -override shared/git/rebase/comments/region fill comment[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter -override shared/git/rebase/commands region '^\w' '$' group[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter -override shared/git/rebase/commands/region regex '^(p|pick|r|reword|e|edit|s|squash|f|fixup|x|exec|b|break|d|drop|l|label|t|reset|m|merge)\h+(\w+)\h+(.+)$' 1:keyword 2:value 3:default[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Detection ┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Files[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# https://git-scm.com/docs/git-config#FILES[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mremove-hooks global git-config[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mhook -group git-config global BufOpenFile '.*/etc/gitconfig|.*/git/config|.*/\.gitconfig|.*/\.git/config|.*/\.git/config\.worktree' %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  set-option buffer filetype ini[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Files[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# https://git-scm.com/docs/git-commit#_files[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mremove-hooks global git-commit[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mhook -group git-commit global BufOpenFile '.*/\.git/COMMIT_EDITMSG' %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  set-option buffer filetype git-commit[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mhook -group git-commit global WinSetOption filetype=git-commit %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  add-highlighter -override window/git-commit ref git/commit[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Files[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# https://git-scm.com/docs/git-rebase[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mremove-hooks global git-rebase[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mhook -group git-rebase global BufOpenFile '.*/\.git/rebase-merge/git-rebase-todo' %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  set-option buffer filetype git-rebase[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mhook -group git-rebase global WinSetOption filetype=git-rebase %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  add-highlighter -override window/git-rebase ref git/rebase[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# == Faces[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Whitespace characters:[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# - `Tab` ⇒ `WhitespaceError`[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# - `Newline` ⇒ `Whitespace`[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# - `NonBreakingSpace` ⇒ `WhitespaceError`[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# - `Indent` ⇒ `Whitespace`[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# - `MixedIndent` ⇒ `WhitespaceError`[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# - `OddIndent` ⇒ `WhitespaceError`[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Extra whitespace:[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# - `TrailingWhitespace` ⇒ `WhitespaceError`[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# - `ConsecutiveWhitespace` ⇒ `WhitespaceWarning`[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Generic faces:[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# - `WhitespaceRuler` ⇒ `green+fu`[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# - `WhitespaceError` ⇒ `red+fc`[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# - `WhitespaceWarning` ⇒ `red+fc`[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter global/whitespace ref whitespace[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# * Individual faces for whitespace (tabs, newlines, non-breaking-spaces) and indent.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# * Show whitespace oddities:[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# ** Trailing whitespace (only shown when not in insert mode).[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# ** Odd and mixed indent.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# * Show consecutive whitespace.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# * Show limit of 80 characters (useful for horizontal lines).[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# add-highlighter global/whitespace ref whitespace[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Refined show whitespace[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Faces ────────────────────────────────────────────────────────────────────────[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Whitespace characters:[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global Tab WhitespaceError[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global Newline Whitespace[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global NonBreakingSpace WhitespaceError[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Indentation rules:[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global Indent Whitespace[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global MixedIndent WhitespaceError[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global OddIndent WhitespaceError[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Extra whitespace:[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global TrailingWhitespace WhitespaceError[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global ConsecutiveWhitespace WhitespaceWarning[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Generic faces:[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global WhitespaceRuler 'green+fu'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global WhitespaceError 'red+fc'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global WhitespaceWarning 'red+fc'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Hooks ────────────────────────────────────────────────────────────────────────[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Only shown when not in insert mode.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mremove-hooks global whitespace[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mhook -group whitespace -always global ModeChange 'push:normal:insert' %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  set-face window TrailingWhitespace Whitespace[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  set-face window ConsecutiveWhitespace Whitespace[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  # Restore[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  hook -always -once window ModeChange 'pop:insert:normal' %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    unset-face window TrailingWhitespace[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    unset-face window ConsecutiveWhitespace[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Highlighters ─────────────────────────────────────────────────────────────────[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Order matters:[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m#[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# “You can think of highlighters as like a list of painting instructions.” — Screwtape[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m#[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter -override shared/whitespace group[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Show whitespace (tabs, newlines, non-breaking-spaces).[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter -override shared/whitespace/tab regex '\t+' '0:Tab'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter -override shared/whitespace/newline regex '\n+' '0:Newline'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter -override shared/whitespace/non-breaking-space regex ' +' '0:NonBreakingSpace'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Show consecutive whitespace, then paint over indent.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter -override shared/whitespace/consecutive-whitespace regex '\h{2,}' '0:ConsecutiveWhitespace'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter -override shared/whitespace/indent regex '^\h+' '0:Indent'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Show trailing whitespace.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter -override shared/whitespace/trailing-whitespace regex '\h+$' '0:TrailingWhitespace'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Show odd and mixed indent.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter -override shared/whitespace/odd-indent regex '^( {1}| {3}| {5}| {7}| {9}| {11}| {13}| {15}| {17}| {19})(?=\H)' '0:OddIndent'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter -override shared/whitespace/mixed-indent regex '^(\t+ | +\t)\h*' '0:MixedIndent'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Show limit of 80 characters.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter -override shared/whitespace/ruler regex '(?S)^.{80}$\K\n' '0:WhitespaceRuler'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Sensible[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Enter `search` and start typing to search.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Press `Tab` to skim through the occurrences.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Show search with `show-search` or enter search mode then `Escape`.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Options ──────────────────────────────────────────────────────────────────────[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Sensible scroll-off: 5 lines and 1 column.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-option global scrolloff 5,1[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter -override global/show-matching show-matching[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter -override global/number-lines number-lines -relative -hlcursor[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Initialization[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Highlighters[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# set-face global LineNumberSelected red[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# offscreen[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# hidden[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# MultipleSelections[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# set-face global insert green[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# set-face global selection blue[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Commands ─────────────────────────────────────────────────────────────────────[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mremove-hooks global sensible-mode[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mhook -group sensible-mode -always global ModeChange 'push:normal:insert' %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  add-highlighter -override window/number-lines number-lines -hlcursor[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  set-face window PrimaryCursor 'black,white+uB'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  set-face window PrimaryCursorEol 'black,white+uB'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mhook -group sensible-mode -always global ModeChange 'pop:insert:normal' %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  add-highlighter -override window/number-lines number-lines -relative -hlcursor[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  unset-face window PrimaryCursor[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  unset-face window PrimaryCursorEol[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Commands ─────────────────────────────────────────────────────────────────────[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mremove-hooks global sensible-cursor-line[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mhook -group sensible-cursor-line -always global NormalIdle '' %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  # Restore _t_ (top) and _b_ (bottom) registers.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  evaluate-commands -draft %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    unset-face window LineNumberCursor[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    # Multiple selections:[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    try %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m      execute-keys -draft '<a-space>'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m      set-face window LineNumberCursor DiagnosticWarning[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    # Hidden selections above:[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    try %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m      execute-keys -draft 'Zgt"tZb"tzGe<a-z>a<a-space>'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m      set-face window LineNumberCursor DiagnosticError[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    # Hidden selections below:[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    try %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m      execute-keys -draft 'Zgbgll"bZe"bzGg<a-z>a<a-space>'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m      set-face window LineNumberCursor DiagnosticError[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Commands ─────────────────────────────────────────────────────────────────────[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Commands ─────────────────────────────────────────────────────────────────────[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Faces[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global Search 'black,yellow'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mremove-hooks global show-search[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mhook -group show-search -always global NormalKey '/|<a-/>|\?|<a-\?>' %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  add-highlighter window/search ref search[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  # add-highlighter -override window/wrap wrap -word -marker '↪'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  hook -always -once window ModeChange 'pop:prompt:normal' %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    remove-highlighter window/search[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    # remove-highlighter window/wrap[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mhook -group show-search global RegisterModified '/' %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  try %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    add-highlighter -override shared/search regex "%reg{/}" 0:Search[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  } catch %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    remove-highlighter shared/search[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Internal variables[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdeclare-option -hidden range-specs selected_text_ranges[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global Search black,yellow+fg[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global SelectedText black,blue+fg[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdefine-command -override -hidden update-selected-text-ranges %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  # Reset ranges[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  unset-option window selected_text_ranges[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  try %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    evaluate-commands -draft -save-regs '^' %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m      execute-keys '<a-k>..<ret>'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m      execute-keys '<a-K>\A\h+\z<ret>'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m      # Initialize ranges[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m      set-option window selected_text_ranges %val{timestamp}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m      # Mark the main selection[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m      # Mark other selections[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m      evaluate-commands -draft %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        execute-keys '*%s<ret>'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        evaluate-commands -itersel %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m          set-option -add window selected_text_ranges "%val{selection_desc}|SelectedText"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m      }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m      evaluate-commands -itersel %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        set-option -remove window selected_text_ranges "%val{selection_desc}|SelectedText"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m      }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Initialization[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter -override global/selected-text ranges selected_text_ranges[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mremove-hooks global show-selected-text[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mhook -group show-selected-text -always global NormalIdle '' update-selected-text-ranges[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mhook -group show-selected-text -always global InsertIdle '' update-selected-text-ranges[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Initialization[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Crystal[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# https://crystal-lang.org[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# kakoune-crystal[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# This [Kakoune] extension provides support for the [Crystal] programming language.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# [Kakoune]: https://kakoune.org[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# [Crystal]: https://crystal-lang.org[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m## Features[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# - Syntax highlighting[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# - Auto-indentation[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Configuration ────────────────────────────────────────────────────────────────[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Word pattern[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# https://code.visualstudio.com/api/language-extensions/language-configuration-guide#word-pattern[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdeclare-option -docstring 'Crystal word pattern' str crystal_word_pattern '\w+[?!]?'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Reference[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m#[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# https://crystal-lang.org/reference/master/syntax_and_semantics/control_expressions.html[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m#[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# https://crystal-lang.org/reference/master/syntax_and_semantics/if.html[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m#[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# value = if some_condition[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# elsif some_other_condition[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# else[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# end[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m#[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# https://crystal-lang.org/reference/master/syntax_and_semantics/unless.html[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m#[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# value = unless some_condition[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# end[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m#[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# https://crystal-lang.org/reference/master/syntax_and_semantics/case.html[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m#[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# value = case expression[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# when value[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# end[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m#[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# value = case expression[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# in value[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# end[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m#[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# https://crystal-lang.org/reference/master/syntax_and_semantics/while.html[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m#[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# while some_condition[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# end[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m#[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# https://crystal-lang.org/reference/master/syntax_and_semantics/until.html[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m#[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# until some_condition[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# end[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m#[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# https://crystal-lang.org/reference/master/syntax_and_semantics/types_and_methods.html[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# https://crystal-lang.org/reference/master/syntax_and_semantics/visibility.html[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# https://crystal-lang.org/reference/master/syntax_and_semantics/virtual_and_abstract_types.html[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m#[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# https://crystal-lang.org/reference/master/syntax_and_semantics/classes_and_methods.html[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m#[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# class Person[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# end[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m#[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# private class Person[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# end[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m#[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# abstract class Person[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# end[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m#[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# private abstract class Person[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# end[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m#[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# def name[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# end[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m#[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# private def name[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# end[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m#[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# protected def name[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# end[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m#[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# https://crystal-lang.org/reference/master/syntax_and_semantics/modules.html[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m#[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# module JSON[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# end[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m#[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# private module JSON[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# end[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m#[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# https://crystal-lang.org/reference/master/syntax_and_semantics/structs.html[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m#[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# struct Point[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# end[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m#[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# private struct Point[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# end[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m#[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# abstract struct Point[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# end[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m#[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# private abstract struct Point[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# end[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m#[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# https://crystal-lang.org/reference/master/syntax_and_semantics/enum.html[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m#[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# enum Color[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# end[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m#[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# private enum Color[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# end[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m#[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# https://crystal-lang.org/reference/master/syntax_and_semantics/blocks_and_procs.html[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m#[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# loop do[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# end[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m#[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# https://crystal-lang.org/reference/master/syntax_and_semantics/exception_handling.html[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m#[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# begin[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# rescue exception[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# ensure[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# end[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m#[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# https://crystal-lang.org/reference/master/syntax_and_semantics/macros/[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m#[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# macro version[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# end[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m#[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# https://crystal-lang.org/reference/master/syntax_and_semantics/annotations/[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m#[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# annotation Link[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# end[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m#[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# https://crystal-lang.org/reference/master/syntax_and_semantics/c_bindings/[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# https://crystal-lang.org/reference/master/syntax_and_semantics/c_bindings/lib.html[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m#[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# lib C[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# end[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m#[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# private lib C[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# end[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Detection ────────────────────────────────────────────────────────────────────[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Sets Crystal filetype when opening `.cr` files.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mremove-hooks global crystal-detection[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mhook -group crystal-detection global BufCreate '.+\.cr' %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  set-option buffer filetype crystal[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Enables syntax highlighting for Crystal filetype.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mremove-hooks global crystal-highlight[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mhook -group crystal-highlight global WinSetOption filetype=crystal %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  add-highlighter -override window/crystal ref crystal[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  hook -always -once window WinSetOption 'filetype=.*' %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    remove-highlighter window/crystal[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Configures word selection and completion for Crystal filetype.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# `static_words` option is generated with `crystal-check-news`.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mremove-hooks global crystal-config[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mhook -group crystal-config global WinSetOption filetype=crystal %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  set-option window increase_indent_pattern '^\h*(if|elsif|else|unless|case|when|case|in|while|until|class|private\h+class|abstract\h+class|private\h+abstract\h+class|def|private\h+def|protected\h+def|module|private\h+module|struct|private\h+struct|abstract\h+struct|private\h+abstract\h+struct|enum|private\h+enum|begin|rescue|ensure|macro|annotation|lib|private\h+lib)[^;]*$|\h(do)[^;]*$|\w+\h*=\h*(if|unless|case|begin)[^;]*$'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  set-option window decrease_indent_pattern '^\h*(elsif|else|end|when|in|rescue|ensure)$'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  set-option window ignore_indent_pattern '^\h*#'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  set-option window line_comment_token '#'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  set-option buffer extra_word_chars '_' '?' '!'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  set-option window static_words 'abort' 'abstract' 'alias' 'annotation' 'as' 'as?' 'asm' 'at_exit' 'begin' 'break' 'caller' 'case' 'class' 'class_getter' 'class_getter!' 'class_getter?' 'class_property' 'class_property!' 'class_property?' 'class_setter' 'debugger' 'def' 'def_clone' 'def_equals' 'def_equals_and_hash' 'def_hash' 'delegate' 'do' 'else' 'elsif' 'end' 'ensure' 'enum' 'exit' 'extend' 'false' 'for' 'forward_missing_to' 'fun' 'gets' 'getter' 'getter!' 'getter?' 'if' 'in' 'include' 'instance_size→[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  hook -always -once window WinSetOption 'filetype=.*' %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    unset-option window line_comment_token[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    unset-option buffer extra_word_chars[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    unset-option window static_words[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Indentation ──────────────────────────────────────────────────────────────────[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Highlighters ─────────────────────────────────────────────────────────────────[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Creates the base regions[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter -override shared/crystal regions[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter -override shared/crystal/code default-region group[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Syntax and semantics ┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Classes[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Comments[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Constants[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Entities[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Functions/Methods[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Keywords[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Language Built-ins[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Punctuation[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Storage[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Strings[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Variables[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Scope Naming[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Naming conventions[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Sublime Text[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# TextMate[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# https://docs.helix-editor.com/themes.html#syntax-highlighting[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# https://macromates.com/manual/en/language_grammars[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# https://github.com/crystal-lang-tools/vscode-crystal-lang/blob/master/syntaxes/crystal.json[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# https://code.visualstudio.com/api/language-extensions/syntax-highlight-guide[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# https://sublimetext.com/docs/scope_naming.html[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Reference[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# https://crystal-lang.org/reference/master/syntax_and_semantics/[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Method definition and call ┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Reference[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# https://crystal-lang.org/reference/master/syntax_and_semantics/method_arguments.html[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter -override shared/crystal/code/instance-method-definition regex "\b(def)\h+(%opt{crystal_word_pattern})\b" 1:keyword 2:function[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter -override shared/crystal/code/class-method-definition regex "\b(def)\h+(self\.%opt{crystal_word_pattern})\b" 1:keyword 2:function[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter -override shared/crystal/code/method-call regex "\b(%opt{crystal_word_pattern})\(" 1:function[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Instance and class variables ┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Reference[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# https://crystal-lang.org/reference/master/syntax_and_semantics/methods_and_instance_variables.html[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# https://crystal-lang.org/reference/master/syntax_and_semantics/class_variables.html[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter -override shared/crystal/code/instance-and-class-variables regex '@@?\w+\b' 0:variable[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Keywords ┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Note:[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Generated with `crystal-check-news`.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter -override shared/crystal/code/keyword regex '\binstance_sizeof\b|\buninitialized\b|\bresponds_to\?|\bannotation\b|\bprotected\b|\bpointerof\b|\bverbatim\b|\boffsetof\b|\babstract\b|\brequire\b|\bprivate\b|\binclude\b|\bunless\b|\btypeof\b|\bstruct\b|\bsizeof\b|\bselect\b|\breturn\b|\brescue\b|\bmodule\b|\bextend\b|\bensure\b|\byield\b|\bwhile\b|\buntil\b|\bunion\b|\bsuper\b|\bmacro\b|\bis_a\?|\bfalse\b|\belsif\b|\bclass\b|\bbreak\b|\bbegin\b|\balias\b|\bwith\b|\bwhen\b|\btype\b|\btrue\b|\b→[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Built-in functions ┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Note:[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Generated with `crystal-check-news`.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter -override shared/crystal/code/support.function.kernel regex '\braise_without_backtrace\b|\btimeout_select_action\b|\binstance_sizeof\b|\bread_line\b|\bpointerof\b|\boffsetof\b|\bdebugger\b|\bsprintf\b|\bat_exit\b|\btypeof\b|\bsystem\b|\bsizeof\b|\brecord\b|\bprintf\b|\bcaller\b|\bspawn\b|\bsleep\b|\braise\b|\bprint\b|\babort\b|\brand\b|\bputs\b|\bmain\b|\bloop\b|\bgets\b|\bexit\b|\bpp!|\bpp\b|\bp!|\bp\b' 0:builtin[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter -override shared/crystal/code/support.function.object regex '\bdef_equals_and_hash\b|\bforward_missing_to\b|\bclass_property\?|\bclass_property!|\bclass_property\b|\bclass_getter\?|\bclass_getter!|\bclass_setter\b|\bclass_getter\b|\bdef_equals\b|\bproperty\?|\bproperty!|\bdef_clone\b|\bproperty\b|\bdelegate\b|\bdef_hash\b|\bgetter\?|\bgetter!|\bsetter\b|\bgetter\b' 0:builtin[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Punctuation ┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# punctuation.separator[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter -override shared/crystal/code/punctuation.separator regex '\.|::' 0:meta[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Operators ┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Reference[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# https://crystal-lang.org/reference/master/syntax_and_semantics/operators.html[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter -override shared/crystal/code/operator regex '[!%&*+/<=>^|~-]' 0:operator[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter -override shared/crystal/code/operator.range regex '\.\.\.?' 0:operator[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Constants ┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Reference[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# https://crystal-lang.org/reference/master/syntax_and_semantics/constants.html[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter -override shared/crystal/code/variable.constant regex '\b[A-Z]\w*\b' 0:value[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Numbers ┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Reference[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# https://crystal-lang.org/reference/master/syntax_and_semantics/literals/integers.html[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# https://crystal-lang.org/reference/master/syntax_and_semantics/literals/floats.html[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Examples:[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m#[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# decimal number ⇒ 1_000_000[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# float number ⇒ 1_000_000.111_111[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m#[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter -override shared/crystal/code/constant.numeric.integer.decimal regex '\b\d(_?\d+)*(_[iu](8|16|32|64|128))?\b' 0:value[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter -override shared/crystal/code/constant.numeric.float.decimal regex '\b\d(_?\d+)*\.\d(_?\d+)*(_(f32|f64))?\b' 0:value[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Examples:[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m#[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# binary number ⇒ 0b1101[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# octal number ⇒ 0o123[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# hexadecimal number ⇒ 0xfe012d[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m#[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter -override shared/crystal/code/constant.numeric.integer.binary regex '\b0b[0-1]+(_[iu](8|16|32|64|128))?\b' 0:value[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter -override shared/crystal/code/constant.numeric.integer.octal regex '\b0o[0-7]+(_[iu](8|16|32|64|128))?\b' 0:value[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter -override shared/crystal/code/constant.numeric.integer.hexadecimal regex '\b0x[0-9a-fA-F]+(_[iu](8|16|32|64|128))?\b' 0:value[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Comments ┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Reference[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# https://crystal-lang.org/reference/master/syntax_and_semantics/comments.html[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Note: Avoid string literals with interpolation.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m#[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Example:[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m#[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# puts "hello #{name}"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m#[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter -override shared/crystal/comment region '#(?!\{)' '$' group[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter -override shared/crystal/comment/fill fill comment[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Documenting code ┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Reference[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# https://crystal-lang.org/reference/master/syntax_and_semantics/documenting_code.html[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Example:[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m#[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# A unicorn is a **legendary animal**.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m#[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# To create a unicorn:[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m#[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# ```[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# unicorn = Unicorn.new[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# unicorn.speak[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# ```[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m#[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Check the number of horns with `#horns`.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m#[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter -override shared/crystal/comment/reference regex "`[#.]?%opt{crystal_word_pattern}`" 0:mono[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter -override shared/crystal/comment/parameter regex '\*\w+\*' 0:mono[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter -override shared/crystal/comment/code-block regex '```(\h*\w+)?$' 0:block[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter -override shared/crystal/comment/admonition regex '\h+([A-Z]+):\h+' 1:meta[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter -override shared/crystal/comment/directive regex ':\w+:' 0:meta[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Interpolation ┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Reference[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# https://crystal-lang.org/reference/master/syntax_and_semantics/literals/string.html#interpolation[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# https://crystal-lang.org/reference/master/syntax_and_semantics/literals/string.html#escaping[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Defines Crystal raw string.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m#[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Syntax:[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m#[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# define-crystal-string <region-name> <face-name> [<region-switches>] <opening-pattern> <closing-pattern>[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m#[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Example:[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m#[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# define-crystal-string raw-parenthesis-string string -recurse '\(' '%q\(' '\)'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m#[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# puts %q(hello world)[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m#[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdeclare-option -hidden str-list crystal_optional_arguments[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdefine-command -override -hidden define-crystal-string -params 4.. %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  set-option global crystal_optional_arguments %arg{@}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  set-option -remove global crystal_optional_arguments %arg{1} %arg{2}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  add-highlighter -override "shared/crystal/%arg{1}" region %opt{crystal_optional_arguments} regions[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  add-highlighter -override "shared/crystal/%arg{1}/content" default-region group[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  add-highlighter -override "shared/crystal/%arg{1}/content/fill" fill %arg{2}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  add-highlighter -override "shared/crystal/%arg{1}/content/escaped-character" regex '\\.' 0:meta[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  add-highlighter -override "shared/crystal/%arg{1}/content/escape-sequence" regex '\\(x[0-9a-fA-F]{2}|u[0-9a-fA-F]{4}|u\{[0-9a-fA-F]+\})' 0:meta[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Defines Crystal string interpolation.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m#[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Syntax:[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m#[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# define-crystal-interpolated-string <region-name> <face-name> [<region-switches>] <opening-pattern> <closing-pattern>[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m#[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Example:[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m#[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# define-crystal-interpolated-string parenthesis-string string -recurse '\(' '%\(' '\)'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m#[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# name = "world"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# puts %(hello #{name})[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m#[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdefine-command -override -hidden define-crystal-interpolated-string -params 4.. %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  define-crystal-string %arg{@}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  add-highlighter -override "shared/crystal/%arg{1}/interpolation" region -recurse '\{' '#\{' '\}' group # }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  add-highlighter -override "shared/crystal/%arg{1}/interpolation/delimiters" regex '(?<opening>..).+(?<closing>.)' opening:meta closing:meta[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  add-highlighter -override "shared/crystal/%arg{1}/interpolation/crystal" ref crystal[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Characters ┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Reference[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# https://crystal-lang.org/reference/master/syntax_and_semantics/literals/char.html[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Examples:[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m#[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# simple character ⇒ 'a'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# single quote ⇒ '\''[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# backslash ⇒ '\\'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m#[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter -override shared/crystal/string region "'" "(?<!\\)(\\\\)*'" regions[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter -override shared/crystal/string/content default-region group[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter -override shared/crystal/string/content/fill fill value[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter -override shared/crystal/string/content/escaped-character regex '\\.' 0:meta[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter -override shared/crystal/string/content/escape-sequence regex '\\(x[0-9a-fA-F]{2}|u[0-9a-fA-F]{4}|u\{[0-9a-fA-F]+\})' 0:meta[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# define-crystal-string string.character value "'" "(?<!\\)(\\\\)*'"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Strings ┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Reference[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# https://crystal-lang.org/reference/master/syntax_and_semantics/literals/string.html[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# String literal ┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Examples:[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m#[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# simple string ⇒ "hello world"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# double quote ⇒ "\""[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# backslash ⇒ "\\"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m#[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter -override shared/crystal/string.interpolated region '"' '(?<!\\)(\\\\)*"' regions[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter -override shared/crystal/string.interpolated/content default-region group[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter -override shared/crystal/string.interpolated/content/fill fill string[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter -override shared/crystal/string.interpolated/content/escaped-character ref crystal/string/content/escaped-character[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter -override shared/crystal/string.interpolated/content/escape-sequence ref crystal/string/content/escape-sequence[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter -override shared/crystal/string.interpolated/interpolation region -recurse '\{' '#\{' '\}' group[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter -override shared/crystal/string.interpolated/interpolation/delimiters regex '(?<opening>..).+(?<closing>.)' opening:meta closing:meta[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter -override shared/crystal/string.interpolated/interpolation/crystal ref crystal[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# define-crystal-interpolated-string string.quoted.double string '"' '(?<!\\)(\\\\)*"'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Percent string literals ┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Reference[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# https://crystal-lang.org/reference/master/syntax_and_semantics/literals/string.html#percent-string-literals[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Example:[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m#[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# name = "world"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# puts %Q(hello #{name})[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m#[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter -override shared/crystal/string.quoted.percent.parenthesis.interpolated region -recurse '\(' '%Q?\(' '\)' ref crystal/string.interpolated[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter -override shared/crystal/string.quoted.percent.bracket.interpolated region -recurse '\[' '%Q?\[' '\]' ref crystal/string.interpolated[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter -override shared/crystal/string.quoted.percent.brace.interpolated region -recurse '\{' '%Q?\{' '\}' ref crystal/string.interpolated[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter -override shared/crystal/string.quoted.percent.angle.interpolated region -recurse '<' '%Q?<' '>' ref crystal/string.interpolated[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter -override shared/crystal/string.quoted.percent.pipe.interpolated region '%Q?\|' '\|' ref crystal/string.interpolated[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Raw percent string literals ┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Reference[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# https://crystal-lang.org/reference/master/syntax_and_semantics/literals/string.html#percent-string-literals[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# https://crystal-lang.org/reference/master/syntax_and_semantics/literals/string.html#percent-string-array-literal[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# https://crystal-lang.org/reference/master/syntax_and_semantics/literals/symbol.html#percent-symbol-array-literal[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Example:[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m#[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# puts %q(hello world)[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m#[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter -override shared/crystal/string.quoted.percent.parenthesis region -recurse '\(' '%[qwi]\(' '\)' ref crystal/string[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter -override shared/crystal/string.quoted.percent.bracket region -recurse '\[' '%[qwi]\[' '\]' ref crystal/string[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter -override shared/crystal/string.quoted.percent.brace region -recurse '\{' '%[qwi]\{' '\}' ref crystal/string[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter -override shared/crystal/string.quoted.percent.angle region -recurse '<' '%[qwi]<' '>' ref crystal/string[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter -override shared/crystal/string.quoted.percent.pipe region '%[qwi]\|' '\|' ref crystal/string[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Here document ┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Reference[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# https://crystal-lang.org/reference/master/syntax_and_semantics/literals/string.html#heredoc[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Example:[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m#[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# <<-'EOF'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# EOF[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m#[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter -override shared/crystal/string.unquoted.heredoc.interpolated region -match-capture '<<-(\w+)' '^\h*(\w+)$' ref crystal/string.interpolated[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter -override shared/crystal/string.unquoted.heredoc.raw region -match-capture "<<-'(\w+)'" '^\h*(\w+)$' ref crystal/string[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Symbols ┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Reference[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# https://crystal-lang.org/reference/master/syntax_and_semantics/literals/symbol.html[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Symbol literal ┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Example:[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m#[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# :"quoted symbol"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m#[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter -override shared/crystal/code/constant.symbol regex ":%opt{crystal_word_pattern}" 0:value[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter -override shared/crystal/string.symbol region ':"' '(?<!\\)(\\\\)*"' ref crystal/string[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Regular expressions ┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Reference[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# https://crystal-lang.org/reference/master/syntax_and_semantics/literals/regex.html[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Regex literal ┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Example:[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m#[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# /foo/i.match("FOO")[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m#[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter -override shared/crystal/string.regexp.interpolated region '/' '(?<!\\)(\\\\)*/[imx]*' regions[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter -override shared/crystal/string.regexp.interpolated/content default-region group[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter -override shared/crystal/string.regexp.interpolated/content/fill fill meta[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter -override shared/crystal/string.regexp.interpolated/content/escaped-character ref crystal/string/content/escaped-character[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter -override shared/crystal/string.regexp.interpolated/content/escape-sequence ref crystal/string/content/escape-sequence[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter -override shared/crystal/string.regexp.interpolated/interpolation region -recurse '\{' '#\{' '\}' group[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter -override shared/crystal/string.regexp.interpolated/interpolation/delimiters ref crystal/string.interpolated/interpolation/delimiters[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter -override shared/crystal/string.regexp.interpolated/interpolation/crystal ref crystal[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Note: Avoid unterminated regular expression and floor division as regex.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m#[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Examples:[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m#[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# division ⇒ 1 / 2[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# floor division ⇒ 1 // 2[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m#[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter -override shared/crystal/division-as-region region ' //? ' '.\K' group[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter -override shared/crystal/division-as-region/operator regex '//?' 0:operator[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Percent regex literals ┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Example:[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m#[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# %r(foo|bar)[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m#[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter -override shared/crystal/string.regexp.percent.parenthesis.interpolated region -recurse '\(' '%r\(' '\)[imx]*' ref crystal/string.regexp.interpolated[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter -override shared/crystal/string.regexp.percent.bracket.interpolated region -recurse '\[' '%r\[' '\][imx]*' ref crystal/string.regexp.interpolated[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter -override shared/crystal/string.regexp.percent.brace.interpolated region -recurse '\{' '%r\{' '\}[imx]*' ref crystal/string.regexp.interpolated[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter -override shared/crystal/string.regexp.percent.angle.interpolated region -recurse '<' '%r<' '>[imx]*' ref crystal/string.regexp.interpolated[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter -override shared/crystal/string.regexp.percent.pipe.interpolated region '%r\|' '\|[imx]*' ref crystal/string.regexp.interpolated[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Command literal ┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Reference[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# https://crystal-lang.org/reference/master/syntax_and_semantics/literals/command.html[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Example:[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m#[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# `echo foo`[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m#[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter -override shared/crystal/string.command region '`' '(?<!\\)(\\\\)*`' ref crystal/string.regexp.interpolated[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Percent command literals ┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Example:[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m#[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# %x(echo foo)[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m#[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter -override shared/crystal/string.command.percent.parenthesis region -recurse '\(' '%x\(' '\)' ref crystal/string.regexp.interpolated[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter -override shared/crystal/string.command.percent.bracket region -recurse '\[' '%x\[' '\]' ref crystal/string.regexp.interpolated[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter -override shared/crystal/string.command.percent.brace region -recurse '\{' '%x\{' '\}' ref crystal/string.regexp.interpolated[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter -override shared/crystal/string.command.percent.angle region -recurse '<' '%x<' '>' ref crystal/string.regexp.interpolated[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter -override shared/crystal/string.command.percent.pipe region '%x\|' '\|' ref crystal/string.regexp.interpolated[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# What’s new ───────────────────────────────────────────────────────────────────[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Builds a ready for use `str-list` and `regex` with selections.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m#[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Usage:[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m#[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Fetch a document, select keywords and call `crystal-build-result keywords`.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m#[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdefine-command -override -hidden crystal-build-result -params 1 %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  # Initialization[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  execute-keys -save-regs '' 'y'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  edit -scratch[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  execute-keys '%<a-R>a<ret><esc>y%<a-R>%|sort -u<ret><a-s>_'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  echo -debug crystal %arg{1} as str-list:[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  echo -debug -quoting kakoune %val{selections}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  execute-keys '%|awk ''{ print length, $0 }'' | sort -n -r | cut -d " " -f 2-<ret><a-s>_'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  execute-keys -save-regs '' '*'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  echo -debug crystal %arg{1} as regex:[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  echo -debug -quoting kakoune %val{main_reg_slash}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  # Cleanup[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  delete-buffer[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  echo 'Open the *debug* buffer to see result.'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdefine-command -override -hidden crystal-build-result-with-static-words -params 1 %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  crystal-build-result %arg{1}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  set-option -add window static_words %val{selections}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdefine-command -override -hidden crystal-check-news %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  # Initialization[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  edit -scratch[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  set-option window static_words[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  # Keywords ⇒ https://github.com/crystal-lang/crystal/blob/master/src/compiler/crystal/syntax/lexer.cr[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  execute-keys '%|curl -sSL https://github.com/crystal-lang/crystal/raw/master/src/compiler/crystal/syntax/lexer.cr<ret>'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  execute-keys '%1<s>check_ident_or_keyword\(:(%opt{crystal_word_pattern}<a-!>),\h+\w+\)<ret>Z%1<s>@token\.value\h+=\h+:(%opt{crystal_word_pattern}<a-!>)<ret><a-z>a'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  crystal-build-result-with-static-words keywords[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  # Top Level Namespace[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  # https://crystal-lang.org/api/master/toplevel.html#method-summary[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  # https://crystal-lang.org/api/master/toplevel.html#macro-summary[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  execute-keys '%|curl -sSL https://crystal-lang.org/api/master/toplevel.html<ret>'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  execute-keys '%1<s>class="entry-detail"\h+id="(%opt{crystal_word_pattern}<a-!>)[^"]*-(method|macro)"<ret>'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  crystal-build-result-with-static-words top-level-namespace[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  # Object macros ⇒ https://crystal-lang.org/api/master/Object.html#macro-summary[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  execute-keys '%|curl -sSL https://crystal-lang.org/api/master/Object.html<ret>'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  execute-keys '%1<s>class="entry-detail"\h+id="(%opt{crystal_word_pattern}<a-!>)[^"]*-(macro)"<ret>'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  crystal-build-result-with-static-words object-macros[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  # Static words[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  set-register dquote %opt{static_words}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  execute-keys '%<a-R>'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  crystal-build-result static_words[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  # Cleanup[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  delete-buffer[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  echo 'Open the *debug* buffer to see result.'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# =====================================================[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# ~/.config/kak/autoload/mawww/asciidoc.kak[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# =====================================================[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# http://asciidoc.org/[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# ‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Detection[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# ‾‾‾‾‾‾‾‾‾[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mhook global BufCreate .+\.(a(scii)?doc|asc) %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    set-option buffer filetype asciidoc[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Initialization[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# ‾‾‾‾‾‾‾‾‾‾‾‾‾‾[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mhook -group asciidoc-highlight global WinSetOption filetype=asciidoc %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    require-module asciidoc[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    add-highlighter window/asciidoc ref asciidoc[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    hook -once -always window WinSetOption filetype=.* %{ remove-highlighter window/asciidoc }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mprovide-module asciidoc %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Highlighters[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# ‾‾‾‾‾‾‾‾‾‾‾‾[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/asciidoc group[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Titles and headers (multi-line style)[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/asciidoc/ regex (\A|\n\n)[^\n]+\n={2,}\h*$ 0:title[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/asciidoc/ regex (\A|\n\n)[^\n]+\n-{2,}\h*$ 0:header[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/asciidoc/ regex (\A|\n\n)[^\n]+\n~{2,}\h*$ 0:header[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/asciidoc/ regex (\A|\n\n)[^\n]+\n\^{2,}\h*$ 0:header[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Titles and headerss (one-line style)[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/asciidoc/ regex (\A|\n\n)=\h+[^\n]+$ 0:title[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/asciidoc/ regex (\A|\n\n)={2,}\h+[^\n]+$ 0:header[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Comments[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/asciidoc/ regex ^//(?:[^\n/][^\n]*|)$ 0:comment[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/asciidoc/ regex ^(/{4,}).*?\n(/{4,})$ 0:comment[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# List titles[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/asciidoc/ regex ^\.[^\h\W][^\n]*$ 0:title[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Bulleted lists[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/asciidoc/ regex ^\h*(?<bullet>[-\*])\h+[^\n]+$ 0:list bullet:bullet[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/asciidoc/ regex ^\h*(?<bullet>[-\*]+)\h+[^\n]+(\n\h+[^-\*\n]*)?$ 0:list bullet:bullet[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Delimited blocks[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# https://docs.asciidoctor.org/asciidoc/latest/blocks/delimited/[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/asciidoc/ regex ^(-{4,})\n[^\n\h].*?\n(-{4,})$ 0:block[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/asciidoc/ regex ^(={4,})\n[^\n\h].*?\n(={4,})$ 0:block[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/asciidoc/ regex ^(~{4,})\n[^\n\h].*?\n(~{4,})$ 0:block[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/asciidoc/ regex ^(\*{4,})\n[^\n\h].*?\n(\*{4,})$ 0:block[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Monospaced text[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/asciidoc/ regex \B(?:\+[^\n]+?\+|`[^\n]+?`)\B 0:mono[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Bolded text[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/asciidoc/ regex \s\*[^\n\*]+\*\B 0:+b[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/asciidoc/ regex \h\*[^\n\*]+\*\B 0:+b[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/asciidoc/ regex \*{2}(?!\h)[^\n\*]+\*{2} 0:+b[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/asciidoc/ regex \h\*{2}[^\n\*]+\*{2} 0:+b[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Italicized text[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# (these are simpler since they aren't able to _also_ be bullet characters.)[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/asciidoc/ regex \b_[^\n]+?_\b 0:+i[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/asciidoc/ regex __[^\n]+?__ 0:+i[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Attributes[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/asciidoc/ regex ^:(?:(?<neg>!?)[-\w]+|[-\w]+(?<neg>!?)): 0:meta neg:operator[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/asciidoc/ regex [^\\](\{[-\w]+\})[^\\]? 1:meta[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Options[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/asciidoc/ regex ^\[[^\n]+\]$ 0:operator[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Admonition pargraphs[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/asciidoc/ regex ^(NOTE|TIP|IMPORTANT|CAUTION|WARNING): 0:block[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/asciidoc/ regex ^\[(NOTE|TIP|IMPORTANT|CAUTION|WARNING)\]$ 0:block[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Links, inline macros[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/asciidoc/ regex \b((?:https?|ftp|irc://)[^\h\[]+)\[([^\n]*)?\] 1:link 2:+i[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/asciidoc/ regex (link|mailto):([^\n]+)(?:\[([^\n]*)\]) 1:keyword 2:link 3:+i[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/asciidoc/ regex (xref):([^\n]+)(?:\[([^\n]*)\]) 1:keyword 2:meta 3:+i[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/asciidoc/ regex (<<([^\n><]+)>>) 1:link 2:meta[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Commands[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# ‾‾‾‾‾‾‾‾[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# http://w3.org/Style/CSS[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# ‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Detection[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# ‾‾‾‾‾‾‾‾‾[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mhook global BufCreate .*[.](css) %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    set-option buffer filetype css[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Initialization[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# ‾‾‾‾‾‾‾‾‾‾‾‾‾‾[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mhook global WinSetOption filetype=css %[[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    require-module css[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    hook window ModeChange pop:insert:.* -group css-trim-indent css-trim-indent[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    hook window InsertChar \n -group css-insert css-insert-on-new-line[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    hook window InsertChar \n -group css-indent css-indent-on-new-line[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    hook window InsertChar \} -group css-indent css-indent-on-closing-curly-brace[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    set-option buffer extra_word_chars '_' '-'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    set-face global cssLogicalOperator +i@keyword[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    hook -once -always window WinSetOption filetype=.* %{ remove-hooks window css-.+ }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m][0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mhook -group css-highlight global WinSetOption filetype=css %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    add-highlighter window/css ref css[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    hook -once -always window WinSetOption filetype=.* %{ remove-highlighter window/css }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mprovide-module css %[[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Highlighters[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# ‾‾‾‾‾‾‾‾‾‾‾‾[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/css regions[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/css/code default-region group[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/css/attr_selector region \[ \] regions[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/css/double_string region '"'  (?<!\\)(\\\\)*" fill string[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/css/single_string region "'"  (?<!\\)(\\\\)*' fill string[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/css/comment    region /\* \*/ fill comment[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mevaluate-commands %sh{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  # html tags[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  # generated from the URL & <code> below[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  # includes elements that cannot be styled, which is fine.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  #[0m[7;35m [0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  # https://developer.mozilla.org/en-US/docs/Web/HTML/Element[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  html_tags='html body address article aside footer header h1 h2 h3 h4 h5 h6 main nav section blockquote dd div dl dt figcaption figure hr li ol p pre ul a abbr b bdi bdo br cite code data dfn em i kbd mark q rp rt ruby s samp small span strong sub sup time u var wbr area audio img map track video embed iframe object param picture portal source canvas noscript script del ins caption col colgroup table tbody td tfoot th thead tr button datalist fieldset form input label legend meter optgroup option output →[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  # Units[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  # ‾‾‾‾‾[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  # generated from the URL & <code> below[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  # includes #rgb, #rrggbb, #rrggbbaa as color values {3,8}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  #[0m[7;35m [0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  # https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_Values_and_Units[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  units='% cap ch cm deg dpcm dpi dppx em ex grad Hz ic in kHz lh mm ms pc pt px Q rad rem rlh s turn vb vh vi vmax vmin vw x'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  logical_ops='and not only from to'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  keywords='!important auto inherit initial unset none'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  media_types='all print screen speech'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  # easing_re='linear|ease(-(in-out|in|out))?|step-(start|end)'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  # combinators='+ > ~ ||'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  # attribute_op='= ~= |= ^= $= *='[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  join() { eval set -- $1; IFS="|"; echo "$*"; }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  # Selectors[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  # ‾‾‾‾‾‾‾‾‾[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  # universal: *, ns|*, *|*, |*[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  # class/id: .class, #id[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  # type: element[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  # attr: [attr=val][0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  # order below matters[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  printf %s "[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  add-highlighter shared/css/code/tag_selectors regex \b($(join "${html_tags}"))((:[a-z:])|[\h.#,]) 1:keyword[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  add-highlighter shared/css/code/functional_notation regex ([a-zA-Z0-9-_]+[a-zA-Z0-9])\( 1:keyword[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  add-highlighter shared/css/code/logical_operators regex (\b($(join "${logical_ops}"))\b|$(join "${keywords}")) 1:cssLogicalOperator[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  add-highlighter shared/css/code/media_types regex \b($(join "${media_types}"))\b 1:+i[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  # (after functional notation as they may contain paranthesis)[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  add-highlighter shared/css/code/pseudo regex (:{1,2})([a-z-]+) 0:attribute[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  add-highlighter shared/css/code/at_rules regex @[a-z-]+ 0:function[0m[7;35m [0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  add-highlighter shared/css/code/css_property regex ([A-Za-z][A-Za-z0-9_-]*)\h*:\h 1:operator 1:+a[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  add-highlighter shared/css/code/selectors regex (\*|[*]?[.][A-Za-z][A-Za-z0-9_-]+) 0:type[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  add-highlighter shared/css/code/selectors_id regex (\*|[*]?[#][A-Za-z][A-Za-z0-9_-]+) 0:type 0:+i[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  add-highlighter shared/css/code/hex_values regex (#[0-9A-Fa-f]{3,8})\b 0:value 0:+a[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  add-highlighter shared/css/code/units regex \b(\d*\.)?\d+($(join "${units}"))?\b 0:value 0:+a[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  "[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Attribute Selectors[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/css/attr_selector/base default-region group[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/css/attr_selector/base/ regex ([a-zA-Z0-9-]+) 1:attribute[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/css/attr_selector/base/ regex \h(i|s) 1:type[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/css/attr_selector/double_string region '"'  (?<!\\)(\\\\)*" fill string[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/css/attr_selector/single_string region "'"  (?<!\\)(\\\\)*' fill string[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Commands[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# ‾‾‾‾‾‾‾‾[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdefine-command -hidden css-trim-indent %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    # remove trailing white spaces[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    try %{ execute-keys -draft -itersel x s \h+$ <ret> d }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdefine-command -hidden css-indent-on-new-line %[[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    evaluate-commands -draft -itersel %[[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        execute-keys <semicolon>[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        try %<[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            # if previous line is part of a comment, do nothing[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            execute-keys -draft <a-?>/\*<ret> <a-K>^\h*[^/*\h]<ret>[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        > catch %<[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            # else if previous line closed a paren (possibly followed by words and a comment),[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            # copy indent of the opening paren line[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            execute-keys -draft kx 1s(\))(\h+\w+)*\h*(\;\h*)?(?://[^\n]+)?\n\z<ret> m<a-semicolon>J <a-S> 1<a-&>[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        > catch %<[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            # else indent new lines with the same level as the previous one[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            execute-keys -draft K <a-&>[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        >[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        # filter previous line[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        try %< execute-keys -draft k x <a-k>^\h+$<ret> Hd >[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        # indent after lines ending with with {[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        try %[ execute-keys -draft k x <a-k> \{$ <ret> j <a-gt> ][0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        # deindent closing brace when after cursor[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        try %[ execute-keys -draft x <a-k> ^\h*\} <ret> gh / \} <ret> m <a-S> 1<a-&> ][0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    ][0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m][0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdefine-command -hidden css-insert-on-new-line %[[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    evaluate-commands -draft -itersel %<[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    execute-keys <semicolon>[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    try %[[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        # if the previous line isn't within a comment scope, break[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        execute-keys -draft kx <a-k>^(\h*/\*|\h+\*(?!/))<ret>[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        # find comment opening, validate it was not closed, and check its using star prefixes[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        execute-keys -draft <a-?>/\*<ret><a-H> <a-K>\*/<ret> <a-k>\A\h*/\*([^\n]*\n\h*\*)*[^\n]*\n\h*.\z<ret>[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        try %[[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            # if the previous line is opening the comment, insert star preceeded by space[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            execute-keys -draft kx<a-k>^\h*/\*<ret>[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            execute-keys -draft i*<space><esc>[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        ] catch %[[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m           try %[[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                # if the next line is a comment line insert a star[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                execute-keys -draft jx<a-k>^\h+\*<ret>[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                execute-keys -draft i*<space><esc>[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            ] catch %[[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                try %[[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                    # if the previous line is an empty comment line, close the comment scope[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                    execute-keys -draft kx<a-k>^\h+\*\h+$<ret> x1s\*(\h*)<ret>c/<esc>[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                ] catch %[[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                    # if the previous line is a non-empty comment line, add a star[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                    execute-keys -draft i*<space><esc>[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                ][0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            ][0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        ][0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        # trim trailing whitespace on the previous line[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        try %[ execute-keys -draft s\h+$<ret> d ][0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        # align the new star with the previous one[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        execute-keys Kx1s^[^*]*(\*)<ret>&[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    ][0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    >[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m][0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdefine-command -hidden css-indent-on-closing-curly-brace %[[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    evaluate-commands -draft -itersel %[[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        # align to opening curly brace when alone on a line[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        try %[ execute-keys -draft <a-h> <a-k> ^\h+\}$ <ret> m s \A|.\z <ret> 1<a-&> ][0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    ][0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m][0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m][0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mhook global BufCreate .*\.(diff|patch) %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    set-option buffer filetype diff[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mhook global WinSetOption filetype=diff %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    require-module diff[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    map buffer normal <ret> :diff-jump<ret>[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mhook -group diff-highlight global WinSetOption filetype=diff %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    add-highlighter window/diff ref diff[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    hook -once -always window WinSetOption filetype=.* %{ remove-highlighter window/diff }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mprovide-module diff %§[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/diff group[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/diff/ regex "^\+[^\n]*\n" 0:green,default[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/diff/ regex "^-[^\n]*\n" 0:red,default[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/diff/ regex "^@@[^\n]*@@" 0:cyan,default[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# If any trailing whitespace was introduced in diff, show it with red background[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/diff/ regex "^\+[^\n]*?(\h+)\n" 1:default,red[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdefine-command diff-jump -params .. -docstring %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        diff-jump [<switches>] [<directory>]: edit the diff's source file at the cursor position.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        Paths are resolved relative to <directory>, or the current working directory if unspecified.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        Switches:[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            -       jump to the old file instead of the new file[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            -<num> strip <num> leading directory components, like -p<num> in patch(1). Defaults to 1 if there is a 'diff' line (as printed by 'diff -r'), or 0 otherwise.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    } %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    evaluate-commands -draft -save-regs ac| %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        # Save the column because we will move the cursor.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        set-register c %val{cursor_column}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        # If there is a "diff" line, we don't need to look further back.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        try %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            execute-keys %{<a-l><semicolon><a-?>^(?:> )*diff\b<ret>x}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        } catch %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            # A single file diff won't have a diff line. Start parsing from[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            # the buffer start, so we can tell if +++/--- lines are headers[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            # or content.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            execute-keys Gk[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        set-register a %arg{@}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        set-register | %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            [ -n "$kak_reg_a" ] && eval set -- $kak_quoted_reg_a[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            cmd=$(column=$kak_reg_c perl -we '[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                sub quote {[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                    $SQ = "'\''";[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                    $token = shift;[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                    $token =~ s/$SQ/$SQ$SQ/g;[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                    return "$SQ$token$SQ";[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                sub fail {[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                    $reason = shift;[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                    print "fail " . quote("diff-jump: $reason");[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                    exit;[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                $version = "+", $other_version = "-";[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                $strip = undef;[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                $directory = $ENV{PWD};[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                $seen_ddash = 0;[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                foreach (@ARGV) {[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                    if ($seen_ddash or !m{^-}) {[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                        $directory = $_;[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                    } elsif ($_ eq "-") {[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                        $version = "-", $other_version = "+";[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                    } elsif (m{^-(\d+)$}) {[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                        $strip = $1;[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                    } elsif ($_ eq "--") {[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                        $seen_ddash = 1;[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                    } else {[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                        fail "unknown option: $_";[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                    }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                $have_diff_line = 0;[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                $state = "header";[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                while (<STDIN>) {[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                    s/^(> )*//g;[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                    $last_line = $_;[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                    if (m{^diff\b}) {[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                        $state = "header";[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                        $have_diff_line = 1;[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                        if (m{^diff -\S* (\S+) (\S+)$}) {[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                            $fallback_file = $version eq "+" ? $2 : $1;[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                        }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                        next;[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                    }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                    if ($state eq "header") {[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                        if (m{^[$version]{3} ([^\t\n]+)}) {[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                            $file = $1;[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                            next;[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                        }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                        if (m{^[$other_version]{3} ([^\t\n]+)}) {[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                            $fallback_file = $1;[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                            next;[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                        }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                    }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                    if (m{^@@ -(\d+)(?:,\d+)? \+(\d+)(?:,\d+)? @@}) {[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                        $state = "contents";[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                        $line = ($version eq "+" ? $2 : $1) - 1;[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                    } elsif (m{^[ $version]}) {[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                        $line++ if defined $line;[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                    }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                if (not defined $file) {[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                    $file = $fallback_file;[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                if (not defined $file) {[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                    fail "missing diff header";[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                if (not defined $strip) {[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                    # A "diff -r" or "git diff" adds "diff" lines to[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                    # the output.  If no such line is present, we have[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                    # a plain diff between files (not directories), so[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                    # there should be no need to strip the directory.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                    $strip = $have_diff_line ? 1 : 0;[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                if ($file !~ m{^/}) {[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                    $file =~ s,^([^/]+/+){$strip},, or fail "directory prefix underflow";[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                    $file = "$directory/$file";[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                if (defined $line) {[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                    $column = $ENV{column} - 1; # Account for [ +-] diff prefix.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                    # If the cursor was on a hunk header, go to the section header if possible.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                    if ($last_line =~ m{^(@@ -\d+(?:,\d+)? \+\d+(?:,\d+) @@ )([^\n]*)}) {[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                        $hunk_header_prefix = $1;[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                        $hunk_header_from_userdiff = $2;[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                        open FILE, "<", $file or fail "failed to open file: $!: $file";[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                        @lines = <FILE>;[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                        for (my $i = $line - 1; $i >= 0 && $i < scalar @lines; $i--) {[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                            if ($lines[$i] !~ m{\Q$hunk_header_from_userdiff}) {[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                                next;[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                            }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                            $line = $i + 1;[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                            # Re-add 1 because the @@ line does not have a [ +-] diff prefix.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                            $column = $column + 1 - length $hunk_header_prefix;[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                            last;[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                        }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                    }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                printf "edit -existing -- %s $line $column", quote($file);[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            ' -- "$@")[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            echo "set-register c $cmd" >"$kak_command_fifo"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        execute-keys <a-|><ret>[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        evaluate-commands -client %val{client} %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            evaluate-commands -try-client %opt{jumpclient} %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                %reg{c}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mcomplete-command diff-jump file[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m§[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdefine-command \[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    -docstring %{diff-select-file: Select surrounding patch file} \[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    -params 0 \[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    diff-select-file %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                evaluate-commands -itersel -save-regs 'ose/' %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        try %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            execute-keys '"oZgl<a-?>^diff <ret>;"sZ' 'Ge"eZ'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            try %{ execute-keys '"sz?\n(?=diff )<ret>"e<a-Z><lt>' }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            execute-keys '"ez'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        } catch %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            execute-keys '"oz'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            fail 'Not in a diff file'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdefine-command \[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    -docstring %{diff-select-hunk: Select surrounding patch hunk} \[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    -params 0 \[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    diff-select-hunk %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    evaluate-commands -itersel -save-regs 'ose/' %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        try %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            execute-keys '"oZgl<a-?>^@@ <ret>;"sZ' 'Ge"eZ'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            try %{ execute-keys '"sz?\n(?=diff )<ret>"e<a-Z><lt>' }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            try %{ execute-keys '"sz?\n(?=@@ )<ret>"e<a-Z><lt>' }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            execute-keys '"ez'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        } catch %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            execute-keys '"oz'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            fail 'Not in a diff hunk'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdeclare-option -docstring "name of the client in which documentation is to be displayed" \[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    str docsclient[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdeclare-option -hidden range-specs doc_render_ranges[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdeclare-option -hidden range-specs doc_links[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdeclare-option -hidden range-specs doc_anchors[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdefine-command -hidden -params 4 doc-render-regex %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    evaluate-commands -draft %{ try %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        execute-keys <percent> s %arg{1} <ret>[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        execute-keys -draft s %arg{2} <ret> d[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        execute-keys "%arg{3}"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        evaluate-commands %sh{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            face="$4"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            eval "set -- $kak_quoted_selections_desc"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            ranges=""[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            for desc in "$@"; do ranges="$ranges '$desc|$face'"; done[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            echo "update-option buffer doc_render_ranges"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            echo "set-option -add buffer doc_render_ranges $ranges"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    } }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdefine-command -hidden doc-parse-links %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    evaluate-commands -draft %{ try %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        execute-keys <percent> s <lt><lt>(.*?),.*?<gt><gt> <ret>[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        execute-keys -draft s <lt><lt>.*,|<gt><gt> <ret> d[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        execute-keys H[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        set-option buffer doc_links %val{timestamp}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        update-option buffer doc_render_ranges[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        evaluate-commands -itersel %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            set-option -add buffer doc_links "%val{selection_desc}|%reg{1}"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            set-option -add buffer doc_render_ranges "%val{selection_desc}|default+u"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    } }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdefine-command -hidden doc-parse-anchors %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    evaluate-commands -draft %{ try %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        set-option buffer doc_anchors %val{timestamp}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        # Find sections as add them as imlicit anchors[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        execute-keys <percent> s ^={2,}\h+([^\n]+)$ <ret>[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        evaluate-commands -itersel %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            set-option -add buffer doc_anchors "%val{selection_desc}|%sh{printf '%s' ""$kak_main_reg_1"" | tr '[A-Z ]' '[a-z-]'}"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        # Parse explicit anchors and remove their text[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        execute-keys <percent> s \[\[(.*?)\]\]\s* <ret>[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        evaluate-commands -itersel %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            set-option -add buffer doc_anchors "%val{selection_desc}|%reg{1}"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        execute-keys d[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        update-option buffer doc_anchors[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    } }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdefine-command -hidden doc-jump-to-anchor -params 1 %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    update-option buffer doc_anchors[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    evaluate-commands %sh{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        anchor="$1"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        eval "set -- $kak_quoted_opt_doc_anchors"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        shift[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        for range in "$@"; do[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            if [ "${range#*|}" = "$anchor" ]; then[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                printf '%s\n'  "select '${range%|*}'; execute-keys vv"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                exit[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            fi[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        done[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        printf "fail No such anchor '%s'\n" "${anchor}"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdefine-command -hidden doc-follow-link %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    update-option buffer doc_links[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    evaluate-commands %sh{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        eval "set -- $kak_quoted_opt_doc_links"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        for link in "$@"; do[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            printf '%s\n' "$link"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        done | awk -v FS='[.,|#]' '[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            BEGIN {[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                l=ENVIRON["kak_cursor_line"];[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                c=ENVIRON["kak_cursor_column"];[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            l >= $1 && c >= $2 && l <= $3 && c <= $4 {[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                if (NF == 6) {[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                    print "doc " $5[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                    if ($6 != "") {[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                        print "doc-jump-to-anchor %{" $6 "}"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                    }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                } else {[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                    print "doc-jump-to-anchor %{" $5 "}"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                exit[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        '[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdefine-command -params 1 -hidden doc-render %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    edit! -scratch "*doc-%sh{basename $1 .asciidoc}*"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    execute-keys "!cat %arg{1}<ret>gg"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    doc-parse-anchors[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    # Join paragraphs together[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    try %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        execute-keys -draft '%S\n{2,}|(?<lt>=\+)\n|^[^\n]+::\n|^\h*[*-]\h+<ret>' \[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            <a-K>^\h*-{2,}(\n|\z)<ret> S\n\z<ret> <a-k>\n<ret> <a-j>[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    # Remove some line end markers[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    try %{ execute-keys -draft <percent> s \h*(\+|:{2,})$ <ret> d }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    # Setup the doc_render_ranges option[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    set-option buffer doc_render_ranges %val{timestamp}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    doc-render-regex \B(?<!\\)\*(?=\S)[^\n]+?(?<=\S)(?<!\\)\*\B \A|.\z 'H' default+b[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    doc-render-regex \b(?<!\\)_(?=\S)[^\n]+?(?<=\S)(?<!\\)_\b \A|.\z 'H' default+i[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    doc-render-regex \B(?<!\\)`(?=\S)[^\n]+?(?<=\S)`\B \A|.\z 'H' mono[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    doc-render-regex ^=\h+[^\n]+ ^=\h+ '~' title[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    doc-render-regex ^={2,}\h+[^\n]+ ^={2,}\h+ '' header[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    doc-render-regex ^\h*-{2,}\n\h*.*?^\h*-{2,}\n ^\h*-{2,}\n '' block[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    doc-parse-links[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    # Remove escaping of * and `[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    try %{ execute-keys -draft <percent> s \\((?=\*)|(?=`)) <ret> d }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    # Go to beginning of file[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    execute-keys 'gg'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    set-option buffer readonly true[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    add-highlighter buffer/ ranges doc_render_ranges[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    add-highlighter buffer/ wrap -word -indent[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    map buffer normal <ret> :doc-follow-link<ret>[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdefine-command doc -params 0..2 -menu -docstring %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        doc <topic> [<keyword>]: open a buffer containing documentation about a given topic[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        An optional keyword argument can be passed to the function, which will be automatically selected in the documentation[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        See `:doc doc` for details.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    } %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    evaluate-commands %sh{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        topic="doc"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        if [ $# -ge 1 ]; then[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            topic="$1"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        fi[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        page=$([0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            find -L \[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                "${kak_config}/autoload/" \[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                "${kak_runtime}/doc/" \[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                "${kak_runtime}/rc/" \[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                -type f -name "$topic.asciidoc" 2>/dev/null |[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                head -1[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        )[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        if [ -f "${page}" ]; then[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            jump_cmd=""[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            if [ $# -eq 2 ]; then[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                jump_cmd="doc-jump-to-anchor '$2'"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            fi[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            printf %s\\n "evaluate-commands -try-client %opt{docsclient} %{ doc-render ${page}; ${jump_cmd} }"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        else[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            printf 'fail No such doc file: %s\n' "$topic.asciidoc"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        fi[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mcomplete-command doc shell-script-candidates %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    case "$kak_token_to_complete" in[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        0)[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            find -L \[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                "${kak_config}/autoload/" \[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                "${kak_runtime}/doc/" \[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                "${kak_runtime}/rc/" \[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                -type f -name "*.asciidoc" 2>/dev/null |[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                sed 's,.*/,,; s/\.[^.]*$//';;[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        1)[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            page=$([0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                find -L \[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                    "${kak_config}/autoload/" \[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                    "${kak_runtime}/doc/" \[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                    "${kak_runtime}/rc/" \[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                    -type f -name "$1.asciidoc" 2>/dev/null |[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                    head -1[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            )[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            if [ -f "${page}" ]; then[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                awk '[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                    /^==+ +/ { sub(/^==+ +/, ""); print }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                    /^\[\[[^\]]+\]\]/ { sub(/^\[\[/, ""); sub(/\]\].*/, ""); print }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                ' < $page | tr '[A-Z ]' '[a-z-]'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            fi;;[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    esac[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51malias global help doc[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mhook global BufCreate .*(COMMIT_EDITMSG|MERGE_MSG) %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    set-option buffer filetype git-commit[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mhook global BufCreate .*/NOTES_EDITMSG %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    set-option buffer filetype git-notes[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mhook global BufCreate .*(\.git(config|modules)|git/config) %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    set-option buffer filetype ini[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mhook global BufCreate .*\.gitignore %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    set-option buffer filetype git-ignore[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mhook global BufCreate .*git-rebase-todo %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    set-option buffer filetype git-rebase[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mhook global WinSetOption filetype=git-(commit|ignore|notes|rebase) %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    require-module "git-%val{hook_param_capture_1}"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mhook -group git-commit-highlight global WinSetOption filetype=git-commit %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    add-highlighter window/git-commit ref git-commit[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    hook -once -always window WinSetOption filetype=.* %{ remove-highlighter window/git-commit }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mhook -group git-ignore-highlight global WinSetOption filetype=git-ignore %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    add-highlighter window/git-ignore ref git-ignore[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    hook -once -always window WinSetOption filetype=.* %{ remove-highlighter window/git-ignore }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mhook -group git-notes-highlight global WinSetOption filetype=git-notes %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    add-highlighter window/git-notes ref git-notes[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    hook -once -always window WinSetOption filetype=.* %{ remove-highlighter window/git-notes }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mhook -group git-rebase-highlight global WinSetOption filetype=git-rebase %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    add-highlighter window/git-rebase ref git-rebase[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    hook -once -always window WinSetOption filetype=.* %{ remove-highlighter window/git-rebase }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mprovide-module git-commit %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mrequire-module diff[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/git-commit regions[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/git-commit/diff region '^diff --git' '^(?=diff --git)' ref diff # highlight potential diffs from the -v option[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/git-commit/comments region ^# $ group[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/git-commit/comments/ fill comment[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/git-commit/comments/ regex "\b(?:(modified)|(deleted)|(new file)|(renamed|copied)):([^\n]*)$" 1:yellow 2:red 3:green 4:blue 5:magenta[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mprovide-module git-ignore %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/git-ignore group[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/git-ignore/glob regex '(?<!\\)(?:\\\\)*\K(\*\*?|\?|\[.*?(?<!\\)(?:\\\\)*\])' 0:operator[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/git-ignore/negate regex '^!' 0:operator[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/git-ignore/comments regex '^#.*?$' 0:comment[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mprovide-module git-notes %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/git-notes regex ^#[^\n]*$ 0:comment[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mprovide-module git-rebase %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/git-rebase group[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/git-rebase/ regex "^\h*#[^\n]*\n" 0:comment[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/git-rebase/ regex "^(?:(pick|p)|(edit|reword|squash|fixup|exec|break|drop|label|reset|merge|[ersfxbdltm])) (\w+)" 1:keyword 2:value 3:meta[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# http://w3.org/html[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# ‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Detection[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# ‾‾‾‾‾‾‾‾‾[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mhook global BufCreate .*\.html %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    set-option buffer filetype html[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mhook global BufCreate .*\.xml %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    set-option buffer filetype xml[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Initialization[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# ‾‾‾‾‾‾‾‾‾‾‾‾‾‾[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mhook global WinSetOption filetype=(html|xml) %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    require-module html[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    hook window ModeChange pop:insert:.* -group "%val{hook_param_capture_1}-trim-indent"  html-trim-indent[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    hook window InsertChar '>' -group "%val{hook_param_capture_1}-indent" html-indent-on-greater-than[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    hook window InsertChar \n -group "%val{hook_param_capture_1}-indent" html-indent-on-new-line[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    hook -once -always window WinSetOption "filetype=.*" "[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        remove-hooks window ""%val{hook_param_capture_1}-.+""[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    "[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mhook -group html-highlight global WinSetOption filetype=(html|xml) %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    add-highlighter "window/%val{hook_param_capture_1}" ref html[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    hook -once -always window WinSetOption "filetype=.*" "[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        remove-highlighter ""window/%val{hook_param_capture_1}""[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    "[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mprovide-module html %[[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mtry %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    require-module css[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    require-module javascript[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Highlighters[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# ‾‾‾‾‾‾‾‾‾‾‾‾[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/html regions[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/html/comment region <!--     -->                  fill comment[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/html/tag     region <          >                  regions[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/html/style   region <style\b.*?>\K  (?=</style>)  ref css[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/html/script  region <script\b.*?>\K (?=</script>) ref javascript[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/html/tag/base default-region group[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/html/tag/ region '"' (?<!\\)(\\\\)*"      fill string[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/html/tag/ region "'" "'"                  fill string[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/html/tag/base/ regex \b([a-zA-Z0-9_-]+)=? 1:attribute[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/html/tag/base/ regex </?(\w+) 1:keyword[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/html/tag/base/ regex <(!DOCTYPE(\h+\w+)+) 1:meta[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Commands[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# ‾‾‾‾‾‾‾‾[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdefine-command -hidden html-trim-indent %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    # remove trailing white spaces[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    try %{ execute-keys -draft -itersel x s \h+$ <ret> d }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdefine-command -hidden html-indent-on-greater-than %[[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    evaluate-commands -draft -itersel %[[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        # align closing tag to opening when alone on a line[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        try %[ execute-keys -draft , <a-h> s ^\h+<lt>/(\w+)<gt>$ <ret> {c<lt><c-r>1,<lt>/<c-r>1<gt> <ret> s \A|.\z <ret> 1<a-&> ][0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    ][0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m][0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdefine-command -hidden html-indent-on-new-line %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    evaluate-commands -draft -itersel %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        # preserve previous line indent[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        try %{ execute-keys -draft <semicolon> K <a-&> }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        # filter previous line[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        try %{ execute-keys -draft k : html-trim-indent <ret> }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        # indent after lines ending with opening tag except when it starts with a closing tag[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        try %{ execute-keys -draft k x <a-k> <lt>(?!area)(?!base)(?!br)(?!col)(?!command)(?!embed)(?!hr)(?!img)(?!input)(?!keygen)(?!link)(?!menuitem)(?!meta)(?!param)(?!source)(?!track)(?!wbr)(?!/)(?!>)[a-zA-Z0-9_-]+[^>]*?>$ <ret>jx<a-K>^\s*<lt>/<ret><a-gt> } }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m][0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mhook global BufCreate .+\.ini %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    set-option buffer filetype ini[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mhook global WinSetOption filetype=ini %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    require-module ini[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mhook -group ini-highlight global WinSetOption filetype=ini %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    add-highlighter window/ini ref ini[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    hook -once -always window WinSetOption filetype=.* %{ remove-highlighter window/ini }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mprovide-module ini %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/ini regions[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/ini/code default-region group[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/ini/comment region '(^|\h)\K[#;]' $ fill comment[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/ini/code/ regex "(?S)^\h*(\[.+?\])\h*$" 1:title[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/ini/code/ regex "^\h*([^\[][^=\n]*)=([^\n]*)" 1:variable 2:value[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Detection[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# ‾‾‾‾‾‾‾‾‾[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mhook global BufCreate .*[.][cm]?(js)x? %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    set-option buffer filetype javascript[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mhook global BufCreate .*[.][cm]?(ts)x? %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    set-option buffer filetype typescript[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Initialization[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# ‾‾‾‾‾‾‾‾‾‾‾‾‾‾[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mhook global WinSetOption filetype=(javascript|typescript) %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    require-module javascript[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    hook window ModeChange pop:insert:.* -group "%val{hook_param_capture_1}-trim-indent" javascript-trim-indent[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    hook window InsertChar .* -group "%val{hook_param_capture_1}-indent" javascript-indent-on-char[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    hook window InsertChar \n -group "%val{hook_param_capture_1}-insert" javascript-insert-on-new-line[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    hook window InsertChar \n -group "%val{hook_param_capture_1}-indent" javascript-indent-on-new-line[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    hook -once -always window WinSetOption filetype=.* "[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        remove-hooks window %val{hook_param_capture_1}-.+[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    "[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mhook -group javascript-highlight global WinSetOption filetype=javascript %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    add-highlighter window/javascript ref javascript[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    hook -once -always window WinSetOption filetype=.* %{ remove-highlighter window/javascript }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mhook -group typescript-highlight global WinSetOption filetype=typescript %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    add-highlighter window/typescript ref typescript[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    hook -once -always window WinSetOption filetype=.* %{ remove-highlighter window/typescript }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mprovide-module javascript %§[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Commands[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# ‾‾‾‾‾‾‾‾[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdefine-command -hidden javascript-trim-indent %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    # remove trailing white spaces[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    try %{ execute-keys -draft x 1s^(\h+)$<ret> d }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdefine-command -hidden javascript-indent-on-char %<[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    evaluate-commands -draft -itersel %<[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        # align closer token to its opener when alone on a line[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        try %/ execute-keys -draft <a-h> <a-k> ^\h+[\]}]$ <ret> m s \A|.\z <ret> 1<a-&> /[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    >[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m>[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdefine-command -hidden javascript-insert-on-new-line %<[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    evaluate-commands -draft -itersel %<[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    execute-keys <semicolon>[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    try %[[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        evaluate-commands -draft -save-regs '/"' %[[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            # copy the commenting prefix[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            execute-keys -save-regs '' k x1s^\h*(//+\h*)<ret> y[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            try %[[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                # if the previous comment isn't empty, create a new one[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                execute-keys x<a-K>^\h*//+\h*$<ret> jxs^\h*<ret>P[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            ] catch %[[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                # if there is no text in the previous comment, remove it completely[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                execute-keys d[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            ][0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        ][0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    ][0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    try %[[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        # if the previous line isn't within a comment scope, break[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        execute-keys -draft kx <a-k>^(\h*/\*|\h+\*(?!/))<ret>[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        # find comment opening, validate it was not closed, and check its using star prefixes[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        execute-keys -draft <a-?>/\*<ret><a-H> <a-K>\*/<ret> <a-k>\A\h*/\*([^\n]*\n\h*\*)*[^\n]*\n\h*.\z<ret>[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        try %[[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            # if the previous line is opening the comment, insert star preceeded by space[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            execute-keys -draft kx<a-k>^\h*/\*<ret>[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            execute-keys -draft i*<space><esc>[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        ] catch %[[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m           try %[[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                # if the next line is a comment line insert a star[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                execute-keys -draft jx<a-k>^\h+\*<ret>[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                execute-keys -draft i*<space><esc>[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            ] catch %[[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                try %[[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                    # if the previous line is an empty comment line, close the comment scope[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                    execute-keys -draft kx<a-k>^\h+\*\h+$<ret> x1s\*(\h*)<ret>c/<esc>[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                ] catch %[[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                    # if the previous line is a non-empty comment line, add a star[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                    execute-keys -draft i*<space><esc>[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                ][0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            ][0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        ][0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        # trim trailing whitespace on the previous line[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        try %[ execute-keys -draft s\h+$<ret> d ][0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        # align the new star with the previous one[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        execute-keys Kx1s^[^*]*(\*)<ret><a-(><a-&>[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    ][0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    >[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m>[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdefine-command -hidden javascript-indent-on-new-line %<[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    evaluate-commands -draft -itersel %<[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    execute-keys <semicolon>[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    try %<[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        # if previous line is part of a comment, do nothing[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        execute-keys -draft <a-?>/\*<ret> <a-K>^\h*[^/*\h]<ret>[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    > catch %<[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        # else if previous line closed a paren (possibly followed by words and a comment),[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        # copy indent of the opening paren line[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        execute-keys -draft kx 1s(\))(\h+\w+)*\h*(\;\h*)?(?://[^\n]+)?\n\z<ret> m<a-semicolon>J <a-S> 1<a-&>[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    > catch %<[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        # else indent new lines with the same level as the previous one[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        execute-keys -draft K <a-&>[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    >[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    # remove previous empty lines resulting from the automatic indent[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    try %< execute-keys -draft k x <a-k>^\h+$<ret> Hd >[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    # indent after an opening brace or parenthesis at end of line[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    try %< execute-keys -draft k x <a-k>[{(]\h*$<ret> j <a-gt> >[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    # indent after a label (works for case statements)[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    try %< execute-keys -draft k x s[a-zA-Z0-9_-]+:\h*$<ret> j <a-gt> >[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    # indent after a statement not followed by an opening brace[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    try %< execute-keys -draft k x s\)\h*(?://[^\n]+)?\n\z<ret> \[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                               <a-semicolon>mB <a-k>\A\b(if|for|while)\b<ret> <a-semicolon>j <a-gt> >[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    try %< execute-keys -draft k x s \belse\b\h*(?://[^\n]+)?\n\z<ret> \[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                               j <a-gt> >[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    # deindent after a single line statement end[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    try %< execute-keys -draft K x <a-k>\;\h*(//[^\n]+)?$<ret> \[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                               K x s\)(\h+\w+)*\h*(//[^\n]+)?\n([^\n]*\n){2}\z<ret> \[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                               MB <a-k>\A\b(if|for|while)\b<ret> <a-S>1<a-&> >[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    try %< execute-keys -draft K x <a-k>\;\h*(//[^\n]+)?$<ret> \[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                               K x s \belse\b\h*(?://[^\n]+)?\n([^\n]*\n){2}\z<ret> \[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                               <a-S>1<a-&> >[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    # deindent closing brace(s) when after cursor[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    try %< execute-keys -draft x <a-k> ^\h*[})] <ret> gh / [})] <esc> m <a-S> 1<a-&> >[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    # align to the opening parenthesis or opening brace (whichever is first)[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    # on a previous line if its followed by text on the same line[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    try %< evaluate-commands -draft %<[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        # Go to opening parenthesis and opening brace, then select the most nested one[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        try %< execute-keys [c [({],[)}] <ret> >[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        # Validate selection and get first and last char[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        execute-keys <a-k>\A[{(](\h*\S+)+\n<ret> <a-K>"(([^"]*"){2})*<ret> <a-K>'(([^']*'){2})*<ret> <a-:><a-semicolon>L <a-S>[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        # Remove possibly incorrect indent from new line which was copied from previous line[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        try %< execute-keys -draft , <a-h> s\h+<ret> d >[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        # Now indent and align that new line with the opening parenthesis/brace[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        execute-keys 1<a-&> &[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m     > >[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    >[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m>[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Highlighting and hooks bulder for JavaScript and TypeScript[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# ‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdefine-command -hidden init-javascript-filetype -params 1 %~[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    # Highlighters[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    # ‾‾‾‾‾‾‾‾‾‾‾‾[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    add-highlighter "shared/%arg{1}" regions[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    add-highlighter "shared/%arg{1}/code" default-region group[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    add-highlighter "shared/%arg{1}/double_string" region '"'  (?<!\\)(\\\\)*"         fill string[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    add-highlighter "shared/%arg{1}/single_string" region "'"  (?<!\\)(\\\\)*'         fill string[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    add-highlighter "shared/%arg{1}/literal"       region "`"  (?<!\\)(\\\\)*`         group[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    add-highlighter "shared/%arg{1}/comment_line"  region //   '$'                     fill comment[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    add-highlighter "shared/%arg{1}/comment"       region /\*  \*/                     fill comment[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    add-highlighter "shared/%arg{1}/shebang"       region ^#!  $                       fill meta[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    add-highlighter "shared/%arg{1}/division" region '[\w\)\]]\K(/|(\h+/\s+))' '(?=\w)' group # Help Kakoune to better detect /…/ literals[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    add-highlighter "shared/%arg{1}/regex"         region /    (?<!\\)(\\\\)*/[gimuy]* fill meta[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    add-highlighter "shared/%arg{1}/jsx"           region -recurse (?<![\w<])<[a-zA-Z>][\w:.-]* (?<![\w<])<[a-zA-Z>][\w:.-]*(?!\hextends)(?=[\s/>])(?!>\()) (</.*?>|/>) regions[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    # Regular expression flags are: g → global match, i → ignore case, m → multi-lines, u → unicode, y → sticky[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    # https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/RegExp[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    add-highlighter "shared/%arg{1}/literal/"       fill string[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    add-highlighter "shared/%arg{1}/literal/"       regex \$\{.*?\} 0:value[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    add-highlighter "shared/%arg{1}/code/" regex (?:^|[^$_])\b(document|false|null|parent|self|this|true|undefined|window)\b 1:value[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    add-highlighter "shared/%arg{1}/code/" regex "-?\b[0-9]*\.?[0-9]+" 0:value[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    add-highlighter "shared/%arg{1}/code/" regex \b(Array|Boolean|Date|Function|Number|Object|RegExp|String|Symbol)\b 0:type[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    # jsx: In well-formed xml the number of opening and closing tags match up regardless of tag name.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    #[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    # We inline a small XML highlighter here since it anyway need to recurse back up to the starting highlighter.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    # To make things simple we assume that jsx is always enabled.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    add-highlighter "shared/%arg{1}/jsx/tag"  region -recurse <  <(?=[/a-zA-Z>]) (?<!=)> regions[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    add-highlighter "shared/%arg{1}/jsx/expr" region -recurse \{ \{             \}      ref %arg{1}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    add-highlighter "shared/%arg{1}/jsx/tag/base" default-region group[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    add-highlighter "shared/%arg{1}/jsx/tag/double_string" region =\K" (?<!\\)(\\\\)*" fill string[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    add-highlighter "shared/%arg{1}/jsx/tag/single_string" region =\K' (?<!\\)(\\\\)*' fill string[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    add-highlighter "shared/%arg{1}/jsx/tag/expr" region -recurse \{ \{   \}           group[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    add-highlighter "shared/%arg{1}/jsx/tag/base/" regex (\w+) 1:attribute[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    add-highlighter "shared/%arg{1}/jsx/tag/base/" regex </?([\w-$]+) 1:keyword[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    add-highlighter "shared/%arg{1}/jsx/tag/base/" regex (</?|/?>) 0:meta[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    add-highlighter "shared/%arg{1}/jsx/tag/expr/"   ref %arg{1}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    # Keywords are collected at[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    # https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Lexical_grammar#Keywords[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    # https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions/get[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    # https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions/set[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    add-highlighter "shared/%arg{1}/code/" regex \b(async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|export|extends|finally|for|function|get|if|import|in|instanceof|let|new|of|return|set|static|super|switch|throw|try|typeof|var|void|while|with|yield)\b 0:keyword[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m~[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51minit-javascript-filetype javascript[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51minit-javascript-filetype typescript[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Highlighting specific to TypeScript[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# ‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/typescript/code/ regex \b(array|boolean|date|number|object|regexp|string|symbol)\b 0:type[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Keywords grabbed from https://github.com/Microsoft/TypeScript/issues/2536[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/typescript/code/ regex \b(as|constructor|declare|enum|from|implements|interface|module|namespace|package|private|protected|public|readonly|static|type)\b 0:keyword[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m§[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Aliases[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# ‾‾‾‾‾‾‾[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mprovide-module typescript %{ require-module javascript }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# http://json.org[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# ‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Detection[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# ‾‾‾‾‾‾‾‾‾[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mhook global BufCreate .*[.](json) %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    set-option buffer filetype json[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Initialization[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# ‾‾‾‾‾‾‾‾‾‾‾‾‾‾[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mhook global WinSetOption filetype=json %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    require-module json[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    hook window ModeChange pop:insert:.* -group json-trim-indent json-trim-indent[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    hook window InsertChar .* -group json-indent json-indent-on-char[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    hook window InsertChar \n -group json-indent json-indent-on-new-line[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    hook -once -always window WinSetOption filetype=.* %{ remove-hooks window json-.+ }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mhook -group json-highlight global WinSetOption filetype=json %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    add-highlighter window/json ref json[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    hook -once -always window WinSetOption filetype=.* %{ remove-highlighter window/json }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mprovide-module json %([0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Highlighters[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# ‾‾‾‾‾‾‾‾‾‾‾‾[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/json regions[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/json/code default-region group[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/json/string region '"' (?<!\\)(\\\\)*" fill string[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/json/code/ regex \b(true|false|null|\d+(?:\.\d+)?(?:[eE][+-]?\d*)?)\b 0:value[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Commands[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# ‾‾‾‾‾‾‾‾[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdefine-command -hidden json-trim-indent %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    # remove trailing white spaces[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    try %{ execute-keys -draft -itersel x s \h+$ <ret> d }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdefine-command -hidden json-indent-on-char %<[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    evaluate-commands -draft -itersel %<[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        # align closer token to its opener when alone on a line[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        try %< execute-keys -draft <a-h> <a-k> ^\h+[\]}]$ <ret> m <a-S> 1<a-&> >[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    >[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m>[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdefine-command -hidden json-indent-on-new-line %<[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    evaluate-commands -draft -itersel %<[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        # preserve previous line indent[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        try %{ execute-keys -draft <semicolon> K <a-&> }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        # filter previous line[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        try %{ execute-keys -draft k : json-trim-indent <ret> }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        # indent after lines ending with opener token[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        try %< execute-keys -draft k x <a-k> [[{]\h*$ <ret> j <a-gt> >[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        # deindent closer token(s) when after cursor[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        try %< execute-keys -draft x <a-k> ^\h*[}\]] <ret> gh / [}\]] <ret> m <a-S> 1<a-&> >[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    >[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m>[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m)[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# http://kakoune.org[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# ‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Detection[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# ‾‾‾‾‾‾‾‾‾[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mhook global BufCreate (.*/)?(kakrc|.*\.kak) %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    set-option buffer filetype kak[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Initialization[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# ‾‾‾‾‾‾‾‾‾‾‾‾‾‾[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mhook global WinSetOption filetype=kak %~[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    require-module kak[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    set-option window static_words %opt{kak_static_words}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    hook window InsertChar \n -group kak-insert kak-insert-on-new-line[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    hook window InsertChar \n -group kak-indent kak-indent-on-new-line[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    hook window InsertChar [>)}\]] -group kak-indent kak-indent-on-closing-matching[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    hook window InsertChar (?![[{(<>)}\]])[^\s\w] -group kak-indent kak-indent-on-closing-char[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    # cleanup trailing whitespaces on current line insert end[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    hook window ModeChange pop:insert:.* -group kak-trim-indent %{ try %{ execute-keys -draft <semicolon> x s ^\h+$ <ret> d } }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    set-option buffer extra_word_chars '_' '-'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    hook -once -always window WinSetOption filetype=.* %{ remove-hooks window kak-.+ }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m~[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mhook -group kak-highlight global WinSetOption filetype=kak %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    add-highlighter window/kakrc ref kakrc[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    hook -once -always window WinSetOption filetype=.* %{ remove-highlighter window/kakrc }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mprovide-module kak %§[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mrequire-module sh[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Highlighters & Completion[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# ‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/kakrc regions[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/kakrc/code default-region group[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/kakrc/comment region (^|\h)\K# $ fill comment[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/kakrc/double_string region -recurse %{(?<!")("")+(?!")} %{(^|\h)\K"} %{"(?!")} group[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/kakrc/single_string region -recurse %{(?<!')('')+(?!')} %{(^|\h)\K'} %{'(?!')} group[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/kakrc/shell1 region -recurse '\{' '(^|\h)\K%?%sh\{' '\}' ref sh[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/kakrc/shell2 region -recurse '\(' '(^|\h)\K%?%sh\(' '\)' ref sh[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/kakrc/shell3 region -recurse '\[' '(^|\h)\K%?%sh\[' '\]' ref sh[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/kakrc/shell4 region -recurse '<'  '(^|\h)\K%?%sh<'  '>'  ref sh[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/kakrc/shell5 region -recurse '\{' '(^|\h)\K-?shell-script-(completion|candidates)\h+%\{' '\}' ref sh[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/kakrc/shell6 region -recurse '\(' '(^|\h)\K-?shell-script-(completion|candidates)\h+%\(' '\)' ref sh[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/kakrc/shell7 region -recurse '\[' '(^|\h)\K-?shell-script-(completion|candidates)\h+%\[' '\]' ref sh[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/kakrc/shell8 region -recurse '<'  '(^|\h)\K-?shell-script-(completion|candidates)\h+%<'  '>'  ref sh[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mevaluate-commands %sh{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    # Grammar[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    keywords="add-highlighter alias arrange-buffers buffer buffer-next buffer-previous catch[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m              change-directory colorscheme debug declare-option declare-user-mode define-command complete-command[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m              delete-buffer delete-buffer! echo edit edit! enter-user-mode evaluate-commands execute-keys[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m              fail hook info kill kill! map menu nop on-key prompt provide-module quit quit![0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m              remove-highlighter remove-hooks rename-buffer rename-client rename-session require-module[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m              select set-face set-option set-register source trigger-user-hook try[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m              unalias unmap unset-face unset-option update-option[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m              write write! write-all write-all-quit write-quit write-quit!"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    attributes="global buffer window current[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                normal insert menu prompt goto view user object[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                number-lines show-matching show-whitespaces fill regex dynregex group flag-lines[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                ranges line column wrap ref regions region default-region replace-ranges"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    types="int bool str regex int-list str-list completions line-specs range-specs str-to-str-map"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    values="default black red green yellow blue magenta cyan white yes no false true"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    join() { sep=$2; eval set -- $1; IFS="$sep"; echo "$*"; }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    # Add the language's grammar to the static completion list[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    printf %s\\n "declare-option str-list kak_static_words $(join "${keywords} ${attributes} ${types} ${values}" ' ')'"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    # Highlight keywords (which are always surrounded by whitespace)[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    printf '%s\n' "add-highlighter shared/kakrc/code/keywords regex (?:\s|\A)\K($(join "${keywords}" '|'))(?:(?=\s)|\z) 0:keyword[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                   add-highlighter shared/kakrc/code/attributes regex (?:\s|\A)\K($(join "${attributes}" '|'))(?:(?=\s)|\z) 0:attribute[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                   add-highlighter shared/kakrc/code/types regex (?:\s|\A)\K($(join "${types}" '|'))(?:(?=\s)|\z) 0:type[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                   add-highlighter shared/kakrc/code/values regex (?:\s|\A)\K($(join "${values}" '|'))(?:(?=\s)|\z) 0:value"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/kakrc/code/colors regex \b(rgb:[0-9a-fA-F]{6}|rgba:[0-9a-fA-F]{8})\b 0:value[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/kakrc/code/numbers regex \b\d+\b 0:value[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/kakrc/double_string/fill fill string[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/kakrc/double_string/escape regex '""' 0:default+b[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/kakrc/single_string/fill fill string[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/kakrc/single_string/escape regex "''" 0:default+b[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/kak ref kakrc[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Commands[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# ‾‾‾‾‾‾‾‾[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdefine-command -hidden kak-insert-on-new-line %~[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    evaluate-commands -draft -itersel %=[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        # copy '#' comment prefix and following white spaces[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        try %{ execute-keys -draft k x s ^\h*#\h* <ret> y jgh P }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    =[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m~[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdefine-command -hidden kak-indent-on-new-line %~[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    evaluate-commands -draft -itersel %=[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        # preserve previous line indent[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        try %{ execute-keys -draft <semicolon> K <a-&> }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        # cleanup trailing whitespaces from previous line[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        try %{ execute-keys -draft k x s \h+$ <ret> d }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        # indent after line ending with %\w*[^\s\w][0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        try %{ execute-keys -draft k x <a-k> \%\w*[^\s\w]$ <ret> j <a-gt> }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        # deindent closing brace when after cursor[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        try %_ execute-keys -draft -itersel x <a-k> ^\h*([>)}\]]) <ret> gh / <c-r>1 <ret> m <a-S> 1<a-&> _[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        # deindent closing char(s)[0m[7;35m [0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        try %{ execute-keys -draft -itersel x <a-k> ^\h*([^\s\w]) <ret> gh / <c-r>1 <ret> <a-?> <c-r>1 <ret> <a-T>% <a-k> \w*<c-r>1$ <ret> <a-S> 1<a-&> }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    =[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m~[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdefine-command -hidden kak-indent-on-closing-matching %~[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    # align to opening matching brace when alone on a line[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    try %= execute-keys -draft -itersel <a-h><a-k>^\h*\Q %val{hook_param} \E$<ret> mGi s \A|.\z<ret> 1<a-&> =[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m~[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdefine-command -hidden kak-indent-on-closing-char %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    # align to opening matching character when alone on a line[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    try %{ execute-keys -draft -itersel <a-h><a-k>^\h*\Q %val{hook_param} \E$<ret>gi<a-f> %val{hook_param} <a-T>%<a-k>\w*\Q %val{hook_param} \E$<ret> s \A|.\z<ret> gi 1<a-&> }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m§[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# http://lua.org[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# ‾‾‾‾‾‾‾‾‾‾‾‾‾‾[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Detection[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# ‾‾‾‾‾‾‾‾‾[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mhook global BufCreate .*[.](lua|rockspec) %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    set-option buffer filetype lua[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Initialization[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# ‾‾‾‾‾‾‾‾‾‾‾‾‾‾[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mhook global WinSetOption filetype=lua %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    require-module lua[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    hook window ModeChange pop:insert:.* -group lua-trim-indent lua-trim-indent[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    hook window InsertChar .* -group lua-indent lua-indent-on-char[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    hook window InsertChar \n -group lua-indent lua-indent-on-new-line[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    hook window InsertChar \n -group lua-insert lua-insert-on-new-line[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    alias window alt lua-alternative-file[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    hook -once -always window WinSetOption filetype=.* %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        remove-hooks window lua-.+[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        unalias window alt lua-alternative-file[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mhook -group lua-highlight global WinSetOption filetype=lua %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    add-highlighter window/lua ref lua[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    hook -once -always window WinSetOption filetype=.* %{ remove-highlighter window/lua }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mprovide-module lua %§[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Highlighters[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# ‾‾‾‾‾‾‾‾‾‾‾‾[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/lua regions[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/lua/code default-region group[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/lua/raw_string  region -match-capture   '\[(=*)\[' '\](=*)\]' fill string[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/lua/raw_comment region -match-capture '--\[(=*)\[' '\](=*)\]' fill comment[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/lua/double_string region '"'   (?<!\\)(?:\\\\)*" fill string[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/lua/single_string region "'"   (?<!\\)(?:\\\\)*' fill string[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/lua/comment       region '--'  $                 fill comment[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/lua/code/function_declaration regex \b(?:function\h+)(?:\w+\h*\.\h*)*([a-zA-Z_]\w*)\( 1:function[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/lua/code/function_call regex \b([a-zA-Z_]\w*)\h*(?=[\(\{]) 1:function[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/lua/code/keyword regex \b(break|do|else|elseif|end|for|function|goto|if|in|local|repeat|return|then|until|while)\b 0:keyword[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/lua/code/value regex \b(false|nil|true|[0-9]+(:?\.[0-9])?(:?[eE]-?[0-9]+)?|0x[0-9a-fA-F])\b 0:value[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/lua/code/symbolic_operator regex (\+|-|\*|/|%|\^|==?|~=|<=?|>=?|\.\.|\.\.\.|#) 0:operator[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/lua/code/keyword_operator regex \b(and|or|not)\b 0:operator[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/lua/code/module regex \b(_G|_ENV)\b 0:module[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/lua/code/attribute regex \B(<[a-zA-Z_]\w*>)\B 0:attribute[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Commands[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# ‾‾‾‾‾‾‾‾[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdefine-command lua-alternative-file -docstring 'Jump to the alternate file (implementation ↔ test)' %{ evaluate-commands %sh{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    case $kak_buffile in[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        *spec/*_spec.lua)[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            altfile=$(eval printf %s\\n $(printf %s\\n $kak_buffile | sed s+spec/+'*'/+';'s/_spec//))[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            [ ! -f $altfile ] && echo "fail 'implementation file not found'" && exit[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        ;;[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        *.lua)[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            altfile=""[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            altdir=""[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            path=$kak_buffile[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            dirs=$(while [ $path ]; do printf %s\\n $path; path=${path%/*}; done | tail -n +2)[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            for dir in $dirs; do[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                altdir=$dir/spec[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                if [ -d $altdir ]; then[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                    altfile=$altdir/$(realpath $kak_buffile --relative-to $dir | sed s+[^/]'*'/++';'s/.lua$/_spec.lua/)[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                    break[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                fi[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            done[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            [ ! -d "$altdir" ] && echo "fail 'spec/ not found'" && exit[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        ;;[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        *)[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            echo "fail 'alternative file not found'" && exit[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        ;;[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    esac[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    printf %s\\n "edit $altfile"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdefine-command -hidden lua-trim-indent %[[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    # remove trailing whitespaces[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    try %[ execute-keys -draft -itersel x s \h+$ <ret> d ][0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m][0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdefine-command -hidden lua-indent-on-char %[[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    evaluate-commands -no-hooks -draft -itersel %[[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        # unindent middle and end structures[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        try %[ execute-keys -draft \[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            <a-h><a-k>^\h*(\b(end|else|elseif|until)\b|[)}])$<ret> \[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            :lua-indent-on-new-line<ret> \[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            <a-lt>[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        ][0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    ][0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m][0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdefine-command -hidden lua-indent-on-new-line %[[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    evaluate-commands -no-hooks -draft -itersel %[[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        # remove trailing white spaces from previous line[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        try %[ execute-keys -draft k : lua-trim-indent <ret> ][0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        # preserve previous non-empty line indent[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        try %[ execute-keys -draft ,gh<a-?>^[^\n]+$<ret>s\A|.\z<ret>)<a-&> ][0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        # add one indentation level if the previous line is not a comment and:[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        #     - starts with a block keyword that is not closed on the same line,[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        #     - or contains an unclosed function expression,[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        #     - or ends with an enclosed '(' or '{'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        try %[ execute-keys -draft \[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            , Kx \[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            <a-K>\A\h*--<ret> \[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            <a-K>\A[^\n]*\b(end|until)\b<ret> \[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            <a-k>\A(\h*\b(do|else|elseif|for|function|if|repeat|while)\b|[^\n]*[({]$|[^\n]*\bfunction\b\h*[(])<ret> \[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            <a-:><semicolon><a-gt>[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        ][0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    ][0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m][0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdefine-command -hidden lua-insert-on-new-line %[[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    evaluate-commands -no-hooks -draft -itersel %[[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        # copy -- comment prefix and following white spaces[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        try %[ execute-keys -draft kxs^\h*\K--\h*<ret> y gh j x<semicolon> P ][0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        # wisely add end structure[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        evaluate-commands -save-regs x %[[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            # save previous line indent in register x[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            try %[ execute-keys -draft kxs^\h+<ret>"xy ] catch %[ reg x '' ][0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            try %[[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                # check that starts with a block keyword that is not closed on the same line[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                execute-keys -draft \[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                    kx \[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                    <a-k>^\h*\b(else|elseif|do|for|function|if|while)\b|[^\n]\bfunction\b\h*[(]<ret> \[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                    <a-K>\bend\b<ret>[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                # check that the block is empty and is not closed on a different line[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                execute-keys -draft <a-a>i <a-K>^[^\n]+\n[^\n]+\n<ret> jx <a-K>^<c-r>x\b(else|elseif|end)\b<ret>[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                # auto insert end[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                execute-keys -draft o<c-r>xend<esc>[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                # auto insert ) for anonymous function[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                execute-keys -draft kx<a-k>\([^)\n]*function\b<ret>jjA)<esc>[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            ][0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        ][0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    ][0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m][0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m§[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdeclare-option -docstring "shell command run to build the project" \[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    str makecmd make[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdeclare-option -docstring "pattern that describes lines containing information about errors in the output of the `makecmd` command" \[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    str make_error_pattern " (?:fatal )?error:"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdeclare-option -docstring "name of the client in which utilities display information" \[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    str toolsclient[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdeclare-option -hidden int make_current_error_line[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdefine-command -params .. \[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    -docstring %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        make [<arguments>]: make utility wrapper[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        All the optional arguments are forwarded to the make utility[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m     } make %{ evaluate-commands %sh{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m     output=$(mktemp -d "${TMPDIR:-/tmp}"/kak-make.XXXXXXXX)/fifo[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m     mkfifo ${output}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m     ( eval "${kak_opt_makecmd}" "$@" > ${output} 2>&1 & ) > /dev/null 2>&1 < /dev/null[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m     printf %s\\n "evaluate-commands -try-client '$kak_opt_toolsclient' %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m               edit! -fifo ${output} -scroll *make*[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m               set-option buffer filetype make[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m               set-option buffer make_current_error_line 0[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m               hook -always -once buffer BufCloseFifo .* %{ nop %sh{ rm -r $(dirname ${output}) } }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m           }"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/make group[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/make/ regex "^((?:\w:)?[^:\n]+):(\d+):(?:(\d+):)?\h+(?:((?:fatal )?error)|(warning)|(note)|(required from(?: here)?))?.*?$" 1:cyan 2:green 3:green 4:red 5:yellow 6:blue 7:yellow[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/make/ regex "^\h*(~*(?:(\^)~*)?)$" 1:green 2:cyan+b[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/make/ line '%opt{make_current_error_line}' default+b[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mhook -group make-highlight global WinSetOption filetype=make %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    add-highlighter window/make ref make[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    hook -once -always window WinSetOption filetype=.* %{ remove-highlighter window/make }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mhook global WinSetOption filetype=make %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    hook buffer -group make-hooks NormalKey <ret> make-jump[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    hook -once -always window WinSetOption filetype=.* %{ remove-hooks buffer make-hooks }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdeclare-option -docstring "name of the client in which all source code jumps will be executed" \[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    str jumpclient[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdefine-command -hidden make-open-error -params 4 %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    evaluate-commands -try-client %opt{jumpclient} %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        edit -existing "%arg{1}" %arg{2} %arg{3}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        echo -markup "{Information}{\}%arg{4}"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        try %{ focus }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdefine-command -hidden make-jump %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    evaluate-commands %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        try %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            execute-keys gl<a-?> "Entering directory" <ret><a-:>[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            # Try to parse the error into capture groups, failing on absolute paths[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            execute-keys s "Entering directory [`']([^']+)'.*\n([^:/][^:]*):(\d+):(?:(\d+):)?([^\n]+)\z" <ret>l[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            set-option buffer make_current_error_line %val{cursor_line}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            make-open-error "%reg{1}/%reg{2}" "%reg{3}" "%reg{4}" "%reg{5}"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        } catch %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            execute-keys <a-h><a-l> s "((?:\w:)?[^:]+):(\d+):(?:(\d+):)?([^\n]+)\z" <ret>l[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            set-option buffer make_current_error_line %val{cursor_line}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            make-open-error "%reg{1}" "%reg{2}" "%reg{3}" "%reg{4}"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdefine-command make-next-error -docstring 'Jump to the next make error' %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    evaluate-commands -try-client %opt{jumpclient} %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        buffer '*make*'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        execute-keys "%opt{make_current_error_line}ggl" "/^(?:\w:)?[^:\n]+:\d+:(?:\d+:)?%opt{make_error_pattern}<ret>"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        make-jump[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    try %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        evaluate-commands -client %opt{toolsclient} %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            buffer '*make*'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            execute-keys %opt{make_current_error_line}g[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdefine-command make-previous-error -docstring 'Jump to the previous make error' %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    evaluate-commands -try-client %opt{jumpclient} %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        buffer '*make*'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        execute-keys "%opt{make_current_error_line}g" "<a-/>^(?:\w:)?[^:\n]+:\d+:(?:\d+:)?%opt{make_error_pattern}<ret>"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        make-jump[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    try %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        evaluate-commands -client %opt{toolsclient} %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            buffer '*make*'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            execute-keys %opt{make_current_error_line}g[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Detection[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# ‾‾‾‾‾‾‾‾‾[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mhook global BufCreate .*(/?[mM]akefile|\.mk|\.make) %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    set-option buffer filetype makefile[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Initialization[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# ‾‾‾‾‾‾‾‾‾‾‾‾‾‾[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mhook global WinSetOption filetype=makefile %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    require-module makefile[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    set-option window static_words %opt{makefile_static_words}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    hook window ModeChange pop:insert:.* -group makefile-trim-indent makefile-trim-indent[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    hook window InsertChar \n -group makefile-indent makefile-indent-on-new-line[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    hook -once -always window WinSetOption filetype=.* %{ remove-hooks window makefile-.+ }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mhook -group makefile-highlight global WinSetOption filetype=makefile %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    add-highlighter window/makefile ref makefile[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    hook -once -always window WinSetOption filetype=.* %{ remove-highlighter window/makefile }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mprovide-module makefile %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Highlighters[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# ‾‾‾‾‾‾‾‾‾‾‾‾[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/makefile regions[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/makefile/content default-region group[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/makefile/comment region (?<!\\)(?:\\\\)*(?:^|\h)\K# '$' fill comment[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/makefile/evaluate-commands region -recurse \( (?<!\$)(?:\$\$)*\K\$\( \) fill value[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/makefile/content/ regex ^\S.*?(::|:|!)\s 0:variable[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/makefile/content/ regex [+?:]= 0:operator[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mevaluate-commands %sh{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    # Grammar[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    keywords="ifeq|ifneq|ifdef|ifndef|else|endif|define|endef"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    # Add the language's grammar to the static completion list[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    printf %s\\n "declare-option str-list makefile_static_words ${keywords}" | tr '|' ' '[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    # Highlight keywords[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    printf %s "add-highlighter shared/makefile/content/ regex \b(${keywords})\b 0:keyword"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Commands[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# ‾‾‾‾‾‾‾‾[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdefine-command -hidden makefile-trim-indent %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    evaluate-commands -no-hooks -draft -itersel %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        execute-keys x[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        # remove trailing white spaces[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        try %{ execute-keys -draft s \h + $ <ret> d }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdefine-command -hidden makefile-indent-on-new-line %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    evaluate-commands -draft -itersel %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        # preserve previous line indent[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        try %{ execute-keys -draft <semicolon>K<a-&> }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        ## If the line above is a target indent with a tab[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        try %{ execute-keys -draft Z kx <a-k>^\S.*?(::|:|!)\s<ret> z i<tab> }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        # cleanup trailing white space son previous line[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        try %{ execute-keys -draft kx s \h+$ <ret>d }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        # indent after some keywords[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        try %{ execute-keys -draft Z kx <a-k> ^\h*(ifeq|ifneq|ifdef|ifndef|else|define)\b<ret> z <a-gt> }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdeclare-option -docstring "name of the client in which documentation is to be displayed" \[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    str docsclient[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdeclare-option -hidden str-list manpage[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mhook -group man-highlight global WinSetOption filetype=man %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    add-highlighter window/man-highlight group[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    # Sections[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    add-highlighter window/man-highlight/ regex ^\S.*?$ 0:title[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    # Subsections[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    add-highlighter window/man-highlight/ regex '^ {3}\S.*?$' 0:default+b[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    # Command line options[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    add-highlighter window/man-highlight/ regex '^ {7}-[^\s,]+(,\s+-[^\s,]+)*' 0:list[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    # References to other manpages[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    add-highlighter window/man-highlight/ regex [-a-zA-Z0-9_.]+\([a-z0-9]+\) 0:header[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    map window normal <ret> :man-jump<ret>[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    hook -once -always window WinSetOption filetype=.* %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m      remove-highlighter window/man-highlight[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m      unmap window normal <ret>[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mhook global WinSetOption filetype=man %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    hook -group man-hooks window WinResize .* %{ man-impl %opt{manpage} }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    hook -once -always window WinSetOption filetype=.* %{ remove-hooks window man-hooks }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdefine-command -hidden -params ..3 man-impl %{ evaluate-commands %sh{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    buffer_name="$1"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    if [ -z "${buffer_name}" ]; then[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        exit[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    fi[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    shift[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    manout=$(mktemp "${TMPDIR:-/tmp}"/kak-man.XXXXXX)[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    manerr=$(mktemp "${TMPDIR:-/tmp}"/kak-man.XXXXXX)[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    colout=$(mktemp "${TMPDIR:-/tmp}"/kak-man.XXXXXX)[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    env MANWIDTH=${kak_window_range##* } man "$@" > "$manout" 2> "$manerr"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    retval=$?[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    if command -v col >/dev/null; then[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        col -b -x > ${colout} < ${manout}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    else[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        sed 's/.//g' > ${colout} < ${manout}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    fi[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    rm ${manout}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    if [ "${retval}" -eq 0 ]; then[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        printf %s\\n "[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                edit -scratch %{*$buffer_name ${*}*}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                execute-keys '%|cat<space>${colout}<ret>gk'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                nop %sh{ rm ${colout}; rm ${manerr} }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                set-option buffer filetype man[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                set-option window manpage $buffer_name $*[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        "[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    else[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        printf '[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            fail %%{%s}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            nop %%sh{ rm "%s"; rm "%s" }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        ' "$(cat "$manerr")" "${colout}" "${manerr}"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    fi[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m} }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdefine-command -params ..1 \[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    -shell-script-candidates %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        find /usr/share/man/ $(printf %s "${MANPATH}" | sed 's/:/ /') -name '*.[1-8]*' | sed 's,^.*/\(.*\)\.\([1-8][a-zA-Z]*\).*$,\1(\2),'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    } \[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    -docstring %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        man [<page>]: manpage viewer wrapper[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        If no argument is passed to the command, the selection will be used as page[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        The page can be a word, or a word directly followed by a section number between parenthesis, e.g. kak(1)[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    } man %{ evaluate-commands %sh{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    subject=${1-$kak_selection}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    ## The completion suggestions display the page number, strip them if present[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    case "${subject}" in[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        *\([1-8]*\))[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            pagenum="${subject##*\(}"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            pagenum="${pagenum%\)}"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            subject="${subject%%\(*}"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            ;;[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        *)[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            pagenum=""[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            ;;[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    esac[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    printf %s\\n "evaluate-commands -try-client %opt{docsclient} man-impl man $pagenum $subject"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m} }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# The following section of code enables a user[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# to go to next or previous man page links and to follow man page links,[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# for example, apropos(1), that would normally appear in SEE ALSO sections.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# The user would position the cursor on any character of the link[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# and then press <ret> to change to a buffer showing the man page.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Regex pattern defining a man page link.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Used for determining if a selection, which may just be a link, is a link.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdeclare-option -hidden regex man_link1 \[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  [\w_.:-]+\(\d[a-z]*\)[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Same as above but with lookbehind and lookahead patterns.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Used for searching for a man page link.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdeclare-option -hidden regex man_link2 \[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  "(?:^|(?<=\W))%opt{man_link1}(?=\W)"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Define a useful command sequence for searching a given regex[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# and a given sequence of search keys.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdefine-command -hidden man-search -params 2 %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    set-register / %arg[1][0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    try %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        execute-keys %arg[2][0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    } catch %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        fail "Could not find man page link"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdefine-command -docstring 'Go to next man page link' \[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mman-link-next %{ man-search %opt[man_link2] n }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdefine-command -docstring 'Go to previous man page link' \[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mman-link-prev %{ man-search %opt[man_link2] <a-n> }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdefine-command -docstring 'Try to jump to a man page' \[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mman-jump %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  try %{ execute-keys <a-a><a-w> s %opt[man_link1] <ret> } catch %{ fail 'Not a valid man page link' }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  try %{ man } catch %{ fail 'No man page link to follow' }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Suggested keymaps for a user mode[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdeclare-user-mode man[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mmap global man 'g' -docstring 'Jump to a man page using selected man page link' :man-jump<ret>[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mmap global man 'j' -docstring 'Go to next man page link'                        :man-link-next<ret>[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mmap global man 'k' -docstring 'Go to previous man page link'                    :man-link-prev<ret>[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mmap global man 'm' -docstring 'Look up a man page'                              :man<space>[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# http://daringfireball.net/projects/markdown[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# ‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Detection[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# ‾‾‾‾‾‾‾‾‾[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mhook global BufCreate .*[.](markdown|md|mkd) %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    set-option buffer filetype markdown[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Initialization[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# ‾‾‾‾‾‾‾‾‾‾‾‾‾‾[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mhook global WinSetOption filetype=markdown %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    require-module markdown[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    hook window ModeChange pop:insert:.* -group markdown-trim-indent markdown-trim-indent[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    hook window InsertChar \n -group markdown-insert markdown-insert-on-new-line[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    hook window InsertChar \n -group markdown-indent markdown-indent-on-new-line[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    hook -once -always window WinSetOption filetype=.* %{ remove-hooks window markdown-.+ }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mhook -group markdown-load-languages global WinSetOption filetype=markdown %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    markdown-load-languages '%'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mhook -group markdown-load-languages global WinSetOption filetype=markdown %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    hook -group markdown-load-languages window NormalIdle .* %{markdown-load-languages gtGbGl}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    hook -group markdown-load-languages window InsertIdle .* %{markdown-load-languages gtGbGl}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mhook -group markdown-highlight global WinSetOption filetype=markdown %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    add-highlighter window/markdown ref markdown[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    hook -once -always window WinSetOption filetype=.* %{ remove-highlighter window/markdown }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mprovide-module markdown %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Highlighters[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# ‾‾‾‾‾‾‾‾‾‾‾‾[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/markdown regions[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/markdown/inline default-region regions[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/markdown/inline/text default-region group[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/markdown/listblock region ^\h*[-*]\s ^(?=\S) regions[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/markdown/listblock/g default-region group[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/markdown/listblock/g/ ref markdown/inline[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/markdown/listblock/g/marker regex ^\h*([-*])\s 1:bullet[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/markdown/codeblock region -match-capture \[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    ^(\h*)```\h* \[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    ^(\h*)```\h*$ \[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    regions[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/markdown/codeblock/ default-region fill meta[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/markdown/listblock/codeblock region -match-capture \[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    ^(\h*)```\h* \[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    ^(\h*)```\h*$ \[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    regions[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/markdown/listblock/codeblock/ default-region fill meta[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/markdown/codeline region "^( {4}|\t)" "$" fill meta[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# https://spec.commonmark.org/0.29/#link-destination[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/markdown/angle_bracket_url region (?<=<)([a-z]+://|(mailto|magnet|xmpp):) (?!\\).(?=>)|\n fill link[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/markdown/inline/url region -recurse \( (\b[a-z]+://|(mailto|magnet|xmpp):) (?!\\).(?=\))|\s fill link[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/markdown/listblock/angle_bracket_url region (?<=<)(\b[a-z]+://|(mailto|magnet|xmpp):) (?!\\).(?=>)|\n fill link[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mtry %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    require-module html[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    add-highlighter shared/markdown/inline/tag region (?i)</?[a-z][a-z0-9-]*\s*([a-z_:]|(?=>)) > ref html/tag[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/markdown/inline/code region -match-capture (`+) (`+) fill mono[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Setext-style header[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/markdown/inline/text/ regex (\A|^\n)[^\n]+\n={2,}\h*\n\h*$ 0:title[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/markdown/inline/text/ regex (\A|^\n)[^\n]+\n-{2,}\h*\n\h*$ 0:header[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Atx-style header[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/markdown/inline/text/ regex ^#[^\n]* 0:header[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/markdown/inline/text/ regex (?<!\*)(\*([^\s*]|([^\s*](\n?[^\n*])*[^\s*]))\*)(?!\*) 1:+i[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/markdown/inline/text/ regex (?<!_)(_([^\s_]|([^\s_](\n?[^\n_])*[^\s_]))_)(?!_) 1:+i[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/markdown/inline/text/ regex (?<!\*)(\*\*([^\s*]|([^\s*](\n?[^\n*])*[^\s*]))\*\*)(?!\*) 1:+b[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/markdown/inline/text/ regex (?<!_)(__([^\s_]|([^\s_](\n?[^\n_])*[^\s_]))__)(?!_) 1:+b[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/markdown/inline/text/ regex ^\h*(>\h*)+ 0:comment[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/markdown/inline/text/ regex "\H( {2,})$" 1:+r@meta[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Commands[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# ‾‾‾‾‾‾‾‾[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdefine-command markdown-load-languages -params 1 %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    evaluate-commands -draft %{ try %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        execute-keys "%arg{1}s```\h*\{?[.=]?\K\w+<ret>" # }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        evaluate-commands -itersel %{ try %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            require-module %val{selection}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            add-highlighter "shared/markdown/codeblock/%val{selection}" region -match-capture "^(\h*)```\h*(%val{selection}\b|\{[.=]?%val{selection}\})" ^(\h*)``` regions[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            add-highlighter "shared/markdown/codeblock/%val{selection}/" default-region fill meta[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            add-highlighter "shared/markdown/codeblock/%val{selection}/inner" region \A\h*```[^\n]*\K (?=```) ref %val{selection}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            add-highlighter "shared/markdown/listblock/codeblock/%val{selection}" region -match-capture "^(\h*)```\h*(%val{selection}\b|\{[.=]?%val{selection}\})" ^(\h*)``` regions[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            add-highlighter "shared/markdown/listblock/codeblock/%val{selection}/" default-region fill meta[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            add-highlighter "shared/markdown/listblock/codeblock/%val{selection}/inner" region \A\h*```[^\n]*\K (?=```) ref %val{selection}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        }}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    }}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdefine-command -hidden markdown-trim-indent %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    evaluate-commands -no-hooks -draft -itersel %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        execute-keys x[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        # remove trailing white spaces[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        try %{ execute-keys -draft s \h + $ <ret> d }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdefine-command -hidden markdown-insert-on-new-line %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    try %{ execute-keys -draft -itersel k x s ^\h*\K((>\h*)+([*+-]\h)?|(>\h*)*[*+-]\h)\h* <ret> y gh j P }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdefine-command -hidden markdown-indent-on-new-line %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    evaluate-commands -draft -itersel %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        # preserve previous line indent[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        try %{ execute-keys -draft <semicolon> K <a-&> }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        # remove trailing white spaces[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        try %{ execute-keys -draft k x s \h+$ <ret> d }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# http://ruby-lang.org[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# ‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Detection[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# ‾‾‾‾‾‾‾‾‾[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mhook global BufCreate .*(([.](rb))|(irbrc)|(pryrc)|(Brewfile)|(Capfile|[.]cap)|(Gemfile|[.]gemspec)|(Guardfile)|(Rakefile|[.]rake)|(Thorfile|[.]thor)|(Vagrantfile)) %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    set-option buffer filetype ruby[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Initialization[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# ‾‾‾‾‾‾‾‾‾‾‾‾‾‾[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mhook global WinSetOption filetype=ruby %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    require-module ruby[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    set-option window static_words %opt{ruby_static_words}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    hook window ModeChange pop:insert:.* -group ruby-trim-indent ruby-trim-indent[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    hook window InsertChar .* -group ruby-indent ruby-indent-on-char[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    hook window InsertChar \n -group ruby-indent ruby-indent-on-new-line[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    hook window InsertChar \n -group ruby-insert ruby-insert-on-new-line[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    alias window alt ruby-alternative-file[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    hook -once -always window WinSetOption filetype=.* %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        remove-hooks window ruby-.+[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        unalias window alt ruby-alternative-file[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mhook -group ruby-highlight global WinSetOption filetype=ruby %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    add-highlighter window/ruby ref ruby[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    hook -once -always window WinSetOption filetype=.* %{ remove-highlighter window/ruby }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mprovide-module ruby %§[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Highlighters[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# ‾‾‾‾‾‾‾‾‾‾‾‾[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/ruby regions[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/ruby/code default-region group[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/ruby/double_symbol region ':"' (?<!\\)(\\\\)*"                regions[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/ruby/single_symbol region ":'" (?<!\\)(\\\\)*'                fill variable[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/ruby/double_string region '"' (?<!\\)(\\\\)*"                 regions[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/ruby/single_string region "'" (?<!\\)(\\\\)*'                 fill string[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/ruby/backtick      region '(?<![$:])`' (?<!\\)(\\\\)*`        regions[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/ruby/regex         region '(?<![$:])/' (?<!\\)(\\\\)*/[imox]* regions[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/ruby/              region '#' '$'                             fill comment[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/ruby/              region ^=begin ^=end                       fill comment[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/ruby/              region -recurse \( '%[qwQW]?\(' \)         fill string[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/ruby/              region -recurse \{ '%[qwQW]?\{' \}         fill string[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/ruby/              region -recurse \[ '%[qwQW]?\[' \]         fill string[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/ruby/              region -recurse  < '%[qwQW]?<'   >         fill string[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/ruby/              region -recurse \( '%[isIS]\('  \)         fill variable[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/ruby/              region -recurse \{ '%[isIS]\{'  \}         fill variable[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/ruby/              region -recurse \[ '%[isIS]\['  \]         fill variable[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/ruby/              region -recurse  < '%[isIS]<'    >         fill variable[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/ruby/              region -recurse \( '%[rxRX]\('  \)         fill meta[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/ruby/              region -recurse \{ '%[rxRX]\{'  \}         fill meta[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/ruby/              region -recurse \[ '%[rxRX]\['  \]         fill meta[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/ruby/              region -recurse  < '%[rxRX]<'    >         fill meta[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/ruby/              region -match-capture '%[qwQW]?([^\s0-9A-Za-z\(\{\[<>\]\}\)])' ([^\s0-9A-Za-z\(\{\[<>\]\}\)]) fill string[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/ruby/              region -match-capture '%[isIS]([^\s0-9A-Za-z\(\{\[<>\]\}\)])' ([^\s0-9A-Za-z\(\{\[<>\]\}\)]) fill variable[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/ruby/              region -match-capture '%[rxRX]([^\s0-9A-Za-z\(\{\[<>\]\}\)])' ([^\s0-9A-Za-z\(\{\[<>\]\}\)]) fill meta[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/ruby/heredoc region -match-capture '<<[-~]?(?!self)(\w+)'      '^\h*(\w+)$' fill string[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/ruby/division region '[\w\)\]]\K(/|(\h+/\h+))' '\w' group # Help Kakoune to better detect /…/ literals[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Regular expression flags are: i → ignore case, m → multi-lines, o → only interpolate #{} blocks once, x → extended mode (ignore white spaces)[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Literals are: i → array of symbols, q → string, r → regular expression, s → symbol, w → array of words, x → capture shell result[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/ruby/double_string/ default-region fill string[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/ruby/double_string/interpolation region -recurse \{ \Q#{ \} fill meta[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/ruby/double_symbol/ default-region fill variable[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/ruby/double_symbol/interpolation region -recurse \{ \Q#{ \} fill meta[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/ruby/backtick/ default-region fill meta[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/ruby/backtick/interpolation region -recurse \{ \Q#{ \} fill meta[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/ruby/regex/ default-region fill meta[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/ruby/regex/interpolation region -recurse \{ \Q#{ \} fill meta[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mevaluate-commands %sh{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    # Grammar[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    # Keywords are collected searching for keywords at[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    # https://github.com/ruby/ruby/blob/trunk/parse.y[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    keywords="alias|and|begin|break|case|class|def|defined|do|else|elsif|end"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    keywords="${keywords}|ensure|false|for|if|in|module|next|nil|not|or|private|protected|public|redo"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    keywords="${keywords}|rescue|retry|return|self|super|then|true|undef|unless|until|when|while|yield"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    attributes="attr_reader|attr_writer|attr_accessor"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    values="false|true|nil"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    meta="require|require_relative|include|extend"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    # Add the language's grammar to the static completion list[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    printf %s\\n "declare-option str-list ruby_static_words ${keywords} ${attributes} ${values} ${meta}" | tr '|' ' '[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    # Highlight keywords[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    printf %s "[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        add-highlighter shared/ruby/code/ regex \b(${keywords})[^0-9A-Za-z_!?] 1:keyword[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        add-highlighter shared/ruby/code/ regex \b(${attributes})\b 0:attribute[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        add-highlighter shared/ruby/code/ regex \b(${values})\b 0:value[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        add-highlighter shared/ruby/code/ regex \b(${meta})\b 0:meta[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    "[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/ruby/code/ regex \b(\w+:(?!:))|(:?(\$(-[0FIKWadilpvw]|["'`/~&+=!$*,:.\;<>?@\\])|(\$|@@?)\w+))|((?<!:):(![~=]|=~|>[=>]?|<((=>?)|<)?|[+\-]@?|\*\*?|===?|[/`%&!^|~]|(\w+[=?!]?)|(\[\]=?)))|([A-Z]\w*|^|\h)\K::(?=[A-Z]) 0:variable[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Commands[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# ‾‾‾‾‾‾‾‾[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdefine-command ruby-alternative-file -docstring 'Jump to the alternate file (implementation ↔ test)' %{ evaluate-commands %sh{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    case $kak_buffile in[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        *spec/*_spec.rb)[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            altfile=$(eval echo $(echo $kak_buffile | sed s+spec/+'*'/+';'s/_spec//))[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            [ ! -f $altfile ] && echo "fail 'implementation file not found'" && exit[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        ;;[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        *test/*_test.rb)[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            altfile=$(eval echo $(echo $kak_buffile | sed s+test/+'*'/+';'s/_test//))[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            [ ! -f $altfile ] && echo "fail 'implementation file not found'" && exit[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        ;;[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        *.rb)[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            altfile=""[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            altdir=""[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            path=$kak_buffile[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            dirs=$(while [ $path ]; do echo $path; path=${path%/*}; done | tail -n +2)[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            for dir in $dirs; do[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                altdir=$dir/spec && suffix=spec[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                [ ! -d $altdir ] && altdir=$dir/test && suffix=test[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                if [ -d $altdir ]; then[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                    altfile=$altdir/$(realpath $kak_buffile --relative-to $dir | sed s+[^/]'*'/++';'s/.rb$/_${suffix}.rb/)[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                    break[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                fi[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            done[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            [ ! -d "$altdir" ] && echo "fail 'spec/ and test/ not found'" && exit[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        ;;[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        *)[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            echo "fail 'alternative file not found'" && exit[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        ;;[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    esac[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    echo "edit $altfile"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdefine-command -hidden ruby-trim-indent %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    evaluate-commands -no-hooks -draft -itersel %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        execute-keys x[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        # remove trailing white spaces[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        try %{ execute-keys -draft s \h + $ <ret> d }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdefine-command -hidden ruby-indent-on-char %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    evaluate-commands -no-hooks -draft -itersel %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        # align middle and end structures to start[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        try %{ execute-keys -draft x <a-k> ^ \h * (else)   $ <ret> <a-a> i <a-semicolon> <a-?> ^ \h * (if|case)                                               <ret> <a-S> 1<a-&> }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        try %{ execute-keys -draft x <a-k> ^ \h * (elsif)  $ <ret> <a-a> i <a-semicolon> <a-?> ^ \h * (if)                                                    <ret> <a-S> 1<a-&> }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        try %{ execute-keys -draft x <a-k> ^ \h * (when)   $ <ret> <a-a> i <a-semicolon> <a-?> ^ \h * (case)                                                  <ret> <a-S> 1<a-&> }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        try %{ execute-keys -draft x <a-k> ^ \h * (rescue) $ <ret> <a-a> i <a-semicolon> <a-?> ^ \h * (begin|def)                                             <ret> <a-S> 1<a-&> }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdefine-command -hidden ruby-indent-on-new-line %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    evaluate-commands -no-hooks -draft -itersel %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        # preserve previous line indent[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        try %{ execute-keys -draft K <a-&> }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        # filter previous line[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        try %{ execute-keys -draft k : ruby-trim-indent <ret> }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        # indent after start structure[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        try %{ execute-keys -draft k x <a-k> ^ \h * (begin|case|class|def|else|elsif|ensure|for|if|module|rescue|unless|until|when|while|.+\bdo$|.+\bdo\h\|.+(?=\|)) [^0-9A-Za-z_!?] <ret> j <a-gt> }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdefine-command -hidden ruby-insert-on-new-line %[[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    evaluate-commands -no-hooks -draft -itersel %[[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        # copy _#_ comment prefix and following white spaces[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        try %{ execute-keys -draft k x s ^\h*\K#\h* <ret> y jgi P }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        # wisely add end structure[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        evaluate-commands -save-regs x %[[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            try %{ execute-keys -draft k x s ^ \h + <ret> \" x y } catch %{ reg x '' }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            try %[[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                evaluate-commands -draft %[[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                    # Check if previous line opens a block[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                    execute-keys -draft kx <a-k>^<c-r>x(begin|case|class|def|for|if|module|unless|until|while|.+\bdo$|.+\bdo\h\|.+(?=\|))[^0-9A-Za-z_!?]<ret>[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                    # Check that we do not already have an end for this indent level which is first set via `ruby-indent-on-new-line` hook[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                    execute-keys -draft }i J x <a-K> ^<c-r>x(end|else|elsif|rescue|when)[^0-9A-Za-z_!?]<ret>[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                ][0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                execute-keys -draft o<c-r>xend<esc> # insert a new line with containing end[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            ][0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        ][0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    ][0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m][0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m§[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mhook global BufCreate .*\.((z|ba|c|k|mk)?sh(rc|_profile)?|profile) %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    set-option buffer filetype sh[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mhook global WinSetOption filetype=sh %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    require-module sh[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    set-option window static_words %opt{sh_static_words}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    hook window ModeChange pop:insert:.* -group sh-trim-indent sh-trim-indent[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    hook window InsertChar \n -group sh-insert sh-insert-on-new-line[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    hook window InsertChar \n -group sh-indent sh-indent-on-new-line[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    hook -once -always window WinSetOption filetype=.* %{ remove-hooks window sh-.+ }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mhook -group sh-highlight global WinSetOption filetype=sh %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    add-highlighter window/sh ref sh[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    hook -once -always window WinSetOption filetype=.* %{ remove-highlighter window/sh }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# using non-ascii characters here so that we can use the '[' command[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mprovide-module sh %§[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/sh regions[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/sh/code default-region group[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/sh/arithmetic region -recurse \(.*?\( (\$|(?<=for)\h*)\(\( \)\) group[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/sh/double_string region  %{(?<!\\)(?:\\\\)*\K"} %{(?<!\\)(?:\\\\)*"} group[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/sh/single_string region %{(?<!\\)(?:\\\\)*\K'} %{'} fill string[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/sh/expansion region -recurse (?<!\\)(?:\\\\)*\K\$\{ (?<!\\)(?:\\\\)*\K\$\{ \}|\n fill value[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/sh/comment region (?<!\\)(?:\\\\)*(?:^|\h)\K# '$' fill comment[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/sh/heredoc region -match-capture '<<-?\h*''?(\w+)''?' '^\t*(\w+)$' fill string[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/sh/arithmetic/expansion ref sh/double_string/expansion[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/sh/double_string/fill fill string[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mevaluate-commands %sh{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    # Grammar[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    # Generated with `compgen -k` in bash[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    keywords="if then else elif fi case esac for select while until do done in[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m             function time coproc"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    # Generated with `compgen -b` in bash[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    builtins="alias bg bind break builtin caller cd command compgen complete[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m             compopt continue declare dirs disown echo enable eval exec[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m             exit export false fc fg getopts hash help history jobs kill[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m             let local logout mapfile popd printf pushd pwd read readarray[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m             readonly return set shift shopt source suspend test times trap[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m             true type typeset ulimit umask unalias unset wait"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    join() { sep=$2; eval set -- $1; IFS="$sep"; echo "$*"; }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    # Add the language's grammar to the static completion list[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    printf %s\\n "declare-option str-list sh_static_words $(join "${keywords}" ' ') $(join "${builtins}" ' ')"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    # Highlight keywords[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    printf %s\\n "add-highlighter shared/sh/code/ regex (?<!-)\b($(join "${keywords}" '|'))\b(?!-) 0:keyword"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    # Highlight builtins[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    printf %s "add-highlighter shared/sh/code/builtin regex (?<!-)\b($(join "${builtins}" '|'))\b(?!-) 0:builtin"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/sh/code/operators regex [\[\]\(\)&|]{1,2} 0:operator[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/sh/code/variable regex ((?<![-:])\b\w+)= 1:variable[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/sh/code/alias regex \balias(\h+[-+]\w)*\h+([\w-.]+)= 2:variable[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/sh/code/function regex ^\h*(\S+(?<!=))\h*\(\) 1:function[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/sh/code/unscoped_expansion regex (?<!\\)(?:\\\\)*\K\$(\w+|#|@|\?|\$|!|-|\*) 0:value[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/sh/double_string/expansion regex (?<!\\)(?:\\\\)*\K\$(\w+|#|@|\?|\$|!|-|\*|\{.+?\}) 0:value[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Commands[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# ‾‾‾‾‾‾‾‾[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdefine-command -hidden sh-trim-indent %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    # remove trailing white spaces[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    try %{ execute-keys -draft -itersel x s \h+$ <ret> d }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# This is at best an approximation, since shell syntax is very complex.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Also note that this targets plain sh syntax, not bash - bash adds a whole[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# other level of complexity. If your bash code is fairly portable this will[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# probably work.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m#[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Of necessity, this is also fairly opinionated about indentation styles.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Doing it "properly" would require far more context awareness than we can[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# bring to this kind of thing.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdefine-command -hidden sh-insert-on-new-line %[[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    evaluate-commands -draft -itersel %[[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        # copy '#' comment prefix and following white spaces[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        try %{ execute-keys -draft k x s ^\h*\K#\h* <ret> y gh j P }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    ][0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m][0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Use custom object matching to copy indentation for the various logical[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# blocks.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m#[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Note that we're using a weird non-ascii character instead of [ or { here[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# because the '[' and '{' characters need to be available for the commands.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdefine-command -hidden sh-indent-on-new-line %¶[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    evaluate-commands -draft -itersel %@[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        # preserve previous line indent[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        try %{ execute-keys -draft <semicolon> K <a-&> }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        # filter previous line[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        try %{ execute-keys -draft k : sh-trim-indent <ret> }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        # Indent loop syntax, e.g.:[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        # for foo in bar; do[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        #       things[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        # done[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        #[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        # or:[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        #[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        # while foo; do[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        #       things[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        # done[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        #[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        # or equivalently:[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        #[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        # while foo[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        # do[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        #       things[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        # done[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        #[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        # indent after do[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        try %{ execute-keys -draft , k x <a-k> \bdo$ <ret> j <a-gt> }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        # copy the indentation of the matching for/when - matching on the do[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        # statement, so we don't need to duplicate this for the two loop[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        # structures.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        try %{ execute-keys -draft , k x <a-k> \bdone$ <ret> gh [c\bdo\b,\bdone\b <ret> x <a-S> 1<a-&> , j K <a-&> }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        # Indent if/then/else syntax, e.g.:[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        # if [ $foo = $bar ]; then[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        #       things[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        # else[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        #       other_things[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        # fi[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        #[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        # or equivalently:[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        # if [ $foo = $bar ][0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        # then[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        #       things[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        # else[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        #       other_things[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        # fi[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        #[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        # indent after then[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        try %{ execute-keys -draft , k x <a-k> \bthen$ <ret> j <a-gt> }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        # copy the indentation of the matching if[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        try %{ execute-keys -draft , k x <a-k> \bfi$ <ret> gh [c\bif\b,\bfi\b <ret> x <a-S> 1<a-&> , j K <a-&> }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        # copy the indentation of the matching if, and then re-indent afterwards[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        try %{ execute-keys -draft , k x <a-k> \belse$ <ret> gh [c\bif\b,\bfi\b <ret> x <a-S> 1<a-&> , j K <a-&> j <a-gt> }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        # Indent case syntax, e.g.:[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        # case "$foo" in[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        #       bar) thing1;;[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        #       baz)[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        #               things[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        #               ;;[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        #       *)[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        #               default_things[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        #               ;;[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        # esac[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        #[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        # or equivalently:[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        # case "$foo"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        # in[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        #       bar) thing1;;[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        # esac[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        #[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        # indent after in[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        try %{ execute-keys -draft , k x <a-k> \bin$ <ret> j <a-gt> }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        # copy the indentation of the matching case[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        try %{ execute-keys -draft , k x <a-k> \besac$ <ret> gh [c\bcase\b,\besac\b <ret> x <a-S> 1<a-&> , j K <a-&> }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        # indent after )[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        try %{ execute-keys -draft , k x <a-k> ^\s*\(?[^(]+[^)]\)$ <ret> j <a-gt> }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        # deindent after ;;[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        try %{ execute-keys -draft , k x <a-k> ^\s*\;\;$ <ret> j <a-lt> }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        # Indent compound commands as logical blocks, e.g.:[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        # {[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        #       thing1[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        #       thing2[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        # }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        #[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        # or in a function definition:[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        # foo () {[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        #       thing1[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        #       thing2[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        # }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        #[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        # We don't handle () delimited compond commands - these are technically very[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        # similar, but the use cases are quite different and much less common.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        #[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        # Note that in this context the '{' and '}' characters are reserved[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        # words, and hence must be surrounded by a token separator - typically[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        # white space (including a newline), though technically it can also be[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        # ';'. Only vertical white space makes sense in this context, though,[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        # since the syntax denotes a logical block, not a simple compound command.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        try %= execute-keys -draft , k x <a-k> (\s|^)\{$ <ret> j <a-gt> =[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        # deindent closing }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        try %= execute-keys -draft , k x <a-k> ^\s*\}$ <ret> <a-lt> j K <a-&> =[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        # deindent closing } when after cursor[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        try %= execute-keys -draft x <a-k> ^\h*\} <ret> gh / \} <ret> m <a-S> 1<a-&> =[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    @[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m¶[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m§[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdeclare-option -hidden range-specs spell_regions[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdeclare-option -hidden str spell_last_lang[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdeclare-option -docstring "default language to use when none is passed to the spell-check command" str spell_lang[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdefine-command -params ..1 -docstring %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    spell [<language>]: spell check the current buffer[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    The first optional argument is the language against which the check will be performed (overrides `spell_lang`)[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    Formats of language supported:[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m      - ISO language code, e.g. 'en'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m      - language code above followed by a dash or underscore with an ISO country code, e.g. 'en-US'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    } spell %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    try %{ add-highlighter window/ ranges 'spell_regions' }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    evaluate-commands %sh{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        use_lang() {[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            if ! printf %s "$1" | grep -qE '^[a-z]{2,3}([_-][A-Z]{2})?$'; then[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                echo "fail 'Invalid language code (examples of expected format: en, en_US, en-US)'"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                exit 1[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            else[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                options="-l '$1'"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                printf 'set-option buffer spell_last_lang %s\n' "$1"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            fi[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        if [ $# -ge 1 ]; then[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            use_lang "$1"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        elif [ -n "${kak_opt_spell_lang}" ]; then[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            use_lang "${kak_opt_spell_lang}"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        fi[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        printf 'eval -no-hooks write %s\n' "${kak_response_fifo}" > $kak_command_fifo[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        {[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            sed 's/^/^/' | eval "aspell --byte-offsets -a $options" 2>&1 | awk '[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                BEGIN {[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                    line_num = 1[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                    regions = ENVIRON["kak_timestamp"][0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                    server_command = sprintf("kak -p \"%s\"", ENVIRON["kak_session"])[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                {[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                    if (/^@\(#\)/) {[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                        # drop the identification message[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                    }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                    else if (/^\*/) {[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                        # nothing[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                    }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                    else if (/^[+-]/) {[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                        # required to ignore undocumented aspell functionality[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                    }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                    else if (/^$/) {[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                        line_num++[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                    }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                    else if (/^[#&]/) {[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                        word_len = length($2)[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                        word_pos = substr($0, 1, 1) == "&" ? substr($4, 1, length($4) - 1) : $3;[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                        regions = regions " " line_num "." word_pos "+" word_len "|DiagnosticError"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                    }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                    else {[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                        line = $0[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                        gsub(/"/, "&&", line)[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                        command = "fail \"" line "\""[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                        exit[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                    }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                END {[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                    if (!length(command))[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                        command = "set-option \"buffer=" ENVIRON["kak_bufname"] "\" spell_regions " regions[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                    print command | server_command[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                    close(server_command)[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            '[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        } <$kak_response_fifo >/dev/null 2>&1 &[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdefine-command spell-clear %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    unset-option buffer spell_regions[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdefine-command spell-next %{ evaluate-commands %sh{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    anchor_line="${kak_selection_desc%%.*}"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    anchor_col="${kak_selection_desc%%,*}"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    anchor_col="${anchor_col##*.}"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    start_first="${kak_opt_spell_regions%%|*}"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    start_first="${start_first#* }"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    # Make sure properly formatted selection descriptions are in `%opt{spell_regions}`[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    if ! printf %s "${start_first}" | grep -qE '^[0-9]+\.[0-9]+,[0-9]+\.[0-9]+$'; then[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        exit[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    fi[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    printf %s "${kak_opt_spell_regions#* }" | awk -v start_first="${start_first}" \[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                                                  -v anchor_line="${anchor_line}" \[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                                                  -v anchor_col="${anchor_col}" '[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        BEGIN {[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            anchor_line = int(anchor_line)[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            anchor_col = int(anchor_col)[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        {[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            for (i = 1; i <= NF; i++) {[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                sel = $i[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                sub(/\|.+$/, "", sel)[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                start_line = sel[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                sub(/\..+$/, "", start_line)[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                start_line = int(start_line)[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                start_col = sel[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                sub(/,.+$/, "", start_col)[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                sub(/^.+\./, "", start_col)[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                start_col = int(start_col)[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                if (start_line < anchor_line \[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                    || (start_line == anchor_line && start_col <= anchor_col))[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                    continue[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                target_sel = sel[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                break[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        END {[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            if (!target_sel)[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                target_sel = start_first[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            printf "select %s\n", target_sel[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        }'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m} }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdefine-command \[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    -docstring "Suggest replacement words for the current selection, against the last language used by the spell-check command" \[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    spell-replace %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    prompt \[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        -shell-script-candidates %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            options=""[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            if [ -n "$kak_opt_spell_last_lang" ]; then[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                options="-l '$kak_opt_spell_last_lang'"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            fi[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            printf %s "$kak_selection" |[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                eval "aspell -a $options" |[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                sed -n -e '/^&/ { s/^[^:]*: //; s/, /\n/g; p }'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        } \[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        "Replace with: " \[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            evaluate-commands -save-regs a %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                set-register a %val{text}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                execute-keys c <c-r>a <esc>[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdefine-command -params 0.. \[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    -docstring "Add the current selection to the dictionary" \[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    spell-add %{ evaluate-commands %sh{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    options=""[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    if [ -n "$kak_opt_spell_last_lang" ]; then[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        options="-l '$kak_opt_spell_last_lang'"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    fi[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    if [ $# -eq 0 ]; then[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        # use selections[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        eval set -- "$kak_quoted_selections"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    fi[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    while [ $# -gt 0 ]; do[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        word="$1"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        if ! printf '*%s\n#\n' "${word}" | eval "aspell -a $options" >/dev/null; then[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m           printf 'fail "Unable to add word: %s"' "$(printf %s "${word}" | sed 's/"/&&/g')"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m           exit 1[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        fi[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        shift[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    done[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# https://www.w3schools.com/sql/default.asp[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# ‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Detection[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# ‾‾‾‾‾‾‾‾‾[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mhook global BufCreate .*/?(?i)sql %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    set-option buffer filetype sql[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Initialization[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# ‾‾‾‾‾‾‾‾‾‾‾‾‾‾[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mhook global WinSetOption filetype=sql %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    require-module sql[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    set-option window static_words %opt{sql_static_words}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mhook -group sql-highlight global WinSetOption filetype=sql %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    add-highlighter window/sql ref sql[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    hook -once -always window WinSetOption filetype=.* %{ remove-highlighter window/sql }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mprovide-module sql %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Highlighters[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# ‾‾‾‾‾‾‾‾‾‾‾‾[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/sql regions[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/sql/code default-region group[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/sql/double_string region '"' (?<!\\)(\\\\)*" fill string[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/sql/single_string region "'" (?<!\\)(\\\\)*' fill string[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/sql/comment1 region '--' '$' fill comment[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/sql/comment2 region '#' '$' fill comment[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/sql/comment3 region '/\*' '\*/' fill comment[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mevaluate-commands %sh{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    # Keywords[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    keywords="ALTER|AS|ASC|AUTO_INCREMENT|CHECK|CONSTRAINT|CREATE|DATABASE|DEFAULT|DELETE|DESC|DISTINCT|DROP"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    keywords="${keywords}|EXISTS|FOREIGN KEY|FROM|FULL JOIN|FULL OUTER JOIN|GROUP BY|HAVING|INDEX|INNER JOIN"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    keywords="${keywords}|INSERT INTO|INTO|JOIN|LEFT JOIN|LEFT OUTER JOIN|LIMIT|MODIFY|NOT NULL|ON|ORDER BY|PRIMARY KEY"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    keywords="${keywords}|REFERENCES|RIGHT JOIN|RIGHT OUTER JOIN|SELECT|SELECT TOP|SET|TABLE|TRUNCATE|UNION|UNIQUE"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    keywords="${keywords}|UPDATE|VALUES|VIEW|WHERE"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    # Operators[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    operators="ALL|AND|ANY|BETWEEN|EXISTS|IN|IS|LIKE|NOT|OR|SOME"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    # MySQL functions[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    functions="ABS|ACOS|ADDDATE|ADDTIME|ASCII|ASIN|ATAN|AVG|BIN|BINARY|CASE|CAST|CEIL|CEILING"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    functions="${functions}|CHARACTER_LENGTH|CHAR_LENGTH|COALESCE|CONCAT|CONCAT_WS|CONNECTION_ID|CONV|CONVERT"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    functions="${functions}|COS|COT|COUNT|CURDATE|CURRENT_DATE|CURRENT_TIME|CURRENT_TIMESTAMP|CURRENT_USER"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    functions="${functions}|CURTIME|DATABASE|DATE|DATE_ADD|DATEDIFF|DATE_FORMAT|DATE_SUB|DAY|DAYNAME"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    functions="${functions}|DAYOFMONTH|DAYOFWEEK|DAYOFYEAR|DEGREES|DIV|EXP|EXTRACT|FIELD|FIND_IN_SET|FLOOR"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    functions="${functions}|FORMAT|FROM_DAYS|GREATEST|HOUR|IF|IFNULL|INSERT|INSTR|ISNULL|LAST_DAY"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    functions="${functions}|LAST_INSERT_ID|LCASE|LEAST|LEFT|LENGTH|LN|LOCALTIME|LOCALTIMESTAMP|LOCATE|LOG"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    functions="${functions}|LOWER|LPAD|LTRIM|MAKEDATE|MAKETIME|MAX|MICROSECOND|MID|MIN|MINUTE|MOD|MONTH"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    functions="${functions}|MONTHNAME|NOW|NULLIF|PERIOD_ADD|PERIOD_DIFF|PI|POSITION|POW|POWER|QUARTER|RADIANS"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    functions="${functions}|RAND|REPEAT|REPLACE|REVERSE|RIGHT|ROUND|RPAD|RTRIM|SECOND|SEC_TO_TIME|SESSION_USER"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    functions="${functions}|SIGN|SIN|SPACE|SQRT|STRCMP|STR_TO_DATE|SUBDATE|SUBSTR|SUBSTRING|SUBSTRING_INDEX"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    functions="${functions}|SUBTIME|SUM|SYSDATE|SYSTEM_USER|TAN|TIME|TIMEDIFF|TIME_FORMAT|TIMESTAMP"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    functions="${functions}|TIME_TO_SEC|TO_DAYS|TRIM|TRUNCATE|UCASE|UPPER|USER|VERSION|WEEK|WEEKDAY|WEEKOFYEAR"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    functions="${functions}|YEAR|YEARWEEK"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    # SQL Server functions[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    functions="${functions}|CHAR|CHARINDEX|DATALENGTH|DATEADD|DATENAME|DATEPART|GETDATE|GETUTCDATE|ISDATE"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    functions="${functions}|ISNUMERIC|LEN|NCHAR|PATINDEX|SESSIONPROPERTY|STR|STUFF|USER_NAME"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    # MS Access functions[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    functions="${functions}|Abs|Asc|Atn|Avg|Chr|Cos|Count|CurDir|CurrentUser|Date|DateAdd|DateDiff|DatePart"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    functions="${functions}|DateSerial|DateValue|Day|Environ|Exp|Fix|Format|Hour|InStr|InstrRev|Int|IsDate"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    functions="${functions}|IsNull|IsNumeric|LCase|Left|Len|LTrim|Max|Mid|Min|Minute|Month|MonthName|Now"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    functions="${functions}|Randomize|Replace|Right|Rnd|Round|RTrim|Second|Sgn|Space|Split|Sqr|Str|StrComp"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    functions="${functions}|StrConv|StrReverse|Sum|Time|TimeSerial|TimeValue|Trim|UCase|Val|Weekday"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    functions="${functions}|WeekdayName|Year"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    # Oracle functions[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    functions="${functions}|ADD_MONTHS|ASCIISTR|BITAND|CHR|COMPOSE|COSH|DBTIMEZONE|DECOMPOSE|DUMP|INITCAP|INSTRB"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    functions="${functions}|INSTRC|LENGTHB|LENGTHC|MEDIAN|MONTHS_BETWEEN|NCHR|NEW_TIME|NEXT_DAY|REGEXP_COUNT"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    functions="${functions}|REGEXP_INSTR|REGEXP_REPLACE|REGEXP_SUBSTR|REMAINDER|ROWNUM|SESSIONTIMEZONE|SOUNDEX"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    functions="${functions}|SYSTIMESTAMP|TANH|TRANSLATE|TRUNC|TZ_OFFSET|VSIZE"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    # MySQL data types[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    data_types="LONGBLOB|LONGTEXT|MEDIUMBLOB|MEDIUMTEXT|SET|TEXT|TINYTEXT"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    data_types_fn="BIGINT|BLOB|CHAR|DATE|DATETIME|DECIMAL|DOUBLE|ENUM|FLOAT|INT"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    data_types_fn="${data_types_fn}|MEDIUMINT|SMALLINT|TIME|TIMESTAMP|TINYINT|VARCHAR|YEAR"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    # SQL Server data types[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    data_types="${data_types}|bigint|bit|cursor|date|datetime|datetime2|datetimeoffset|image|int|money|nchar|ntext"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    data_types="${data_types}|nvarchar|real|smalldatetime|smallint|smallmoney|sql_variant|table|text|time"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    data_types="${data_types}|timestamp|tinyint|uniqueidentifier|varbinary|xml"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    data_types_fn="${data_types_fn}|binary|char|decimal|float|numeric|nvarchar|varbinary|varchar|varchar"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    # MS Access data types[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    data_types="${data_types}|Text|Memo|Byte|Integer|Long|Single|Double|Currency|AutoNumber|Date"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    data_types="${data_types}|Time|Ole Object|Hyperlink|Lookup Wizard"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    # Add the language's grammar to the static completion list[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    printf %s\\n "declare-option str-list sql_static_words ${keywords} ${operators} ${functions} ${data_types} ${data_types_fn} NULL" | tr '|' ' '[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    # Highlight keywords[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    printf %s "[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        add-highlighter shared/sql/code/ regex '(?i)\b(${functions})\(.*?\)' 0:function[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        add-highlighter shared/sql/code/ regex '(?i)\b(${data_types_fn})\(.*?\)' 0:type[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        add-highlighter shared/sql/code/ regex '(?i)\b(${keywords})\b' 0:keyword[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        add-highlighter shared/sql/code/ regex '(?i)\b(${operators})\b' 0:operator[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        add-highlighter shared/sql/code/ regex '(?i)\b(${data_types})\b' 0:type[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    "[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/sql/code/ regex '\+|-|\*|/|%|&|\||^|=|>|<|>=|<=|<>|\+=|-=|\*=|/=|%=|&=|^-=|\|\*=' 0:operator[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/sql/code/ regex \bNULL\b 0:value[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/sql/code/ regex \b\d+(?:\.\d+)?\b 0:value[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# http://yaml.org[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# ‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Detection[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# ‾‾‾‾‾‾‾‾‾[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mhook global BufCreate .*[.](ya?ml) %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    set-option buffer filetype yaml[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Initialization[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# ‾‾‾‾‾‾‾‾‾‾‾‾‾‾[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mhook global WinSetOption filetype=yaml %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    require-module yaml[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    hook window ModeChange pop:insert:.* -group yaml-trim-indent yaml-trim-indent[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    hook window InsertChar \n -group yaml-insert yaml-insert-on-new-line[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    hook window InsertChar \n -group yaml-indent yaml-indent-on-new-line[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    hook -once -always window WinSetOption filetype=.* %{ remove-hooks window yaml-.+ }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mhook -group yaml-highlight global WinSetOption filetype=yaml %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    add-highlighter window/yaml ref yaml[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    hook -once -always window WinSetOption filetype=.* %{ remove-highlighter window/yaml }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mprovide-module yaml %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Highlighters[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# ‾‾‾‾‾‾‾‾‾‾‾‾[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/yaml regions[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/yaml/code      default-region group[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/yaml/double_string region '"' (?<!\\)(\\\\)*"       fill string[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/yaml/single_string region "'" "'"                   fill string[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/yaml/comment       region '(?:^| )#' $              fill comment[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/yaml/code/ regex ^(---|\.\.\.)$ 0:meta[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/yaml/code/ regex ^(\h*:\w*) 0:keyword[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/yaml/code/ regex \b(true|false|null)\b 0:value[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/yaml/code/ regex ^\h*-?\h*(\S+): 1:attribute[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Commands[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# ‾‾‾‾‾‾‾‾[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdefine-command -hidden yaml-trim-indent %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    # remove trailing white spaces[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    try %{ execute-keys -draft -itersel x s \h+$ <ret> d }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdefine-command -hidden yaml-insert-on-new-line %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    evaluate-commands -draft -itersel %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        # copy '#' comment prefix and following white spaces[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        try %{ execute-keys -draft k x s ^\h*\K#\h* <ret> y gh j P }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdefine-command -hidden yaml-indent-on-new-line %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    evaluate-commands -draft -itersel %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        # preserve previous line indent[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        try %{ execute-keys -draft <semicolon> K <a-&> }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        # filter previous line[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        try %{ execute-keys -draft k : yaml-trim-indent <ret> }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        # indent after :[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        try %{ execute-keys -draft , k x <a-k> :$ <ret> j <a-gt> }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        # indent after -[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        try %{ execute-keys -draft , k x <a-k> ^\h*- <ret> j <a-gt> }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# ~/.config/kak/colors/dracula.kak[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Dracula theme for Kakoune[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# https://draculatheme.com/kakoune[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m#[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Color palette[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# https://spec.draculatheme.com[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m#[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Template[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# https://github.com/mawww/kakoune/blob/master/colors/default.kak[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m#[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Faces[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# https://github.com/mawww/kakoune/blob/master/doc/pages/faces.asciidoc[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m#[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# A fully spec‐compliant theme implementation:[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# https://draculatheme.com/visual-studio-code[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# https://github.com/dracula/visual-studio-code/blob/master/src/dracula.yml[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m#[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# A list of files to open in Kakoune and VS Code:[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# C++ ⇒ https://github.com/mawww/kakoune/tree/master/src[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# AsciiDoc ⇒ https://github.com/mawww/kakoune/tree/master/doc[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Color palette ────────────────────────────────────────────────────────────────[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Standard[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdeclare-option str background '282a36'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdeclare-option str foreground 'f8f8f2'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdeclare-option str selection '44475a'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdeclare-option str comment '6272a4'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdeclare-option str red 'ff5555'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdeclare-option str orange 'ffb86c'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdeclare-option str yellow 'f1fa8c'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdeclare-option str green '50fa7b'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdeclare-option str purple 'bd93f9'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdeclare-option str cyan '8be9fd'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdeclare-option str pink 'ff79c6'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# ANSI[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdeclare-option str black '21222c'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdeclare-option str red 'ff5555'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdeclare-option str green '50fa7b'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdeclare-option str yellow 'f1fa8c'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdeclare-option str blue 'bd93f9'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdeclare-option str magenta 'ff79c6'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdeclare-option str cyan '8be9fd'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdeclare-option str white 'f8f8f2'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdeclare-option str bright_black '6272a4'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdeclare-option str bright_red 'ff6e6e'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdeclare-option str bright_green '69ff94'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdeclare-option str bright_yellow 'ffffa5'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdeclare-option str bright_blue 'd6acff'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdeclare-option str bright_magenta 'ff92df'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdeclare-option str bright_cyan 'a4ffff'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdeclare-option str bright_white 'ffffff'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Alpha blending[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdeclare-option str cursor_alpha '99'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdeclare-option str selection_alpha '80'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# UI variants[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# <https://github.com/dracula/visual-studio-code/blob/master/src/dracula.yml#:~:text=UI Variants>[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdeclare-option str background_lighter '424450'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdeclare-option str background_light '343746'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdeclare-option str background_dark '21222c'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdeclare-option str background_darker '191a21'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Other[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# https://github.com/dracula/visual-studio-code/blob/master/src/dracula.yml#:~:text=other[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdeclare-option str non_text "%opt{background_light}"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Template ─────────────────────────────────────────────────────────────────────[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# For code[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global value "rgb:%opt{purple}" # C++ ⇒ int number = [42];[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global type "rgb:%opt{pink}" # C++ ⇒ [int] main() { ... }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global variable "rgb:%opt{cyan}" # Makefile ⇒ [install]:[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global module "rgb:%opt{yellow}" # C++ ⇒ #include [<stdio.h>][0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global function "rgb:%opt{green}" # https://spec.draculatheme.com#FunctionNames[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global string "rgb:%opt{yellow}" # https://spec.draculatheme.com#String[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global keyword "rgb:%opt{pink}" # https://spec.draculatheme.com#Keyword[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global operator "rgb:%opt{pink}" # Shell ⇒ true [&&] false[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global attribute "rgb:%opt{pink}" # C++ ⇒ [enum] Color { ... };[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global comment "rgb:%opt{comment}" # https://spec.draculatheme.com#Comment[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global documentation comment # Rust ⇒ /// Returns `true`.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global meta "rgb:%opt{pink}" # C++ ⇒ [#include] <stdio.h>[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global builtin "rgb:%opt{cyan}+i" # https://spec.draculatheme.com#Support[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Diffs[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# https://spec.draculatheme.com#sec-Diffs[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global DiffText "rgb:%opt{comment}"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global DiffHeader "rgb:%opt{comment}"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global DiffInserted "rgb:%opt{green},rgba:%opt{green}20" # https://github.com/dracula/visual-studio-code/blob/master/src/dracula.yml#:~:text=diffEditor.insertedTextBackground[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global DiffDeleted "rgb:%opt{red},rgba:%opt{red}50" # https://github.com/dracula/visual-studio-code/blob/master/src/dracula.yml#:~:text=diffEditor.removedTextBackground[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global DiffChanged "rgb:%opt{orange}"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# For markup[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global title "rgb:%opt{purple}+b" # AsciiDoc ⇒ = Document title — https://spec.draculatheme.com#MarkupHeading[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global header "rgb:%opt{purple}+b" # AsciiDoc ⇒ == Section title — https://spec.draculatheme.com#MarkupHeading[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global mono "rgb:%opt{green}" # AsciiDoc ⇒ `code` — https://spec.draculatheme.com#MarkupInlineCode[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global block "rgb:%opt{orange}" # AsciiDoc ⇒ [----][code][----] — https://spec.draculatheme.com#MarkupCodeBlockWithoutSyntax[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global link "rgb:%opt{cyan}" # Markdown ⇒ <https://draculatheme.com> — https://spec.draculatheme.com#MarkupLinkUrl[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global bullet "rgb:%opt{cyan}" # https://spec.draculatheme.com#MarkupListBulletOrNumber[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global list "rgb:%opt{foreground}" # AsciiDoc ⇒ - [item][0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Builtin faces[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global Default "rgb:%opt{foreground},rgb:%opt{background}" # Editor background[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global PrimarySelection "default,rgba:%opt{pink}%opt{selection_alpha}" # Pink (alpha-blended)[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global SecondarySelection "default,rgba:%opt{purple}%opt{selection_alpha}" # Purple (alpha-blended)[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global PrimaryCursor "default,rgba:%opt{pink}%opt{cursor_alpha}" # Pink (alpha-blended)[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global SecondaryCursor "default,rgba:%opt{purple}%opt{cursor_alpha}" # Purple (alpha-blended)[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global PrimaryCursorEol "rgb:%opt{background},rgb:%opt{foreground}+fg" # White (full block)[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global SecondaryCursorEol "rgb:%opt{background},rgb:%opt{foreground}+fg" # White (full block)[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global MenuForeground "rgb:%opt{foreground},rgb:%opt{selection}" # https://github.com/dracula/visual-studio-code/blob/master/src/dracula.yml#:~:text=editorSuggestWidget.selectedBackground[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global MenuBackground "rgb:%opt{foreground},rgb:%opt{background_dark}" # https://github.com/dracula/visual-studio-code/blob/master/src/dracula.yml#:~:text=editorSuggestWidget.background[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global MenuInfo "rgb:%opt{comment}" # IntelliSense suggestions[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global Information Default # Contextual help blends with the editor background.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global Error "rgb:%opt{foreground},rgb:%opt{red}" # https://spec.draculatheme.com#Invalid[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global DiagnosticError "rgb:%opt{red}" # https://github.com/dracula/visual-studio-code/blob/master/src/dracula.yml#:~:text=editorError.foreground[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global DiagnosticWarning "rgb:%opt{cyan}" # https://github.com/dracula/visual-studio-code/blob/master/src/dracula.yml#:~:text=editorWarning.foreground[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global StatusLine "rgb:%opt{foreground},rgb:%opt{background_dark}" # Prefer background dark here — https://github.com/dracula/visual-studio-code/blob/master/src/dracula.yml#:~:text=statusBar.background[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global StatusLineMode "rgb:%opt{green}" # [insert][0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global StatusLineInfo "rgb:%opt{purple}" # 1 sel[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global StatusLineValue "rgb:%opt{green}" # 1 sel param=[42] reg=[y][0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global StatusCursor "rgb:%opt{background},rgb:%opt{foreground}" # Cursor in command mode[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global Prompt StatusLine # Same as the status line, since they live at the same place.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global BufferPadding "rgb:%opt{non_text}" # Kakoune ⇒ set-option global ui_options terminal_padding_fill=yes[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Builtin highlighter faces[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global LineNumbers "rgb:%opt{non_text}" # Kakoune ⇒ add-highlighter -override global/number-lines number-lines — Prefer non-text here — https://github.com/dracula/visual-studio-code/blob/master/src/dracula.yml#:~:text=editorLineNumber[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global LineNumberCursor "rgb:%opt{foreground}" # Kakoune ⇒ add-highlighter -override global/number-lines number-lines -hlcursor[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global LineNumbersWrapped "rgb:%opt{background}" # Kakoune ⇒ add-highlighter -override global/number-lines number-lines; add-highlighter -override global/wrap wrap[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global MatchingChar "rgb:%opt{green}+uf" # Kakoune ⇒ add-highlighter -override global/show-matching show-matching — https://github.com/dracula/vim/blob/master/colors/dracula.vim#:~:text=MatchParen[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global Whitespace "rgb:%opt{non_text}+f" # Kakoune ⇒ add-highlighter -override global/show-whitespaces show-whitespaces[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global WrapMarker "rgb:%opt{non_text}" # Kakoune ⇒ add-highlighter -override global/wrap wrap -marker '↪'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# ~/.config/kak/colors/dracula.kak[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m##[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m## base16.kak by lenormf[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m##[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mevaluate-commands %sh{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    black_lighterer='rgb:383838'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    black_lighter='rgb:2D2D2D'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    black_light='rgb:1C1C1C'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    cyan_light='rgb:7CB0FF'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    green_dark='rgb:A1B56C'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    grey_dark='rgb:585858'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    grey_light='rgb:D8D8D8'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    magenta_dark='rgb:AB4642'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    magenta_light='rgb:AB4434'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    orange_dark='rgb:DC9656'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    orange_light='rgb:F7CA88'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    purple_dark='rgb:BA8BAF'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    ## code[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    echo "[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        face global value ${orange_dark}+b[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        face global type ${orange_light}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        face global variable ${magenta_dark}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        face global module ${green_dark}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        face global function ${cyan_light}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        face global string ${green_dark}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        face global keyword ${purple_dark}+b[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        face global operator ${cyan_light}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        face global attribute ${orange_dark}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        face global comment ${grey_dark}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        face global documentation comment[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        face global meta ${orange_light}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        face global builtin default+b[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    "[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    ## markup[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    echo "[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        face global title blue[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        face global header ${cyan_light}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        face global mono ${green_dark}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        face global block ${orange_dark}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        face global link blue[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        face global bullet ${magenta_light}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        face global list ${magenta_dark}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    "[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    ## builtin[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    echo "[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        face global Default ${grey_light},${black_lighter}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        face global PrimarySelection white,blue+fg[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        face global SecondarySelection black,blue+fg[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        face global PrimaryCursor black,white+fg[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        face global SecondaryCursor black,white+fg[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        face global PrimaryCursorEol black,${cyan_light}+fg[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        face global SecondaryCursorEol black,${cyan_light}+fg[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        face global LineNumbers ${grey_light},${black_lighter}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        face global LineNumberCursor ${grey_light},rgb:282828+b[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        face global MenuForeground ${grey_light},blue[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        face global MenuBackground blue,${grey_light}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        face global MenuInfo ${cyan_light}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        face global Information ${black_light},${cyan_light}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        face global Error ${grey_light},${magenta_light}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        face global DiagnosticError ${magenta_light}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        face global DiagnosticWarning ${cyan_light}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        face global StatusLine ${grey_light},${black_lighterer}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        face global StatusLineMode ${orange_dark}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        face global StatusLineInfo ${cyan_light}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        face global StatusLineValue ${green_dark}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        face global StatusCursor ${black_lighterer},${cyan_light}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        face global Prompt ${black_light},${cyan_light}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        face global MatchingChar ${cyan_light},${black_light}+b[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        face global BufferPadding ${cyan_light},${black_lighter}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        face global Whitespace ${grey_dark}+f[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    "[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Kakoune default color scheme[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# For Code[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mface global value red[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mface global type yellow[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mface global variable green[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mface global module green[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mface global function cyan[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mface global string magenta[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mface global keyword blue[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mface global operator yellow[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mface global attribute green[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mface global comment cyan[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mface global documentation comment[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mface global meta magenta[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mface global builtin default+b[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# For markup[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mface global title blue[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mface global header cyan[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mface global mono green[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mface global block magenta[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mface global link cyan[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mface global bullet cyan[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mface global list yellow[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# builtin faces[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mface global Default default,default[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mface global PrimarySelection white,blue+fg[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mface global SecondarySelection black,blue+fg[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mface global PrimaryCursor black,white+fg[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mface global SecondaryCursor black,white+fg[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mface global PrimaryCursorEol black,cyan+fg[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mface global SecondaryCursorEol black,cyan+fg[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mface global LineNumbers default,default[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mface global LineNumberCursor default,default+r[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mface global MenuForeground white,blue[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mface global MenuBackground blue,white[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mface global MenuInfo cyan[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mface global Information black,yellow[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mface global Error black,red[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mface global DiagnosticError red[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mface global DiagnosticWarning yellow[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mface global StatusLine cyan,default[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mface global StatusLineMode yellow,default[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mface global StatusLineInfo blue,default[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mface global StatusLineValue green,default[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mface global StatusCursor black,cyan[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mface global Prompt yellow,default[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mface global MatchingChar default,default+b[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mface global Whitespace default,default+fd[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mface global BufferPadding blue,default[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# ~/.config/kak/colors/dracula.kak[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51msource "%val{runtime}/colors/default.kak"[0m[48;2;208;255;208m[0K[0m

[33mcommit 5ee386ab7ab8ba0de948f1c9100523cbad304e9e[m
Author: Mathieu Ablasou <taupiqueur.kanto@gmail.com>
Date:   2023-04-15 13:18:38 +0200

    2023-04-15 13:18:38


[34mremoved: .config/kak/kakrc[0m
[34m────────────────────────────────────────────────────────────────────────────────[0m

[34m───[0m[34m┐[0m
[34m0[0m: [34m│[0m
[34m───[0m[34m┘[0m
[48;2;255;224;224m# Kakoune[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# https://kakoune.org[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# https://github.com/mawww/kakoune[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m#[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Configuration:[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m#[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# https://github.com/Delapouite/dot-in-the-sky/blob/master/.config/kak/kakrc[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# https://github.com/mawww/config/blob/master/kakrc[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# https://github.com/occivink/config/blob/master/.config/kak/kakrc[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# https://github.com/topisani/dotfiles/blob/master/config/kak/kakrc[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# https://gitlab.com/vbauerster/dotfiles/-/blob/master/.config/kak/kakrc[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Preamble ---------------------------------------------------------------------[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdefine-command -override colorscheme -params 1 -docstring 'load color scheme' %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  source "%val{config}/colors/%arg{1}.kak"[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mevaluate-commands %sh{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  find -L "$kak_config/autoload" -type f -name '*.kak' -exec printf 'source "%s";' {} +[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# source "%val{config}/kakrc"[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# source ~/.kakrc[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Preamble ---------------------------------------------------------------------[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mremove-hooks global config[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mtry %sh{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  kak-lsp --kakoune --session "$kak_session"[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  kak-test --print-kakoune-init[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Options ----------------------------------------------------------------------[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# UI options[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-option global startup_info_version 20221231[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-option global ui_options terminal_set_title=no terminal_assistant=none[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Matching pairs[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-option global matching_pairs ( ) { } [ ] < > “ ” ‘ ’ « » ‹ ›[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-option global scrolloff 5,1[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter -override global/show-matching show-matching[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter -override global/number-lines number-lines -hlcursor[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Status line[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-option global modelinefmt '%val{bufname} %val{cursor_line}:%val{cursor_char_column} {{context_info}} {{mode_info}} - %val{client}@%val{session}'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Color scheme: One light (https://git.sr.ht/~raiguard/one.kak)[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224msource "%val{runtime}/colors/default.kak"[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# colorscheme one-light[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Custom faces[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# set-face global Whitespace "rgb:%opt{bg}+f"[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# set-face global SelectedText "rgb:%opt{blue}+f"[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# System clipboard[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# set-option global clipboard_copy_command 'pbcopy'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# set-option global clipboard_copy_args[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Highlight whitespace[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# add-highlighter -override global/whitespace ref whitespace[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Highlight various characters[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# https://unicode-table.com[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter -override global/U+2013 regex '–' '0:green+f'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter -override global/U+2014 regex '—' '0:green+bf'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter -override global/math-symbols regex '[−×]' '0:cyan+f'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Mappings ---------------------------------------------------------------------[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Text objects[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Quotation marks[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mmap -docstring 'double quotation mark' global object <a-Q> 'c“,”<ret>'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mmap -docstring 'single quotation mark' global object <a-q> 'c‘,’<ret>'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mmap -docstring 'double angle quotation mark' global object <a-G> 'c«,»<ret>'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mmap -docstring 'single angle quotation mark' global object <a-g> 'c‹,›<ret>'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Tag[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mmap -docstring 'tag' global object t 'c<lt>.+?<gt>,<lt>/.+?<gt><ret>'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Line[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mmap -docstring 'line' global object x '<esc>x_'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mmap -docstring 'yank joined selections into system clipboard' global user y ': yank_terminal_clipboard<ret>'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mmap global normal <ret> ':'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mmap global normal f '<a-:>F'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mmap global normal F '<a-:><a-;><a-F>'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mmap global normal t '<a-:>T'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mmap global normal T '<a-:><a-;><a-T>'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# map global normal / '<a-:>?'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# map global normal ? '<a-:><a-;><a-?>'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# map global normal n '<a-:>?<ret>'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# map global normal N '<a-:><a-;><a-?><ret>'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mmap global normal x ': select-or-extend-lines<ret>'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mmap global normal X 'x<a-:><a-;>'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mmap global normal v '<a-i>'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mmap global normal V '<a-a>'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mmap global normal { '<a-:><a-;>{p'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mmap global normal } '<a-:>}p'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdefine-command select-or-extend-lines %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  execute-keys '<a-:>'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  try %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    # At least one selection is not full, so select whole lines.[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    execute-keys -draft '<a-K>\A^.*\n\z<ret>'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    execute-keys 'x'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  } catch %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    execute-keys 'Jx'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Normal mode ------------------------------------------------------------------[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Hot reloading[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# map -docstring 'reload kakrc' global user <F5> ': source "%val{runtime}/kakrc"; echo reloaded kakrc<ret>'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Enter command mode[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mmap -docstring 'enter command' global normal <ret> :[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Re-center view[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# map -docstring 'scroll to put the cursor on the top line of the window' global user , vtvm[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Editing[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# map -docstring 'save file' global normal <c-s> ': write; echo -markup ''{Information}file saved''<ret>'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# map -docstring 'close client' global normal <c-q> ': quit<ret>'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# map -docstring 'close buffer' global normal <c-w> ': delete-buffer; echo -markup ''{Information}buffer closed''<ret>'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Navigation[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# map -docstring 'scroll one page up' global normal <pageup> ,<pageup>[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# map -docstring 'scroll one page down' global normal <pagedown> ,<pagedown>[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# map -docstring 'move to previous paragraph' global normal [ ,gh[pgi[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# map -docstring 'move to next paragraph' global normal ] ,]plgi[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Selection primitives[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mmap -docstring 'select inner object' global normal v <a-i>[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mmap -docstring 'select whole object' global normal V <a-a>[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mmap -docstring 'enter surround mode' global normal q ': enter-surround-mode<ret>'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mmap -docstring 'enter select mode' global normal s ': enter-select-mode<ret>'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# User mode --------------------------------------------------------------------[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# LSP[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# map -docstring 'lsp' global user l ': enter-user-mode lsp<ret>'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# map -docstring 'open document symbol picker' global user s ': enter-user-mode lsp<ret>s'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# map -docstring 'open workspace symbol picker' global user S ': enter-user-mode lsp<ret>o'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Formatting and parsing date-time[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mmap -docstring 'format date to 2006-01-02' global user d '| date -d "$kak_selection" ''+%F''<ret>'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mmap -docstring 'format date to 2006-01-02 Mon' global user D '| date -d "$kak_selection" ''+%F %a''<ret>'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Show the Unicode value under the cursor.[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mmap -docstring 'Unicode' global user u ': echo -markup "{Information}U+%sh{printf ''%04x'' ""$kak_cursor_char_value""}"<ret>'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Add search flags[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mmap global prompt <a-i> '<home>(?i)<end>'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mmap global prompt <a-o> '<home>(?S)<end>'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Goto mode --------------------------------------------------------------------[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mmap -docstring 'file' global goto f '<a-;>: open-file-picker<ret>'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdefine-command -override open-file-picker -docstring 'open-file-picker: Opens file picker.' %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  prompt -menu file: -shell-script-candidates 'fd -H --type file' %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    edit %val{text}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mmap -docstring 'buffer' global goto b '<a-;>: open-buffer-picker<ret>'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdefine-command -override open-buffer-picker -docstring 'open-buffer-picker: Opens buffer picker.' %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  prompt -menu buffer: -buffer-completion %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    buffer %val{text}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mmap -docstring 'global search' global goto / '<a-;>: open-global-search-picker<ret>'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter shared/grep regex '^(.+?):(\d+):(\d+):(.+?)$' 1:string 2:value 3:value[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mhook -group grep-highlight global BufSetOption filetype=grep %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  add-highlighter buffer/grep ref grep[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  map buffer normal <ret> ': grep_jump<ret>'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  hook -always -once buffer BufSetOption 'filetype=.*' %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    remove-highlighter buffer/grep[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdefine-command -hidden grep_jump %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  evaluate-commands -draft %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    execute-keys ',;xs^(.+?):(\d+):(\d+):(.+?)$<ret>'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    evaluate-commands -client %val{client} -- edit -existing %reg{1} %reg{2} %reg{3}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdefine-command fifo -params .. %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  reg d %sh{mktemp -d}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  reg f "%reg{d}/fifo"[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  nop %sh{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    mkfifo "$kak_reg_f"[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    { "$@" > "$kak_reg_f"; } < /dev/null > /dev/null 2>&1 &[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  edit! -fifo %reg{f} '[fifo]'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  hook -always -once buffer BufCloseFifo '' "nop %%sh{ echo rm -Rf ""%reg{d}"" >> ~/t.txt }"[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mcomplete-command fifo shell[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdeclare-option str grep_command rg[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdeclare-option str-list grep_args --hidden --column --with-filename[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdefine-command -override open-global-search-picker -docstring 'open-global-search-picker: Opens global search picker.' %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  # Provides word completion[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  prompt grep: -shell-script-candidates %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    echo "write '$kak_response_fifo'" > "$kak_command_fifo"[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    cat "$kak_response_fifo" | kak -f 's[\w-]{4,}<ret>y%<a-R>a<ret>'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  } %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    fifo rg --hidden --column --with-filename %val{text}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    rename-buffer "%arg{@}.refs"[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    set-option buffer filetype grep[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Vim-like unimpaired mappings[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdeclare-user-mode unimpaired_left[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdeclare-user-mode unimpaired_right[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mmap -docstring 'unimpaired_left' global user '[' ': enter-user-mode unimpaired_left<ret>'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mmap -docstring 'unimpaired_right' global user ']' ': enter-user-mode unimpaired_right<ret>'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mmap -docstring 'read-only' global unimpaired_left r ': set-option buffer readonly yes<ret>'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mmap -docstring 'read-only' global unimpaired_right r ': set-option buffer readonly no<ret>'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mmap -docstring 'whitespace' global unimpaired_left w ': remove-highlighter global/whitespace<ret>'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mmap -docstring 'whitespace' global unimpaired_right w ': add-highlighter global/whitespace show-whitespaces<ret>'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mmap -docstring 'rulers' global unimpaired_left r ': remove-highlighter global/rulers<ret>'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mmap -docstring 'rulers' global unimpaired_right r ': add-highlighter global/rulers column 81 default,cyan<ret>'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Commands ---------------------------------------------------------------------[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Shortcuts[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Mappings ─────────────────────────────────────────────────────────────────────[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mmap -docstring 'erase character before cursor' global normal <backspace> ': erase-character-before-cursor<ret>'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mmap -docstring 'erase character under cursor' global normal <del> ': erase-character-under-cursor<ret>'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mmap -docstring 'select next word' global normal w ': select-next-word<ret>'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mmap -docstring 'move line down' global normal <a-down> ': move-lines-down<ret>'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mmap -docstring 'move line up' global normal <a-up> ': move-lines-up<ret>'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mmap -docstring 'select all occurrences of current selection' global normal <a-percent> ': select-highlights<ret>'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mmap -docstring 'increment selection' global normal <c-a> ': increment-selection %val{count}<ret>'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mmap -docstring 'decrement selection' global normal <c-x> ': decrement-selection %val{count}<ret>'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mmap -docstring 'buffer directory' global prompt <a-/> '%sh{dirname "$kak_bufname"}<a-!>/'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Commands ─────────────────────────────────────────────────────────────────────[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdefine-command -override erase-character-before-cursor -docstring 'erase character before cursor' %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  execute-keys -draft ';i<backspace>'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdefine-command -override erase-character-under-cursor -docstring 'erase character under cursor' %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  execute-keys -draft ';i<del>'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdefine-command -override select-next-word -docstring 'select next word' %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  evaluate-commands -itersel %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    hook -group select-next-word -always -once window User "%val{selection_desc}" %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m      search-next-word[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    try %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m      execute-keys '<a-i>w'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m      trigger-user-hook "%val{selection_desc}"[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    } catch %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m      search-next-word[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    remove-hooks window select-next-word[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdefine-command -override -hidden search-next-word -docstring 'search next word' %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  execute-keys 'h/\W\w<ret><a-i>w'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Reference: https://code.visualstudio.com/docs/getstarted/keybindings#_basic-editing[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdefine-command -override move-lines-down -docstring 'move line down' %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  execute-keys -draft 'x<a-_><a-:>Z;ezjxdzP'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdefine-command -override move-lines-up -docstring 'move line up' %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  execute-keys -draft 'x<a-_><a-:><a-;>Z;bzkxdzp'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdefine-command -override select-highlights -docstring 'select all occurrences of current selection' %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  execute-keys '"aZ*%s<ret>"bZ"az"b<a-z>a'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdefine-command -override increment-selection -params 1 -docstring 'increment-selection <count>: increment selection by count' %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  execute-keys "a+%sh{expr $1 '|' 1}<esc>|{ cat; echo; } | bc<ret>"[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdefine-command -override decrement-selection -params 1 -docstring 'decrement-selection <count>: decrement selection by count' %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  execute-keys "a-%sh{expr $1 '|' 1}<esc>|{ cat; echo; } | bc<ret>"[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdefine-command -override evaluate-selections -docstring 'evaluate selections' %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  evaluate-commands -itersel %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    evaluate-commands %val{selection}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224malias global = evaluate-selections[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdefine-command link-window -params 1 -docstring 'link-window <client>: link window to client' %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  execute-keys '"sZ'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  execute-keys -client %arg{1} '"sz'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mcomplete-command link-window client[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdefine-command grab_buffer_in_viewport -params 1 -client-completion -docstring 'link-window <client>: link window to client' %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  execute-keys '"sZ'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  execute-keys -client %arg{1} '"sz'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdefine-command -override move-window -params 1 -client-completion -docstring 'move-window <client>: move window to client' %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  execute-keys '"sZ'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  execute-keys -client %arg{1} '"sz'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  buffer-next[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdefine-command -override swap-window -params 1 -client-completion -docstring 'swap-window <client>: swap window with client' %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  execute-keys '"sZ'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  execute-keys -client %arg{1} '"tZ'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  execute-keys '"tz'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  execute-keys -client %arg{1} '"sz'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Surround selections[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Reference: https://github.com/mawww/kakoune/blob/master/src/normal.cc#:~:text=select_object[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Modes ────────────────────────────────────────────────────────────────────────[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mtry %[ declare-user-mode surround ][0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdefine-command -override enter-surround-mode -docstring 'enter surround mode' %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  enter-user-mode surround[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Mappings ─────────────────────────────────────────────────────────────────────[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# parenthesis block[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# brace block[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# bracket block[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# angle block[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# double quote string[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# single quote string[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# grave quote string[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# double quotation mark[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# single quotation mark[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# double angle quotation mark[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# single angle quotation mark[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# emphasis[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# strong[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# map -docstring 'enter surround mode' global normal q ': enter-surround-mode<ret>'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdefine-command -override -hidden surround-init %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  # Enter text[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  map -docstring 'enter insert mode' global surround i ': surround-enter-insert-mode<ret>'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  map -docstring 'key' global surround k ': surround-key<ret>'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  map -docstring 'tag' global surround t ': surround-tag<ret>'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  # Editing[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  map -docstring 'space' global surround <space> ': surround-add-space<ret>'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  map -docstring 'line' global surround <ret> ': surround-add-line<ret>'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  map -docstring 'delete' global surround <backspace> ': surround-delete<ret>'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  map -docstring 'delete' global surround <del> ': surround-delete<ret>'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  # Surrounding pairs[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  declare-surrounding-pair 'parenthesis block' b ( )[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  declare-surrounding-pair 'brace block' B { }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  declare-surrounding-pair 'bracket block' r [ ][0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  declare-surrounding-pair 'angle block' a <lt> <gt>[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  declare-surrounding-pair 'double quote string' Q '"' '"'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  declare-surrounding-pair 'single quote string' q "'" "'"[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  declare-surrounding-pair 'grave quote string' g ` `[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  declare-surrounding-pair 'double quotation mark' <a-Q> “ ”[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  declare-surrounding-pair 'single quotation mark' <a-q> ‘ ’[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  declare-surrounding-pair 'double angle quotation mark' <a-G> « »[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  declare-surrounding-pair 'single angle quotation mark' <a-g> ‹ ›[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  # Emphasis[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  map -docstring 'emphasis' global surround _ ': surround-add _ _<ret>'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  map -docstring 'strong' global surround * ': surround-add ** **<ret>'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Commands ─────────────────────────────────────────────────────────────────────[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Declare surrounding pairs[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdefine-command -override declare-surrounding-pair -params 4 -docstring 'declare-surrounding-pair <description> [alias] <opening> <closing>: declare surrounding pair' %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  try %[ map -docstring %arg{1} global surround %arg{2} ": surround-add %%🐈%arg{3}🐈 %%🐈%arg{4}🐈<ret>" ][0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  try %[ map -docstring %arg{1} global surround %arg{3} ": surround-add %%🐈%arg{3}🐈 %%🐈%arg{4}🐈<ret>" ][0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  try %[ map -docstring %arg{1} global surround %arg{4} ": surround-add %%🐈%arg{3}🐈 %%🐈%arg{4}🐈<ret>" ][0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Enter insert mode[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdefine-command -override -hidden surround-enter-insert-mode -docstring 'surround: enter insert mode' %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  execute-keys -save-regs '' 'Z'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  hook -always -once window ModeChange 'pop:insert:normal' %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    hook -always -once window ModeChange 'pop:insert:normal' %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m      execute-keys z[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m      set-register ^[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m      echo[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    execute-keys -with-hooks a[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  execute-keys -with-hooks i[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Surround key[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdefine-command -override -hidden surround-key -docstring 'surround key' %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  on-key %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    surround-add %val{key} %val{key}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Surround tag[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdefine-command -override -hidden surround-tag -docstring 'surround tag' %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  prompt surround-tag: %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    surround-add "<%val{text}>" "</%val{text}>"[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Surround selected text[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdefine-command -override -hidden surround-add -params 2 %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  evaluate-commands -save-regs '"' %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    set-register '"' %arg{1}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    execute-keys -draft P[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    set-register '"' %arg{2}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    execute-keys -draft p[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdefine-command -override -hidden surround-add-space %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  surround-add ' ' ' '[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdefine-command -override -hidden surround-add-line %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  # Extract selected text on its own line; clean whitespaces around the selection.[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  try %[ execute-keys -draft 'i<ret><esc>kgl<a-i><space>d' ][0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  try %[ execute-keys -draft 'a<ret><esc>jgl<a-i><space>d' ][0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  # Indent selection[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  execute-keys -draft '<a-:><a-;>K<a-:>J<a-&>'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  execute-keys -draft '<gt>'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Delete surrounding[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdefine-command -override -hidden surround-delete %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  # Tag support[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  try %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    execute-keys 'y<a-a>c<lt>.+?<gt>,<lt>/.+?<gt><ret>R'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  } catch %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    # Delete left surrounding[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    try %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m      execute-keys -draft '<a-:><a-;>h<a-a><space>d'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    } catch %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m      execute-keys -draft 'i<backspace>'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    # Delete right surrounding[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    try %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m      execute-keys -draft '<a-:>l<a-a><space>d'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    } catch %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m      execute-keys -draft 'a<del>'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Initialization ───────────────────────────────────────────────────────────────[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224msurround-init[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdefine-command alacritty-open-new-client -params .. %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  nop %sh{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    alacritty msg create-window -e kak -c "$kak_session" -e "$*"[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mcomplete-command alacritty-open-new-client command[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdefine-command foot-open-new-client -params .. %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  nop %sh{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    footclient -e kak -c "$kak_session" -e "$*"[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mcomplete-command foot-open-new-client command[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdefine-command -override mkdir -docstring 'make directory for the current buffer' %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  nop %sh(mkdir -p -- "$(dirname -- "$kak_buffile")")[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Terminal integration[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mhook -group alacritty-detection global ClientCreate '.*' %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  trigger-user-hook "TERM=%val{client_env_TERM}"[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Alacritty terminal detection[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mhook -group alacritty-integration global User 'TERM=alacritty' %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  alias global open-new-client alacritty-open-new-client[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# foot terminal detection[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mhook -group alacritty-integration global User 'TERM=foot' %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  alias global open-new-client foot-open-new-client[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdefine-command open-kakrc -docstring 'open kakrc' %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  edit "%val{config}/kakrc"[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdefine-command open-config -params 1 -docstring 'open from %val{config}' %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  edit "%val{config}/%arg{1}"[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mcomplete-command -menu open-config shell-script-candidates %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  cd "$kak_config" && find -L . -type f | sort -u[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdefine-command -override open-runtime -params 1 -docstring 'open from %val{runtime}' %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  edit "%val{runtime}/%arg{1}"[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mcomplete-command -menu open-config shell-script-candidates %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  cd "$kak_runtime" && find -L . -type f | sort -u[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdefine-command yank_terminal_clipboard %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  nop %sh{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    printf 'echo -to-file %%(%s) -- "%%val{selections}"' "$kak_response_fifo" > "$kak_command_fifo"[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    {[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m      printf '\033]52;c;'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m      tr '\0' '\n' < "$kak_response_fifo" | sed 's/\\\\/\\/g' | base64[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m      printf '\a'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    } > /dev/tty[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Show Unicode value in the status line.[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdefine-command get_character_info %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  echo %sh{printf 'U+%04x' "$kak_cursor_char_value"}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Language support -------------------------------------------------------------[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Indentation[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-option global tabstop 4[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-option global indentwidth 2[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-option global disabled_hooks '.+-trim-indent|.+-insert|.+-indent'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Kakoune[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# https://kakoune.org[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mhook -group config global BufSetOption filetype=kak %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  set-option buffer indentwidth 2[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  set-option buffer line_comment_token '#'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Crystal[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# https://crystal-lang.org[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mhook -group config global BufSetOption filetype=crystal %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  set-option buffer indentwidth 2[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  set-option buffer line_comment_token '#'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# JavaScript[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# https://developer.mozilla.org/en-US/docs/Web/JavaScript[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mhook -group config global BufSetOption filetype=javascript %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  set-option buffer indentwidth 2[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  set-option buffer line_comment_token '//'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  set-option buffer block_comment_tokens '/*' '*/'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Lua[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# https://lua.org[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mhook -group config global BufSetOption filetype=lua %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  set-option buffer indentwidth 2[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  set-option buffer line_comment_token '--'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  set-option buffer block_comment_tokens '[[--' '--]]'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Makefile[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# https://en.wikipedia.org/wiki/Make_(software)#Makefile[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mhook -group config global BufSetOption filetype=makefile %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  set-option buffer indentwidth 0[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  set-option buffer line_comment_token '#'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# grep[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# https://en.wikipedia.org/wiki/Grep[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mhook -group config global BufSetOption filetype=grep %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  map buffer normal <ret> ': grep-jump<ret>'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Detection --------------------------------------------------------------------[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mhook -group config global BufCreate '.*/\.kakrc' %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  set-option buffer filetype kak[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mhook -group config global BufCreate '.*/(profile|bashrc|tmux.conf)' %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  set-option buffer filetype sh[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Mark[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Iterate selections one by one with `Control+N` and `Control+P`.[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Save selections with `Y` or its strong version `Alt+Y` (same as `Y Space`).[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Clear registers with `D`.  You can specify the register to use.  For example, `"/D` to clear the search register.[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Restore registers as selections with `z` or its strong version `Z` (same as `zD`).[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# You can specify the register to use for all commands.[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# == Commands[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# - `z` ⇒ Restore register.[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# - `Z` ⇒ Consume register.[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# - `D` ⇒ Clear register.[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# - `Y` ⇒ Add selections.[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# - `Alt+Y` ⇒ Consume selections.[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# - `Control+N` ⇒ Iterate next selection.[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# - `Control+P` ⇒ Iterate previous selection.[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# == Faces[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# - `MarkedPrimaryCursor`[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# - `MarkedPrimarySelection`[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# - `MarkedSecondaryCursor`[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# - `MarkedSecondarySelection`[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Options ──────────────────────────────────────────────────────────────────────[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Internal variables[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdeclare-option -hidden range-specs mark_ranges[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Faces[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global MarkedPrimaryCursor '+ub'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global MarkedPrimarySelection '+ub'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global MarkedSecondaryCursor '+u'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global MarkedSecondarySelection '+u'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Mappings ─────────────────────────────────────────────────────────────────────[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mmap -docstring 'restore register' global normal z ': restore-register %val{register}<ret>'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mmap -docstring 'consume register' global normal Z ': consume-register %val{register}<ret>'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mmap -docstring 'clear register' global normal D ': clear-register %val{register}<ret>'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mmap -docstring 'add selections' global normal Y ': add-selections %val{register}<ret>'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mmap -docstring 'consume selections' global normal <a-Y> ': consume-selections %val{register}<ret>'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mmap -docstring 'iterate next selection' global normal <c-n> ': iterate-next-selection %val{register}<ret>'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mmap -docstring 'iterate previous selection' global normal <c-p> ': iterate-previous-selection %val{register}<ret>'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Commands ─────────────────────────────────────────────────────────────────────[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdefine-command -override restore-register -params 1 -docstring 'restore-register <register>: restore register (default: ^)' %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  try %[ execute-keys """%arg{1}z" ][0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdefine-command -override consume-register -params 1 -docstring 'consume-register <register>: consume register (default: ^)' %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  restore-register %arg{1}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  clear-register %arg{1}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdefine-command -override clear-register -params 1 -docstring 'clear-register <register>: clear register (default: ^)' %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  # Handle null named register.[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  try %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    set-register %arg{1}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    echo -markup "{Information}cleared register '%arg{1}'{Default}"[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  } catch %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    set-register '^'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    echo -markup "{Information}cleared register '^'{Default}"[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdefine-command -override restore-selections -params 1 -docstring 'restore-selections <register>: restore selections (default: ^)' %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  try %[ execute-keys """%arg{1}<a-z>a" ][0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdefine-command -override save-selections -params 1 -docstring 'save-selections <register>: save selections (default: ^)' %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  execute-keys -save-regs '' """%arg{1}Z"[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdefine-command -override add-selections -params 1 -docstring 'add-selections <register>: add selections (default: ^)' %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  evaluate-commands -draft consume-selections %arg{1}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  # Display saved selections:[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  # Handle null named register.[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  try %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    execute-keys -save-regs %arg{1} """%arg{1}Z"[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  } catch %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    execute-keys Z[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdefine-command -override consume-selections -params 1 -docstring 'consume-selections <register>: consume selections (default: ^)' %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  restore-selections %arg{1}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  save-selections %arg{1}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  execute-keys ','[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdefine-command -override iterate-next-selection -params 1 -docstring 'iterate-next-selection <register>: iterate next selection (default: ^)' %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  restore-register %arg{1}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  execute-keys ')'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  consume-selections %arg{1}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdefine-command -override iterate-previous-selection -params 1 -docstring 'iterate-previous-selection <register>: iterate previous selection (default: ^)' %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  restore-register %arg{1}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  execute-keys '('[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  consume-selections %arg{1}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Highlighters ─────────────────────────────────────────────────────────────────[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdefine-command -override -hidden update-mark-ranges %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  # Reset ranges[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  evaluate-commands -buffer '*' unset-option buffer mark_ranges[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  try %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    evaluate-commands -draft %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m      # Jump to the buffer[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m      execute-keys 'z'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m      # Initialize ranges[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m      set-option buffer mark_ranges %val{timestamp}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m      # Mark the main selection[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m      evaluate-commands -draft %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        execute-keys ','[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        set-option -add buffer mark_ranges "%val{selection_desc}|MarkedPrimarySelection"[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        execute-keys ';'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        set-option -add buffer mark_ranges "%val{selection_desc}|MarkedPrimaryCursor"[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m      }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m      # Mark other selections[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m      execute-keys '<a-,>'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m      evaluate-commands -draft -itersel %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        set-option -add buffer mark_ranges "%val{selection_desc}|MarkedSecondarySelection"[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        execute-keys ';'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        set-option -add buffer mark_ranges "%val{selection_desc}|MarkedSecondaryCursor"[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m      }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdefine-command -override show-marks -docstring 'show marks' %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  add-highlighter -override global/marks ranges mark_ranges[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  remove-hooks global show-marks[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  hook -group show-marks -always global RegisterModified '\^' update-mark-ranges[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  update-mark-ranges[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdefine-command -override hide-marks -docstring 'hide marks' %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  remove-hooks global show-marks[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  remove-highlighter global/marks[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  evaluate-commands -buffer '*' unset-option buffer mark_ranges[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Initialization[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mshow-marks[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Select objects[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Reference: https://github.com/mawww/kakoune/blob/master/src/normal.cc#:~:text=select_object[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# _/_::[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# regex matches[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# _b_, _(_, _)_::[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# parenthesis blocks[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# _B_, _{_, _}_::[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# brace blocks[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# _r_, _[_, _]_::[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# bracket blocks[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# _a_, _<_, _>_::[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# angle blocks[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# _Q_, _"_::[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# double quote strings[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# _q_, _'_::[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# single quote strings[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# _g_, _`_::[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# grave quote strings[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# _w_::[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# words[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# _Alt+w_::[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# big words[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# _s_::[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# sentences[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# _p_::[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# paragraphs[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# _Space_::[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# whitespaces[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# _i_::[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# indent[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# _n_::[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# numbers[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# _u_::[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# arguments[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Modes ────────────────────────────────────────────────────────────────────────[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mtry %[ declare-user-mode select ][0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdefine-command -override enter-select-mode -docstring 'enter select mode' %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  enter-user-mode select[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Mappings ─────────────────────────────────────────────────────────────────────[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mmap -docstring 'select regex matches' global select / s[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mmap -docstring 'select inner parenthesis blocks' global select b ': select-inner-parenthesis-blocks<ret>'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mmap -docstring 'select whole parenthesis blocks' global select <a-b> ': select-whole-parenthesis-blocks<ret>'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mmap -docstring 'select inner parenthesis blocks' global select ( ': select-inner-parenthesis-blocks<ret>'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mmap -docstring 'select whole parenthesis blocks' global select ) ': select-whole-parenthesis-blocks<ret>'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mmap -docstring 'select inner brace blocks' global select B ': select-inner-brace-blocks<ret>'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mmap -docstring 'select whole brace blocks' global select <a-B> ': select-whole-brace-blocks<ret>'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mmap -docstring 'select inner brace blocks' global select { ': select-inner-brace-blocks<ret>'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mmap -docstring 'select whole brace blocks' global select } ': select-whole-brace-blocks<ret>'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mmap -docstring 'select inner bracket blocks' global select r ': select-inner-bracket-blocks<ret>'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mmap -docstring 'select whole bracket blocks' global select <a-r> ': select-whole-bracket-blocks<ret>'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mmap -docstring 'select inner bracket blocks' global select [ ': select-inner-bracket-blocks<ret>'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mmap -docstring 'select whole bracket blocks' global select ] ': select-whole-bracket-blocks<ret>'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mmap -docstring 'select inner angle blocks' global select a ': select-inner-angle-blocks<ret>'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mmap -docstring 'select whole angle blocks' global select <a-a> ': select-whole-angle-blocks<ret>'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mmap -docstring 'select inner angle blocks' global select <lt> ': select-inner-angle-blocks<ret>'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mmap -docstring 'select whole angle blocks' global select <gt> ': select-whole-angle-blocks<ret>'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mmap -docstring 'select inner double quote strings' global select Q ': select-inner-double-quote-strings<ret>'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mmap -docstring 'select whole double quote strings' global select <a-Q> ': select-whole-double-quote-strings<ret>'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mmap -docstring 'select inner double quote strings' global select '"' ': select-inner-double-quote-strings<ret>'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mmap -docstring 'select whole double quote strings' global select '<a-">' ': select-whole-double-quote-strings<ret>'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mmap -docstring 'select inner single quote strings' global select q ': select-inner-single-quote-strings<ret>'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mmap -docstring 'select whole single quote strings' global select <a-q> ': select-whole-single-quote-strings<ret>'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mmap -docstring 'select inner single quote strings' global select "'" ': select-inner-single-quote-strings<ret>'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mmap -docstring 'select whole single quote strings' global select "<a-'>" ': select-whole-single-quote-strings<ret>'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mmap -docstring 'select inner grave quote strings' global select g ': select-inner-grave-quote-strings<ret>'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mmap -docstring 'select whole grave quote strings' global select <a-g> ': select-whole-grave-quote-strings<ret>'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mmap -docstring 'select inner grave quote strings' global select ` ': select-inner-grave-quote-strings<ret>'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mmap -docstring 'select whole grave quote strings' global select <a-`> ': select-whole-grave-quote-strings<ret>'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mmap -docstring 'select words' global select w ': select-words<ret>'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mmap -docstring 'select big words' global select <a-w> ': select-big-words<ret>'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mmap -docstring 'select sentences' global select s ': select-sentences<ret>'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mmap -docstring 'select paragraphs' global select p ': select-paragraphs<ret>'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mmap -docstring 'select whitespaces' global select <space> ': select-whitespaces<ret>'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mmap -docstring 'select indent' global select i ': select-indent<ret>'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mmap -docstring 'select numbers' global select n ': select-numbers<ret>'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mmap -docstring 'select arguments' global select u ': select-arguments<ret>'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Commands ─────────────────────────────────────────────────────────────────────[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdefine-command -override -hidden select-inner-parenthesis-blocks -docstring 'select inner parenthesis blocks' %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  execute-keys 's\(<ret><a-i>b'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdefine-command -override -hidden select-whole-parenthesis-blocks -docstring 'select whole parenthesis blocks' %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  execute-keys 's\(<ret><a-a>b'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdefine-command -override -hidden select-inner-brace-blocks -docstring 'select inner brace blocks' %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  execute-keys 's\{<ret><a-i>B' # }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdefine-command -override -hidden select-whole-brace-blocks -docstring 'select whole brace blocks' %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  execute-keys 's\{<ret><a-a>B' # }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdefine-command -override -hidden select-inner-bracket-blocks -docstring 'select inner bracket blocks' %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  execute-keys 's\[<ret><a-i>r'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdefine-command -override -hidden select-whole-bracket-blocks -docstring 'select whole bracket blocks' %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  execute-keys 's\[<ret><a-a>r'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdefine-command -override -hidden select-inner-angle-blocks -docstring 'select inner angle blocks' %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  execute-keys 's<lt><ret><a-i>a'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdefine-command -override -hidden select-whole-angle-blocks -docstring 'select whole angle blocks' %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  execute-keys 's<lt><ret><a-a>a'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdefine-command -override -hidden select-inner-double-quote-strings -docstring 'select inner double quote strings' %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  execute-keys 's"[^"]*"<ret><a-;><a-i>Q'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdefine-command -override -hidden select-whole-double-quote-strings -docstring 'select whole double quote strings' %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  execute-keys 's"[^"]*"<ret><a-;><a-a>Q'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdefine-command -override -hidden select-inner-single-quote-strings -docstring 'select inner single quote strings' %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  execute-keys "s'[^']*'<ret><a-;><a-i>q"[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdefine-command -override -hidden select-whole-single-quote-strings -docstring 'select whole single quote strings' %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  execute-keys "s'[^']*'<ret><a-;><a-a>q"[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdefine-command -override -hidden select-inner-grave-quote-strings -docstring 'select inner grave quote strings' %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  execute-keys 's`[^`]*`<ret><a-;><a-i>g'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdefine-command -override -hidden select-whole-grave-quote-strings -docstring 'select whole grave quote strings' %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  execute-keys 's`[^`]*`<ret><a-;><a-a>g'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdefine-command -override -hidden select-words -docstring 'select words' %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  execute-keys 's\w+<ret><a-i>w'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdefine-command -override -hidden select-big-words -docstring 'select big words' %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  execute-keys 's\w+<ret><a-i><a-w>'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdefine-command -override -hidden select-sentences -docstring 'select sentences' %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  execute-keys 's[^\n]+<ret><a-i>s'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdefine-command -override -hidden select-paragraphs -docstring 'select paragraphs' %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  execute-keys 's[^\n]+<ret><a-i>p'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdefine-command -override -hidden select-whitespaces -docstring 'select whitespaces' %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  execute-keys 's\h+<ret><a-i><space>'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdefine-command -override -hidden select-indent -docstring 'select indent' %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  execute-keys 's^\h+<ret><a-i><space>'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdefine-command -override -hidden select-numbers -docstring 'select numbers' %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  execute-keys 's\d+<ret><a-i>n'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdefine-command -override -hidden select-arguments -docstring 'select arguments' %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  execute-keys 's\(<ret><a-i>bs\w+<ret><a-i>u'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Notes ------------------------------------------------------------------------[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mhook -group config global BufCreate '.*/docs/notes.txt' %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  set-option buffer filetype notes[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mhook -group config global BufSetOption filetype=notes %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  add-highlighter -override buffer/notes ref notes[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  map -docstring 'insert date (2006-01-02 Mon)' buffer insert <c-u> '<a-;>;<a-;>!date ''+%F %a'' | tr -d ''\n''<ret><right>'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  map -docstring 'insert date (2006-01-02 Mon 15:04)' buffer insert <c-i> '<a-;>;<a-;>!date ''+%F %a %H:%M'' | tr -d ''\n''<ret><right>'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter -override shared/notes regions[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter -override shared/notes/text default-region group[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter -override shared/notes/text/entry-date-year regex '^\d{4}' 0:comment[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter -override shared/notes/text/entry-date-year-month regex '^\d{4}-\d{2}' 0:comment[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter -override shared/notes/text/entry-date regex '^\d{4}-\d{2}-\d{2} \w{3}' 0:comment[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter -override shared/notes/text/entry-date-time regex '^\d{4}-\d{2}-\d{2} \w{3} \d{2}:\d{2}' 0:comment[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter -override shared/notes/text/keyword regex '\b(Buy|Go on|Go to|Read|Sign up|Update|Watch)\b' 0:keyword[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter -override shared/notes/text/url regex 'https?://\S+' 0:link[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter -override shared/notes/info region -recurse '\(' '\(' '\)' group[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter -override shared/notes/info/content fill string[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter -override shared/notes/info/url ref notes/text/url[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter -override shared/notes/info/delimiters regex '(?<opening>.).+(?<closing>.)' opening:string closing:string[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter -override shared/notes/tag region -recurse '\[' '\[' '\]' fill meta[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# List -------------------------------------------------------------------------[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mhook -group config global BufCreate '.*/list.txt' %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  set-option buffer filetype list[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mhook -group config global BufSetOption filetype=list %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  add-highlighter -override buffer/list ref list[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter -override shared/list regions[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter -override shared/list/text default-region group[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter -override shared/list/text/number regex '\b\d{2}\b' 0:value[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter -override shared/list/text/date regex '\b\d{4}-\d{2}-\d{2}\b' 0:string[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter -override shared/list/text/year regex '\b\d{4}\b' 0:string[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter -override shared/list/text/keyword regex '\b(Movie|Special)\b' 0:keyword[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter -override shared/list/text/url regex 'https?://\S+' 0:link[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Pipe selections as JSON Lines to work with traditional Unix tools.[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m#[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# JSON Lines[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# https://jsonlines.org[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m#[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Why Kakoune — A better unix citizen[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# https://kakoune.org/why-kakoune/why-kakoune.html#_a_better_unix_citizen[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Mappings ─────────────────────────────────────────────────────────────────────[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mmap -docstring 'pipe (jsonl)' global user | ': pipe-selections-as-jsonl-prompt<ret>'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Commands ─────────────────────────────────────────────────────────────────────[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdefine-command -override pipe-selections-as-jsonl-prompt -docstring 'pipe selections as JSON Lines' %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  prompt 'pipe (jsonl):' -shell-completion %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    pipe-selections-as-jsonl %val{text}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdefine-command -override pipe-selections-as-jsonl -params 1.. -docstring 'pipe-selections-as-jsonl <command> [arguments]: pipe selections as JSON Lines' %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  evaluate-commands -save-regs '"' %sh{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    # Path to selections as JSON Lines[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    selections_path=$(mktemp)[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    # Cleanup temporary files[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    trap at_exit EXIT[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    at_exit() {[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m      rm -f "$selections_path"[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    # Terminates execution immediately, printing message to Kakoune.[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    abort() {[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m      echo "fail $1"[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m      exit 1[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    # Serialize (Shell → JSON Lines) and run the shell command.[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    shell_command=$@[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    eval set -- "$kak_quoted_selections"[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    jq --null-input '$ARGS.positional[]' --args -- "$@" |[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    sh -c "$shell_command" > "$selections_path"[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    # Abort with non-zero exit status[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    [ $? = 0 ] || abort "pipe exit status: $?"[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    # Validate the command output[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    jq --exit-status --slurp 'all(type == "string")' "$selections_path" > /dev/null || abort "selections are not JSON Lines"[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    # Serialize (JSON Lines → Kakoune) and set the selections.[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    export squote="'"[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    jq --slurp --raw-output '["set-register", "dquote"] + map(env.squote + gsub(env.squote; env.squote + env.squote) + env.squote) | join(" ")' "$selections_path"[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    echo execute-keys R[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# The editor will not insert indentation automatically.[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# The editor will keep the current line's indentation.[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# The editor will keep the current line's indentation and honor language defined brackets.[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# The editor will keep the current line's indentation, honor language defined brackets and invoke special onEnterRules defined by languages.[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# The editor will keep the current line's indentation, honor language defined brackets, invoke special onEnterRules defined by languages, and honor indentationRules defined by languages.[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Controls whether the editor should automatically adjust the indentation when users type, paste, move or indent lines.[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# November 2019 (version 1.41)[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# January 2022 (version 1.64)[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# window_type Compare against the window type (_NET_WM_WINDOW_TYPE). Possible values are normal, dialog, utility, toolbar, splash, menu, dropdown_menu, popup_menu, tooltip and notification.[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# New auto indentation option#[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# The setting editor.autoIndent can now take different values. This setting impacts multiple features, such as pressing Enter, pressing Tab, or when indenting and unindenting lines. You can think of the setting like a "slider" that becomes more and more opinionated:[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# "none": Pressing Enter will insert \n and nothing more.[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# "keep": Pressing Enter will keep the indentation of the current line.[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# "brackets": All of the above and special logic around language-specific brackets.[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# "advanced": All of the above and respecting language-specific rules that are defined via onEnterRules.[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# "full" (default): All of the above and respecting language-specific rules that are defined via indentationRules.[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# If true, the default, tab_size and translate_tabs_to_spaces will be calculated automatically when loading a file[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Indentation Detection[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# When a file is loaded, its contents are examined, and the tab_size and translate_tabs_to_spaces settings are set for that file. The status area will report when this happens. While this generally works well, you may want to disable it. You can do that with the detect_indentation setting.[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Indentation detection can be run manually via the detect-indentation command.[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# https://github.com/helix-editor/helix/blob/master/helix-core/src/indent.rs[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# https://github.com/microsoft/vscode/blob/main/src/vs/editor/contrib/indentation/browser/indentation.ts[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# https://docs.helix-editor.com/lang-support.html[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# https://code.visualstudio.com/docs/languages/overview[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Other reference:[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# https://github.com/tpope/vim-sleuth[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Indentation rules[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Sets indentation rules for languages.[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# https://code.visualstudio.com/api/language-extensions/language-configuration-guide#indentation-rules[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# https://code.visualstudio.com/updates/v1_41#_new-auto-indentation-option[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# https://github.com/microsoft/vscode/blob/main/src/vs/editor/common/config/editorOptions.ts#:~:text=EditorAutoIndentStrategy[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# https://github.com/microsoft/vscode/blob/main/src/vs/editor/common/config/editorOptions.ts#:~:text=editor.autoIndent[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Automatic Indentation Settings[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Auto-detection[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Kakoune analyzes your open file and determines the indentation used in the document.[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# The auto-detected indentation overrides your default indentation settings.[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Note: Kakoune auto-detection checks for the first indentation.[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# If your file uses a different number of spaces, the indentation may not be correctly detected.[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# You may want to turn off `detect_indent_style` and explicitly set the indentation style.[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Enum representing auto-indent strategy.[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# none[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# keep[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# full[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdeclare-option -docstring 'auto_indent' str auto_indent full[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdeclare-option -docstring 'Indentation rules to increase the indentation of the current line or next line' str increase_indent_pattern '[({\[]$'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdeclare-option -docstring 'Indentation rules to decrease the indentation of the current line or next line' str decrease_indent_pattern '^\h*[)}\]]$'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdeclare-option -docstring 'Indentation rules to ignore the indentation of the current line or next line' str ignore_indent_pattern '^\h*#'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdeclare-option -hidden str private_increase_indent_pattern '[({\[]$'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdeclare-option -hidden str private_decrease_indent_pattern '^\h*[)}\]]$'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mremove-hooks global indent[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mhook -group indent global InsertChar '.*' indent-on-inserted-character[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Increase and decrease indent with Tab.[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mmap -docstring 'Increase indent' global insert <tab> '<a-;><a-gt>'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mmap -docstring 'Decrease indent' global insert <s-tab> '<a-;><lt>'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mmap -docstring 'Decrease indent or erase character before cursor' global insert <backspace> '<a-;>: decrease-indent-or-erase-character-before-cursor<ret>'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# map -docstring 'Decrease indent or erase character before cursor' global insert <ret> '<a-;>: enter-new-line-and-keep-indent<ret>'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# hook on file open and buffer reload.[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Implementation reference:[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# https://github.com/helix-editor/helix/blob/master/helix-view/src/document.rs#:~:text=detect_indent_and_line_ending[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# hook -group indent global BufOpenFile '.*' detect-indent-style[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# hook -group indent global BufReload '.*' detect-indent-style[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Enter ⇒ Decrease indent or erase character before cursor.[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdefine-command -override -hidden enter-new-line-and-keep-indent %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  evaluate-commands -draft -itersel %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    execute-keys ';i<ret>'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    # Copy previous line indent[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    execute-keys -draft 'H<a-&>'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    # Clean previous line indent[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    try %[ execute-keys -draft 'kxs^\h+$<ret>d' ][0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Backspace ⇒ Decrease indent or erase character before cursor.[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdefine-command -override -hidden decrease-indent-or-erase-character-before-cursor %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  try %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    execute-keys -draft -itersel '<a-h><a-k>\A\h+.\z<ret>'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    execute-keys -draft '<lt>'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  } catch %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    execute-keys -draft ';i<backspace>'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdefine-command -override -hidden indent-on-inserted-character %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  "indent-on-inserted-character-with-auto-indent-%opt{auto_indent}"[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdefine-command -override -hidden indent-handle-inserted-character -params .. %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  evaluate-commands -draft %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    # Select line begin to the rightmost inserted character.[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    execute-keys 'h<a-h><a-:>'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    evaluate-commands -draft -itersel -verbatim -- try %arg{@}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdefine-command -override -hidden indent-on-inserted-character-with-auto-indent-none %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdefine-command -override -hidden indent-on-inserted-character-with-auto-indent-keep %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  indent-handle-inserted-character %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    # Indentation rules when inserting a new line[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    execute-keys -draft '<a-k>\n<ret>'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    # Copy previous line indent[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    execute-keys -draft 'L<a-&>'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    # Clean previous line indent[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    try %[ execute-keys -draft 's^\h+$<ret>d' ][0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdefine-command -override -hidden indent-on-inserted-character-with-auto-indent-full %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  indent-handle-inserted-character %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    # Indentation rules when inserting a new line[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    execute-keys -draft '<a-k>\n<ret>'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    # Copy previous line indent[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    execute-keys -draft 'L<a-&>'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    # Clean previous line indent[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    try %[ execute-keys -draft 's^\h+$<ret>d' ][0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    try %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m      # Ignore indentation rules.[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m      execute-keys -draft '<a-K>%opt{ignore_indent_pattern}<a-!><ret>'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m      # Increase the indentation of the next line[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m      try %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        execute-keys -draft '<a-k>%opt{private_increase_indent_pattern}<a-!>|%opt{increase_indent_pattern}<a-!><ret>'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        execute-keys -draft 'l<a-gt>'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m      }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m      # Decrease the indentation of the next line[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m      # when inserting a new line in the middle of line[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m      try %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        execute-keys -draft 'lx<a-k>%opt{private_decrease_indent_pattern}<a-!>|%opt{decrease_indent_pattern}<a-!><ret>'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        execute-keys -draft 'l<lt>'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m      }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  } catch %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    try %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m      # Ignore indentation rules.[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m      execute-keys -draft '<a-K>%opt{ignore_indent_pattern}<a-!><ret>'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m      # Indentation rules when inserting a character at the end of line[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m      execute-keys -draft 'l<a-k>\n<ret>'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m      # Decrease the indentation of the current line[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m      try %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        execute-keys -draft 'L<a-k>%opt{private_decrease_indent_pattern}<a-!>|%opt{decrease_indent_pattern}<a-!><ret>'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        execute-keys -draft '<lt>'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m      }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  } catch %{}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdefine-command -override detect-indent-style -docstring 'detect-indent-style' %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  try %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    evaluate-commands -draft %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m      # Search the first indent level[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m      execute-keys 'gg/^\h+<ret>'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m      # Tabs vs. Spaces[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m      # https://youtu.be/V7PLxL8jIl8[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m      try %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        execute-keys '<a-k>\t<ret>'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        # Global scope[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        unset-option buffer tabstop[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        set-option buffer indentwidth 0[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m      } catch %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        set-option buffer tabstop %val{selection_length}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        set-option buffer indentwidth %val{selection_length}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m      }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# This script provides the functionality to toggle comments on lines over the selection[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# using the line and block comment tokens defined in `line_comment_token` and `block_comment_tokens` options.[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m#[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Implementation reference:[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m#[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Helix:[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m#[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# - https://github.com/helix-editor/helix/blob/master/helix-term/src/keymap.rs#:~:text=toggle_comments[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# - https://github.com/helix-editor/helix/blob/master/helix-term/src/commands.rs#:~:text=toggle_comments[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# - https://github.com/helix-editor/helix/blob/master/helix-core/src/comment.rs[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m#[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Visual Studio Code:[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m#[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# - https://github.com/microsoft/vscode/blob/main/src/vs/editor/contrib/comment/browser/comment.ts[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# - https://github.com/microsoft/vscode/blob/main/src/vs/editor/contrib/comment/browser/lineCommentCommand.ts[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# - https://github.com/microsoft/vscode/blob/main/src/vs/editor/contrib/comment/browser/blockCommentCommand.ts[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Options[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdeclare-option -docstring 'Line comment token' str-list line_comment_token '//'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdeclare-option -docstring 'Block comment tokens' str-list block_comment_tokens '/*' '*/'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Mappings[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mmap -docstring 'Toggle comments' global normal '#' ': toggle-comments<ret>'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Commands[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdefine-command -override toggle-comments -docstring 'Toggle comments' %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  try toggle-line-comments catch toggle-block-comments[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdefine-command -override toggle-line-comments -docstring 'Toggle line comments' %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  toggle-line-comments-with-token %opt{line_comment_token}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdefine-command -override toggle-block-comments -docstring 'Toggle block comments' %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  toggle-block-comments-with-token %opt{block_comment_tokens}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdefine-command -override -hidden toggle-line-comments-with-token -params 1 -docstring 'Toggle line comments with the given line comment token' %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  evaluate-commands -draft -save-regs 'ab' %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    # Arguments[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    set-register a %arg{1}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    # Sanitize selections before iterating.[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    execute-keys 'x'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    evaluate-commands -draft -itersel %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m      try %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        # Select each line, excluding indentation.[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        # Blank lines and blank comments are excluded.[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        execute-keys '<a-s><a-K>^\h*$|^\h*\Q<c-r>a\E\h*$<ret>giGl'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        try %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m          # Determines whether the given lines should be considered commented.[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m          # As soon as one of the non-blank lines doesn’t have a comment, the whole block is considered uncommented.[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m          execute-keys -draft '<a-K>\A\Q<c-r>a<ret>'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m          # Comment lines[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m          # At least one line is not commented, so comment everything.[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m          #[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m          # Align selections to column to place comment tokens.[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m          set-register b %sh(echo "$kak_selections_desc" | tr ' ' '\n' | cut -d ',' -f 1 | cut -d '.' -f 2 | sort -n | head -n 1)[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m          execute-keys -draft "gh%reg{b}lhi<c-r>a<space>"[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        } catch %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m          # Uncomment lines[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m          # All lines are commented, so uncomment everything.[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m          try %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m            # Determines margin of 0 or 1 for uncommenting.[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m            # If any comment token is not followed by a space, a margin of 0 is used for all lines.[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m            execute-keys -draft '<a-K>\A\Q<c-r>a<space><ret>'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m            # Uncomment lines (keep space)[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m            # At least one comment token is not followed by a space, so uncomment and keep space everywhere.[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m            execute-keys -draft 's\A\Q<c-r>a<ret>d'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m          } catch %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m            # Uncomment lines (remove space)[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m            # All comment tokens are followed by a space, so uncomment and remove space everywhere.[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m            execute-keys -draft 's\A\Q<c-r>a<space><ret>d'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m          }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m      }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdefine-command -override -hidden toggle-block-comments-with-token -params 2 -docstring 'Toggle block comments with the given block comment tokens' %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  evaluate-commands -draft -save-regs 'ab' %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    # Arguments[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    set-register a %arg{1}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    set-register b %arg{2}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    try %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m      # Sanitize selections before iterating.[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m      # Blank lines are excluded.[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m      execute-keys 'x_'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m      evaluate-commands -draft -itersel %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        try %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m          # Uncomment selection.[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m          # Assert that the selection has been commented.[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m          execute-keys -draft '<a-k>\A\Q<c-r>a\E.*\Q<c-r>b\E\z<ret>'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m          execute-keys -draft 's\A\Q<c-r>a\E\h*|\h*\Q<c-r>b\E\z<ret>d'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        } catch %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m          # Comment selection.[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m          execute-keys -draft 'i<c-r>a<space><esc>a<space><c-r>b'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m      }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# [EditorConfig]: https://editorconfig.org[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# [Visual Studio Code — Language Configuration Guide]: https://code.visualstudio.com/api/language-extensions/language-configuration-guide[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# [Visual Studio Code — Basic Editing — Auto-detection]: https://code.visualstudio.com/docs/editor/codebasics#_autodetection[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# [Sublime Text — Indentation Settings]: https://sublimetext.com/docs/indentation.html[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Here is a language configuration example that configures the editing experience for C files.[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mhook -group c-configuration global BufSetOption filetype=c %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  set-option buffer line_comment_token '//'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  set-option buffer block_comment_tokens '/*' '*/'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  set-option buffer indentation_rules_increase_indent_pattern ''[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  set-option buffer indentation_rules_decrease_indent_pattern ''[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Git[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# https://git-scm.com[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Options ──────────────────────────────────────────────────────────────────────[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Faces[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global GitInformation 'blue'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global GitScissors 'blue+b'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global GitModifiedFile 'yellow'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global GitNewFile 'green'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global GitDeletedFile 'red'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global GitRenamedFile 'yellow'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Generics[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global DiffText 'comment'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global DiffHeader 'comment'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global DiffInserted 'green'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global DiffDeleted 'red'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global DiffChanged 'yellow'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Commands ─────────────────────────────────────────────────────────────────────[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Provides basic Git integration for Kakoune.[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# All commands always uses the current buffer’s repository, so you don’t need to worry about the current working directory.[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# == Faces[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# - `GitInformation`[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# - `GitScissors`[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# - `GitModifiedFile`[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# - `GitNewFile`[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# - `GitDeletedFile`[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# - `GitRenamedFile`[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# === Generics[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# - `DiffText`[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# - `DiffHeader`[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# - `DiffInserted`[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# - `DiffDeleted`[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# - `DiffChanged`[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdefine-command -override git -params .. -docstring 'git [options] [command] [flags]: run Git' %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  evaluate-commands %sh{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    git "$@" > /dev/null[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    exit_code=$?[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    if [ "$exit_code" -ne 0 ]; then[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m      printf 'fail "git: `git %%arg{@}` exited with %d"' "$exit_code"[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    fi[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# https://git-scm.com/docs/git-add[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdefine-command -override git-write -docstring 'git-write: save the current buffer and stage the file' %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  write[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  ensure_git_dir[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  nop %sh{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    directory=$(dirname "$kak_buffile")[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    cd "$directory"[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    git add --force "$kak_buffile"[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  echo -markup '{Information}Added file{Default}'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# https://git-scm.com/docs/git-commit[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdefine-command -override git-commit -docstring 'git-commit: commit changes' %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  ensure_git_dir[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  edit %sh{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    directory=$(dirname "$kak_buffile")[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    cd "$directory"[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    git -c core.editor= commit --verbose[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    git rev-parse --path-format=absolute --git-path COMMIT_EDITMSG[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  hook -always -once buffer BufWritePost '(?<git_root>.*)/\.git/COMMIT_EDITMSG' %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    try %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m      git -C %val{hook_param_capture_git_root} commit --file %val{hook_param} --cleanup=strip[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m      delete-buffer[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m      echo -markup '{Information}Commit succeeded{Default}'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    } catch %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m      delete-buffer[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m      echo -markup '{Error}Commit failed{Default}'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# https://git-scm.com/docs/git[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# https://git-scm.com/docs/git-rev-parse[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdefine-command -override -hidden ensure_git_dir %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  evaluate-commands %sh{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    buf_dir=$(dirname "$kak_buffile")[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    buf_inside_work_tree=$(git -C "$buf_dir" rev-parse --is-inside-work-tree)[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    exit_code=$?[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    if [ "$exit_code" -ne 0 ]; then[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m      echo 'fail "git: %val{buffile} not inside a Git repository"'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    fi[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    if [ "$buf_inside_work_tree" = false ]; then[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m      echo 'fail "git: %val{buffile} not inside work tree"'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    fi[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Aliases ──────────────────────────────────────────────────────────────────────[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224malias global g git[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224malias global gw git-write[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224malias global gc git-commit[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Highlighters ─────────────────────────────────────────────────────────────────[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter -override shared/git group[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Commit ┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# https://git-scm.com/docs/git-commit[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter -override shared/git/commit regions[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter -override shared/git/commit/comments region '^#' '$' group[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter -override shared/git/commit/comments/region fill comment[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Summary[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter -override shared/git/commit/comments/branch_name regex 'On branch (.+)' 0:GitInformation 1:keyword[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter -override shared/git/commit/comments/staged_changes regex 'Changes to be committed' 0:GitInformation[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter -override shared/git/commit/comments/unstaged_changes regex 'Changes not staged for commit' 0:GitInformation[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter -override shared/git/commit/comments/untracked_files regex 'Untracked files' 0:GitInformation[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Changed files[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter -override shared/git/commit/comments/modified_files regex '(modified):\h+(.+)' 1:attribute 2:GitModifiedFile[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter -override shared/git/commit/comments/new_files regex '(new file):\h+(.+)' 1:attribute 2:GitNewFile[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter -override shared/git/commit/comments/deleted_files regex '(deleted):\h+(.+)' 1:attribute 2:GitDeletedFile[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter -override shared/git/commit/comments/renamed_files regex '(renamed):\h+(.+)' 1:attribute 2:GitRenamedFile[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Scissors[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# https://git-scm.com/docs/git-commit#Documentation/git-commit.txt-scissors[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter -override shared/git/commit/comments/scissors regex '# ------------------------ >8 ------------------------' 0:GitScissors[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Diffs[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter -override shared/git/commit/diffs region '^diff --git' '^(?=diff --git)' group[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter -override shared/git/commit/diffs/information regex '^\w.+$' 0:GitInformation[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter -override shared/git/commit/diffs/regions ref git/diff[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Diff ┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# https://git-scm.com/docs/git-diff[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# https://en.wikipedia.org/wiki/Diff#Unified_format[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter -override shared/git/diff regions[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter -override shared/git/diff/original_files region '^---' '$' fill DiffHeader[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter -override shared/git/diff/new_files region '^\Q+++' '$' fill DiffHeader[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter -override shared/git/diff/range_information region '^@@' '$' fill DiffHeader[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter -override shared/git/diff/line_additions region '^\+' '$' fill DiffInserted[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter -override shared/git/diff/line_deletions region '^-' '$' fill DiffDeleted[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter -override shared/git/diff/contextual_lines region '^\h' '$' fill DiffText[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Rebase ┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# https://git-scm.com/docs/git-rebase[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter -override shared/git/rebase regions[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter -override shared/git/rebase/comments region '^#' '$' group[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter -override shared/git/rebase/comments/region fill comment[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter -override shared/git/rebase/commands region '^\w' '$' group[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter -override shared/git/rebase/commands/region regex '^(p|pick|r|reword|e|edit|s|squash|f|fixup|x|exec|b|break|d|drop|l|label|t|reset|m|merge)\h+(\w+)\h+(.+)$' 1:keyword 2:value 3:default[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Detection ┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Files[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# https://git-scm.com/docs/git-config#FILES[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mremove-hooks global git-config[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mhook -group git-config global BufOpenFile '.*/etc/gitconfig|.*/git/config|.*/\.gitconfig|.*/\.git/config|.*/\.git/config\.worktree' %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  set-option buffer filetype ini[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Files[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# https://git-scm.com/docs/git-commit#_files[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mremove-hooks global git-commit[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mhook -group git-commit global BufOpenFile '.*/\.git/COMMIT_EDITMSG' %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  set-option buffer filetype git-commit[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mhook -group git-commit global WinSetOption filetype=git-commit %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  add-highlighter -override window/git-commit ref git/commit[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Files[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# https://git-scm.com/docs/git-rebase[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mremove-hooks global git-rebase[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mhook -group git-rebase global BufOpenFile '.*/\.git/rebase-merge/git-rebase-todo' %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  set-option buffer filetype git-rebase[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mhook -group git-rebase global WinSetOption filetype=git-rebase %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  add-highlighter -override window/git-rebase ref git/rebase[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# == Faces[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Whitespace characters:[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# - `Tab` ⇒ `WhitespaceError`[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# - `Newline` ⇒ `Whitespace`[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# - `NonBreakingSpace` ⇒ `WhitespaceError`[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# - `Indent` ⇒ `Whitespace`[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# - `MixedIndent` ⇒ `WhitespaceError`[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# - `OddIndent` ⇒ `WhitespaceError`[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Extra whitespace:[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# - `TrailingWhitespace` ⇒ `WhitespaceError`[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# - `ConsecutiveWhitespace` ⇒ `WhitespaceWarning`[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Generic faces:[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# - `WhitespaceRuler` ⇒ `green+fu`[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# - `WhitespaceError` ⇒ `red+fc`[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# - `WhitespaceWarning` ⇒ `red+fc`[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter global/whitespace ref whitespace[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# * Individual faces for whitespace (tabs, newlines, non-breaking-spaces) and indent.[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# * Show whitespace oddities:[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# ** Trailing whitespace (only shown when not in insert mode).[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# ** Odd and mixed indent.[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# * Show consecutive whitespace.[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# * Show limit of 80 characters (useful for horizontal lines).[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# add-highlighter global/whitespace ref whitespace[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Refined show whitespace[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Faces ────────────────────────────────────────────────────────────────────────[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Whitespace characters:[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global Tab WhitespaceError[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global Newline Whitespace[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global NonBreakingSpace WhitespaceError[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Indentation rules:[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global Indent Whitespace[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global MixedIndent WhitespaceError[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global OddIndent WhitespaceError[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Extra whitespace:[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global TrailingWhitespace WhitespaceError[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global ConsecutiveWhitespace WhitespaceWarning[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Generic faces:[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global WhitespaceRuler 'green+fu'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global WhitespaceError 'red+fc'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global WhitespaceWarning 'red+fc'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Hooks ────────────────────────────────────────────────────────────────────────[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Only shown when not in insert mode.[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mremove-hooks global whitespace[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mhook -group whitespace -always global ModeChange 'push:normal:insert' %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  set-face window TrailingWhitespace Whitespace[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  set-face window ConsecutiveWhitespace Whitespace[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  # Restore[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  hook -always -once window ModeChange 'pop:insert:normal' %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    unset-face window TrailingWhitespace[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    unset-face window ConsecutiveWhitespace[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Highlighters ─────────────────────────────────────────────────────────────────[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Order matters:[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m#[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# “You can think of highlighters as like a list of painting instructions.” — Screwtape[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m#[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter -override shared/whitespace group[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Show whitespace (tabs, newlines, non-breaking-spaces).[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter -override shared/whitespace/tab regex '\t+' '0:Tab'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter -override shared/whitespace/newline regex '\n+' '0:Newline'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter -override shared/whitespace/non-breaking-space regex ' +' '0:NonBreakingSpace'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Show consecutive whitespace, then paint over indent.[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter -override shared/whitespace/consecutive-whitespace regex '\h{2,}' '0:ConsecutiveWhitespace'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter -override shared/whitespace/indent regex '^\h+' '0:Indent'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Show trailing whitespace.[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter -override shared/whitespace/trailing-whitespace regex '\h+$' '0:TrailingWhitespace'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Show odd and mixed indent.[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter -override shared/whitespace/odd-indent regex '^( {1}| {3}| {5}| {7}| {9}| {11}| {13}| {15}| {17}| {19})(?=\H)' '0:OddIndent'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter -override shared/whitespace/mixed-indent regex '^(\t+ | +\t)\h*' '0:MixedIndent'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Show limit of 80 characters.[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter -override shared/whitespace/ruler regex '(?S)^.{80}$\K\n' '0:WhitespaceRuler'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Sensible[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Enter `search` and start typing to search.[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Press `Tab` to skim through the occurrences.[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Show search with `show-search` or enter search mode then `Escape`.[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Options ──────────────────────────────────────────────────────────────────────[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Sensible scroll-off: 5 lines and 1 column.[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-option global scrolloff 5,1[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter -override global/show-matching show-matching[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter -override global/number-lines number-lines -relative -hlcursor[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Initialization[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Highlighters[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# set-face global LineNumberSelected red[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# offscreen[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# hidden[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# MultipleSelections[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# set-face global insert green[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# set-face global selection blue[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Commands ─────────────────────────────────────────────────────────────────────[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mremove-hooks global sensible-mode[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mhook -group sensible-mode -always global ModeChange 'push:normal:insert' %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  add-highlighter -override window/number-lines number-lines -hlcursor[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  set-face window PrimaryCursor 'black,white+uB'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  set-face window PrimaryCursorEol 'black,white+uB'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mhook -group sensible-mode -always global ModeChange 'pop:insert:normal' %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  add-highlighter -override window/number-lines number-lines -relative -hlcursor[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  unset-face window PrimaryCursor[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  unset-face window PrimaryCursorEol[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Commands ─────────────────────────────────────────────────────────────────────[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mremove-hooks global sensible-cursor-line[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mhook -group sensible-cursor-line -always global NormalIdle '' %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  # Restore _t_ (top) and _b_ (bottom) registers.[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  evaluate-commands -draft %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    unset-face window LineNumberCursor[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    # Multiple selections:[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    try %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m      execute-keys -draft '<a-space>'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m      set-face window LineNumberCursor DiagnosticWarning[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    # Hidden selections above:[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    try %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m      execute-keys -draft 'Zgt"tZb"tzGe<a-z>a<a-space>'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m      set-face window LineNumberCursor DiagnosticError[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    # Hidden selections below:[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    try %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m      execute-keys -draft 'Zgbgll"bZe"bzGg<a-z>a<a-space>'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m      set-face window LineNumberCursor DiagnosticError[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Commands ─────────────────────────────────────────────────────────────────────[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Commands ─────────────────────────────────────────────────────────────────────[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Faces[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global Search 'black,yellow'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mremove-hooks global show-search[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mhook -group show-search -always global NormalKey '/|<a-/>|\?|<a-\?>' %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  add-highlighter window/search ref search[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  # add-highlighter -override window/wrap wrap -word -marker '↪'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  hook -always -once window ModeChange 'pop:prompt:normal' %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    remove-highlighter window/search[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    # remove-highlighter window/wrap[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mhook -group show-search global RegisterModified '/' %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  try %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    add-highlighter -override shared/search regex "%reg{/}" 0:Search[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  } catch %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    remove-highlighter shared/search[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Internal variables[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdeclare-option -hidden range-specs selected_text_ranges[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global Search black,yellow+fg[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global SelectedText black,blue+fg[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdefine-command -override -hidden update-selected-text-ranges %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  # Reset ranges[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  unset-option window selected_text_ranges[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  try %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    evaluate-commands -draft -save-regs '^' %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m      execute-keys '<a-k>..<ret>'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m      execute-keys '<a-K>\A\h+\z<ret>'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m      # Initialize ranges[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m      set-option window selected_text_ranges %val{timestamp}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m      # Mark the main selection[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m      # Mark other selections[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m      evaluate-commands -draft %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        execute-keys '*%s<ret>'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        evaluate-commands -itersel %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m          set-option -add window selected_text_ranges "%val{selection_desc}|SelectedText"[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m      }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m      evaluate-commands -itersel %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        set-option -remove window selected_text_ranges "%val{selection_desc}|SelectedText"[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m      }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Initialization[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter -override global/selected-text ranges selected_text_ranges[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mremove-hooks global show-selected-text[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mhook -group show-selected-text -always global NormalIdle '' update-selected-text-ranges[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mhook -group show-selected-text -always global InsertIdle '' update-selected-text-ranges[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Initialization[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Crystal[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# https://crystal-lang.org[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# kakoune-crystal[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# This [Kakoune] extension provides support for the [Crystal] programming language.[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# [Kakoune]: https://kakoune.org[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# [Crystal]: https://crystal-lang.org[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m## Features[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# - Syntax highlighting[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# - Auto-indentation[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Configuration ────────────────────────────────────────────────────────────────[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Word pattern[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# https://code.visualstudio.com/api/language-extensions/language-configuration-guide#word-pattern[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdeclare-option -docstring 'Crystal word pattern' str crystal_word_pattern '\w+[?!]?'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Reference[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m#[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# https://crystal-lang.org/reference/master/syntax_and_semantics/control_expressions.html[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m#[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# https://crystal-lang.org/reference/master/syntax_and_semantics/if.html[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m#[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# value = if some_condition[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# elsif some_other_condition[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# else[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# end[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m#[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# https://crystal-lang.org/reference/master/syntax_and_semantics/unless.html[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m#[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# value = unless some_condition[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# end[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m#[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# https://crystal-lang.org/reference/master/syntax_and_semantics/case.html[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m#[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# value = case expression[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# when value[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# end[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m#[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# value = case expression[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# in value[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# end[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m#[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# https://crystal-lang.org/reference/master/syntax_and_semantics/while.html[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m#[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# while some_condition[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# end[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m#[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# https://crystal-lang.org/reference/master/syntax_and_semantics/until.html[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m#[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# until some_condition[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# end[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m#[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# https://crystal-lang.org/reference/master/syntax_and_semantics/types_and_methods.html[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# https://crystal-lang.org/reference/master/syntax_and_semantics/visibility.html[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# https://crystal-lang.org/reference/master/syntax_and_semantics/virtual_and_abstract_types.html[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m#[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# https://crystal-lang.org/reference/master/syntax_and_semantics/classes_and_methods.html[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m#[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# class Person[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# end[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m#[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# private class Person[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# end[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m#[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# abstract class Person[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# end[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m#[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# private abstract class Person[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# end[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m#[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# def name[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# end[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m#[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# private def name[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# end[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m#[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# protected def name[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# end[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m#[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# https://crystal-lang.org/reference/master/syntax_and_semantics/modules.html[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m#[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# module JSON[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# end[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m#[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# private module JSON[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# end[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m#[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# https://crystal-lang.org/reference/master/syntax_and_semantics/structs.html[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m#[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# struct Point[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# end[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m#[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# private struct Point[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# end[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m#[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# abstract struct Point[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# end[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m#[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# private abstract struct Point[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# end[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m#[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# https://crystal-lang.org/reference/master/syntax_and_semantics/enum.html[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m#[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# enum Color[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# end[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m#[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# private enum Color[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# end[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m#[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# https://crystal-lang.org/reference/master/syntax_and_semantics/blocks_and_procs.html[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m#[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# loop do[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# end[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m#[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# https://crystal-lang.org/reference/master/syntax_and_semantics/exception_handling.html[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m#[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# begin[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# rescue exception[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# ensure[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# end[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m#[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# https://crystal-lang.org/reference/master/syntax_and_semantics/macros/[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m#[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# macro version[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# end[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m#[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# https://crystal-lang.org/reference/master/syntax_and_semantics/annotations/[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m#[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# annotation Link[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# end[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m#[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# https://crystal-lang.org/reference/master/syntax_and_semantics/c_bindings/[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# https://crystal-lang.org/reference/master/syntax_and_semantics/c_bindings/lib.html[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m#[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# lib C[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# end[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m#[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# private lib C[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# end[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Detection ────────────────────────────────────────────────────────────────────[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Sets Crystal filetype when opening `.cr` files.[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mremove-hooks global crystal-detection[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mhook -group crystal-detection global BufCreate '.+\.cr' %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  set-option buffer filetype crystal[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Enables syntax highlighting for Crystal filetype.[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mremove-hooks global crystal-highlight[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mhook -group crystal-highlight global WinSetOption filetype=crystal %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  add-highlighter -override window/crystal ref crystal[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  hook -always -once window WinSetOption 'filetype=.*' %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    remove-highlighter window/crystal[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Configures word selection and completion for Crystal filetype.[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# `static_words` option is generated with `crystal-check-news`.[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mremove-hooks global crystal-config[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mhook -group crystal-config global WinSetOption filetype=crystal %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  set-option window increase_indent_pattern '^\h*(if|elsif|else|unless|case|when|case|in|while|until|class|private\h+class|abstract\h+class|private\h+abstract\h+class|def|private\h+def|protected\h+def|module|private\h+module|struct|private\h+struct|abstract\h+struct|private\h+abstract\h+struct|enum|private\h+enum|begin|rescue|ensure|macro|annotation|lib|private\h+lib)[^;]*$|\h(do)[^;]*$|\w+\h*=\h*(if|unless|case|begin)[^;]*$'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  set-option window decrease_indent_pattern '^\h*(elsif|else|end|when|in|rescue|ensure)$'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  set-option window ignore_indent_pattern '^\h*#'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  set-option window line_comment_token '#'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  set-option buffer extra_word_chars '_' '?' '!'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  set-option window static_words 'abort' 'abstract' 'alias' 'annotation' 'as' 'as?' 'asm' 'at_exit' 'begin' 'break' 'caller' 'case' 'class' 'class_getter' 'class_getter!' 'class_getter?' 'class_property' 'class_property!' 'class_property?' 'class_setter' 'debugger' 'def' 'def_clone' 'def_equals' 'def_equals_and_hash' 'def_hash' 'delegate' 'do' 'else' 'elsif' 'end' 'ensure' 'enum' 'exit' 'extend' 'false' 'for' 'forward_missing_to' 'fun' 'gets' 'getter' 'getter!' 'getter?' 'if' 'in' 'include' 'instance_size→[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  hook -always -once window WinSetOption 'filetype=.*' %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    unset-option window line_comment_token[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    unset-option buffer extra_word_chars[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    unset-option window static_words[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Indentation ──────────────────────────────────────────────────────────────────[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Highlighters ─────────────────────────────────────────────────────────────────[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Creates the base regions[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter -override shared/crystal regions[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter -override shared/crystal/code default-region group[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Syntax and semantics ┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Classes[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Comments[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Constants[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Entities[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Functions/Methods[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Keywords[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Language Built-ins[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Punctuation[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Storage[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Strings[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Variables[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Scope Naming[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Naming conventions[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Sublime Text[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# TextMate[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# https://docs.helix-editor.com/themes.html#syntax-highlighting[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# https://macromates.com/manual/en/language_grammars[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# https://github.com/crystal-lang-tools/vscode-crystal-lang/blob/master/syntaxes/crystal.json[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# https://code.visualstudio.com/api/language-extensions/syntax-highlight-guide[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# https://sublimetext.com/docs/scope_naming.html[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Reference[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# https://crystal-lang.org/reference/master/syntax_and_semantics/[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Method definition and call ┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Reference[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# https://crystal-lang.org/reference/master/syntax_and_semantics/method_arguments.html[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter -override shared/crystal/code/instance-method-definition regex "\b(def)\h+(%opt{crystal_word_pattern})\b" 1:keyword 2:function[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter -override shared/crystal/code/class-method-definition regex "\b(def)\h+(self\.%opt{crystal_word_pattern})\b" 1:keyword 2:function[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter -override shared/crystal/code/method-call regex "\b(%opt{crystal_word_pattern})\(" 1:function[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Instance and class variables ┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Reference[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# https://crystal-lang.org/reference/master/syntax_and_semantics/methods_and_instance_variables.html[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# https://crystal-lang.org/reference/master/syntax_and_semantics/class_variables.html[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter -override shared/crystal/code/instance-and-class-variables regex '@@?\w+\b' 0:variable[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Keywords ┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Note:[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Generated with `crystal-check-news`.[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter -override shared/crystal/code/keyword regex '\binstance_sizeof\b|\buninitialized\b|\bresponds_to\?|\bannotation\b|\bprotected\b|\bpointerof\b|\bverbatim\b|\boffsetof\b|\babstract\b|\brequire\b|\bprivate\b|\binclude\b|\bunless\b|\btypeof\b|\bstruct\b|\bsizeof\b|\bselect\b|\breturn\b|\brescue\b|\bmodule\b|\bextend\b|\bensure\b|\byield\b|\bwhile\b|\buntil\b|\bunion\b|\bsuper\b|\bmacro\b|\bis_a\?|\bfalse\b|\belsif\b|\bclass\b|\bbreak\b|\bbegin\b|\balias\b|\bwith\b|\bwhen\b|\btype\b|\btrue\b|\b→[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Built-in functions ┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Note:[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Generated with `crystal-check-news`.[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter -override shared/crystal/code/support.function.kernel regex '\braise_without_backtrace\b|\btimeout_select_action\b|\binstance_sizeof\b|\bread_line\b|\bpointerof\b|\boffsetof\b|\bdebugger\b|\bsprintf\b|\bat_exit\b|\btypeof\b|\bsystem\b|\bsizeof\b|\brecord\b|\bprintf\b|\bcaller\b|\bspawn\b|\bsleep\b|\braise\b|\bprint\b|\babort\b|\brand\b|\bputs\b|\bmain\b|\bloop\b|\bgets\b|\bexit\b|\bpp!|\bpp\b|\bp!|\bp\b' 0:builtin[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter -override shared/crystal/code/support.function.object regex '\bdef_equals_and_hash\b|\bforward_missing_to\b|\bclass_property\?|\bclass_property!|\bclass_property\b|\bclass_getter\?|\bclass_getter!|\bclass_setter\b|\bclass_getter\b|\bdef_equals\b|\bproperty\?|\bproperty!|\bdef_clone\b|\bproperty\b|\bdelegate\b|\bdef_hash\b|\bgetter\?|\bgetter!|\bsetter\b|\bgetter\b' 0:builtin[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Punctuation ┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# punctuation.separator[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter -override shared/crystal/code/punctuation.separator regex '\.|::' 0:meta[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Operators ┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Reference[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# https://crystal-lang.org/reference/master/syntax_and_semantics/operators.html[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter -override shared/crystal/code/operator regex '[!%&*+/<=>^|~-]' 0:operator[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter -override shared/crystal/code/operator.range regex '\.\.\.?' 0:operator[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Constants ┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Reference[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# https://crystal-lang.org/reference/master/syntax_and_semantics/constants.html[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter -override shared/crystal/code/variable.constant regex '\b[A-Z]\w*\b' 0:value[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Numbers ┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Reference[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# https://crystal-lang.org/reference/master/syntax_and_semantics/literals/integers.html[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# https://crystal-lang.org/reference/master/syntax_and_semantics/literals/floats.html[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Examples:[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m#[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# decimal number ⇒ 1_000_000[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# float number ⇒ 1_000_000.111_111[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m#[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter -override shared/crystal/code/constant.numeric.integer.decimal regex '\b\d(_?\d+)*(_[iu](8|16|32|64|128))?\b' 0:value[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter -override shared/crystal/code/constant.numeric.float.decimal regex '\b\d(_?\d+)*\.\d(_?\d+)*(_(f32|f64))?\b' 0:value[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Examples:[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m#[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# binary number ⇒ 0b1101[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# octal number ⇒ 0o123[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# hexadecimal number ⇒ 0xfe012d[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m#[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter -override shared/crystal/code/constant.numeric.integer.binary regex '\b0b[0-1]+(_[iu](8|16|32|64|128))?\b' 0:value[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter -override shared/crystal/code/constant.numeric.integer.octal regex '\b0o[0-7]+(_[iu](8|16|32|64|128))?\b' 0:value[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter -override shared/crystal/code/constant.numeric.integer.hexadecimal regex '\b0x[0-9a-fA-F]+(_[iu](8|16|32|64|128))?\b' 0:value[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Comments ┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Reference[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# https://crystal-lang.org/reference/master/syntax_and_semantics/comments.html[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Note: Avoid string literals with interpolation.[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m#[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Example:[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m#[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# puts "hello #{name}"[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m#[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter -override shared/crystal/comment region '#(?!\{)' '$' group[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter -override shared/crystal/comment/fill fill comment[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Documenting code ┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Reference[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# https://crystal-lang.org/reference/master/syntax_and_semantics/documenting_code.html[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Example:[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m#[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# A unicorn is a **legendary animal**.[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m#[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# To create a unicorn:[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m#[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# ```[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# unicorn = Unicorn.new[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# unicorn.speak[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# ```[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m#[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Check the number of horns with `#horns`.[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m#[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter -override shared/crystal/comment/reference regex "`[#.]?%opt{crystal_word_pattern}`" 0:mono[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter -override shared/crystal/comment/parameter regex '\*\w+\*' 0:mono[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter -override shared/crystal/comment/code-block regex '```(\h*\w+)?$' 0:block[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter -override shared/crystal/comment/admonition regex '\h+([A-Z]+):\h+' 1:meta[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter -override shared/crystal/comment/directive regex ':\w+:' 0:meta[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Interpolation ┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Reference[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# https://crystal-lang.org/reference/master/syntax_and_semantics/literals/string.html#interpolation[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# https://crystal-lang.org/reference/master/syntax_and_semantics/literals/string.html#escaping[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Defines Crystal raw string.[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m#[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Syntax:[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m#[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# define-crystal-string <region-name> <face-name> [<region-switches>] <opening-pattern> <closing-pattern>[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m#[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Example:[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m#[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# define-crystal-string raw-parenthesis-string string -recurse '\(' '%q\(' '\)'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m#[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# puts %q(hello world)[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m#[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdeclare-option -hidden str-list crystal_optional_arguments[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdefine-command -override -hidden define-crystal-string -params 4.. %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  set-option global crystal_optional_arguments %arg{@}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  set-option -remove global crystal_optional_arguments %arg{1} %arg{2}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  add-highlighter -override "shared/crystal/%arg{1}" region %opt{crystal_optional_arguments} regions[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  add-highlighter -override "shared/crystal/%arg{1}/content" default-region group[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  add-highlighter -override "shared/crystal/%arg{1}/content/fill" fill %arg{2}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  add-highlighter -override "shared/crystal/%arg{1}/content/escaped-character" regex '\\.' 0:meta[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  add-highlighter -override "shared/crystal/%arg{1}/content/escape-sequence" regex '\\(x[0-9a-fA-F]{2}|u[0-9a-fA-F]{4}|u\{[0-9a-fA-F]+\})' 0:meta[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Defines Crystal string interpolation.[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m#[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Syntax:[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m#[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# define-crystal-interpolated-string <region-name> <face-name> [<region-switches>] <opening-pattern> <closing-pattern>[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m#[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Example:[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m#[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# define-crystal-interpolated-string parenthesis-string string -recurse '\(' '%\(' '\)'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m#[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# name = "world"[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# puts %(hello #{name})[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m#[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdefine-command -override -hidden define-crystal-interpolated-string -params 4.. %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  define-crystal-string %arg{@}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  add-highlighter -override "shared/crystal/%arg{1}/interpolation" region -recurse '\{' '#\{' '\}' group # }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  add-highlighter -override "shared/crystal/%arg{1}/interpolation/delimiters" regex '(?<opening>..).+(?<closing>.)' opening:meta closing:meta[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  add-highlighter -override "shared/crystal/%arg{1}/interpolation/crystal" ref crystal[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Characters ┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Reference[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# https://crystal-lang.org/reference/master/syntax_and_semantics/literals/char.html[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Examples:[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m#[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# simple character ⇒ 'a'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# single quote ⇒ '\''[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# backslash ⇒ '\\'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m#[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter -override shared/crystal/string region "'" "(?<!\\)(\\\\)*'" regions[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter -override shared/crystal/string/content default-region group[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter -override shared/crystal/string/content/fill fill value[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter -override shared/crystal/string/content/escaped-character regex '\\.' 0:meta[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter -override shared/crystal/string/content/escape-sequence regex '\\(x[0-9a-fA-F]{2}|u[0-9a-fA-F]{4}|u\{[0-9a-fA-F]+\})' 0:meta[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# define-crystal-string string.character value "'" "(?<!\\)(\\\\)*'"[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Strings ┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Reference[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# https://crystal-lang.org/reference/master/syntax_and_semantics/literals/string.html[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# String literal ┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Examples:[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m#[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# simple string ⇒ "hello world"[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# double quote ⇒ "\""[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# backslash ⇒ "\\"[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m#[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter -override shared/crystal/string.interpolated region '"' '(?<!\\)(\\\\)*"' regions[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter -override shared/crystal/string.interpolated/content default-region group[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter -override shared/crystal/string.interpolated/content/fill fill string[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter -override shared/crystal/string.interpolated/content/escaped-character ref crystal/string/content/escaped-character[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter -override shared/crystal/string.interpolated/content/escape-sequence ref crystal/string/content/escape-sequence[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter -override shared/crystal/string.interpolated/interpolation region -recurse '\{' '#\{' '\}' group[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter -override shared/crystal/string.interpolated/interpolation/delimiters regex '(?<opening>..).+(?<closing>.)' opening:meta closing:meta[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter -override shared/crystal/string.interpolated/interpolation/crystal ref crystal[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# define-crystal-interpolated-string string.quoted.double string '"' '(?<!\\)(\\\\)*"'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Percent string literals ┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Reference[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# https://crystal-lang.org/reference/master/syntax_and_semantics/literals/string.html#percent-string-literals[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Example:[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m#[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# name = "world"[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# puts %Q(hello #{name})[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m#[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter -override shared/crystal/string.quoted.percent.parenthesis.interpolated region -recurse '\(' '%Q?\(' '\)' ref crystal/string.interpolated[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter -override shared/crystal/string.quoted.percent.bracket.interpolated region -recurse '\[' '%Q?\[' '\]' ref crystal/string.interpolated[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter -override shared/crystal/string.quoted.percent.brace.interpolated region -recurse '\{' '%Q?\{' '\}' ref crystal/string.interpolated[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter -override shared/crystal/string.quoted.percent.angle.interpolated region -recurse '<' '%Q?<' '>' ref crystal/string.interpolated[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter -override shared/crystal/string.quoted.percent.pipe.interpolated region '%Q?\|' '\|' ref crystal/string.interpolated[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Raw percent string literals ┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Reference[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# https://crystal-lang.org/reference/master/syntax_and_semantics/literals/string.html#percent-string-literals[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# https://crystal-lang.org/reference/master/syntax_and_semantics/literals/string.html#percent-string-array-literal[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# https://crystal-lang.org/reference/master/syntax_and_semantics/literals/symbol.html#percent-symbol-array-literal[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Example:[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m#[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# puts %q(hello world)[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m#[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter -override shared/crystal/string.quoted.percent.parenthesis region -recurse '\(' '%[qwi]\(' '\)' ref crystal/string[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter -override shared/crystal/string.quoted.percent.bracket region -recurse '\[' '%[qwi]\[' '\]' ref crystal/string[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter -override shared/crystal/string.quoted.percent.brace region -recurse '\{' '%[qwi]\{' '\}' ref crystal/string[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter -override shared/crystal/string.quoted.percent.angle region -recurse '<' '%[qwi]<' '>' ref crystal/string[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter -override shared/crystal/string.quoted.percent.pipe region '%[qwi]\|' '\|' ref crystal/string[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Here document ┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Reference[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# https://crystal-lang.org/reference/master/syntax_and_semantics/literals/string.html#heredoc[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Example:[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m#[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# <<-'EOF'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# EOF[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m#[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter -override shared/crystal/string.unquoted.heredoc.interpolated region -match-capture '<<-(\w+)' '^\h*(\w+)$' ref crystal/string.interpolated[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter -override shared/crystal/string.unquoted.heredoc.raw region -match-capture "<<-'(\w+)'" '^\h*(\w+)$' ref crystal/string[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Symbols ┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Reference[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# https://crystal-lang.org/reference/master/syntax_and_semantics/literals/symbol.html[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Symbol literal ┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Example:[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m#[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# :"quoted symbol"[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m#[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter -override shared/crystal/code/constant.symbol regex ":%opt{crystal_word_pattern}" 0:value[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter -override shared/crystal/string.symbol region ':"' '(?<!\\)(\\\\)*"' ref crystal/string[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Regular expressions ┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Reference[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# https://crystal-lang.org/reference/master/syntax_and_semantics/literals/regex.html[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Regex literal ┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Example:[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m#[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# /foo/i.match("FOO")[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m#[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter -override shared/crystal/string.regexp.interpolated region '/' '(?<!\\)(\\\\)*/[imx]*' regions[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter -override shared/crystal/string.regexp.interpolated/content default-region group[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter -override shared/crystal/string.regexp.interpolated/content/fill fill meta[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter -override shared/crystal/string.regexp.interpolated/content/escaped-character ref crystal/string/content/escaped-character[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter -override shared/crystal/string.regexp.interpolated/content/escape-sequence ref crystal/string/content/escape-sequence[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter -override shared/crystal/string.regexp.interpolated/interpolation region -recurse '\{' '#\{' '\}' group[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter -override shared/crystal/string.regexp.interpolated/interpolation/delimiters ref crystal/string.interpolated/interpolation/delimiters[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter -override shared/crystal/string.regexp.interpolated/interpolation/crystal ref crystal[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Note: Avoid unterminated regular expression and floor division as regex.[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m#[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Examples:[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m#[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# division ⇒ 1 / 2[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# floor division ⇒ 1 // 2[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m#[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter -override shared/crystal/division-as-region region ' //? ' '.\K' group[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter -override shared/crystal/division-as-region/operator regex '//?' 0:operator[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Percent regex literals ┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Example:[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m#[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# %r(foo|bar)[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m#[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter -override shared/crystal/string.regexp.percent.parenthesis.interpolated region -recurse '\(' '%r\(' '\)[imx]*' ref crystal/string.regexp.interpolated[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter -override shared/crystal/string.regexp.percent.bracket.interpolated region -recurse '\[' '%r\[' '\][imx]*' ref crystal/string.regexp.interpolated[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter -override shared/crystal/string.regexp.percent.brace.interpolated region -recurse '\{' '%r\{' '\}[imx]*' ref crystal/string.regexp.interpolated[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter -override shared/crystal/string.regexp.percent.angle.interpolated region -recurse '<' '%r<' '>[imx]*' ref crystal/string.regexp.interpolated[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter -override shared/crystal/string.regexp.percent.pipe.interpolated region '%r\|' '\|[imx]*' ref crystal/string.regexp.interpolated[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Command literal ┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Reference[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# https://crystal-lang.org/reference/master/syntax_and_semantics/literals/command.html[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Example:[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m#[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# `echo foo`[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m#[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter -override shared/crystal/string.command region '`' '(?<!\\)(\\\\)*`' ref crystal/string.regexp.interpolated[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Percent command literals ┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Example:[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m#[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# %x(echo foo)[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m#[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter -override shared/crystal/string.command.percent.parenthesis region -recurse '\(' '%x\(' '\)' ref crystal/string.regexp.interpolated[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter -override shared/crystal/string.command.percent.bracket region -recurse '\[' '%x\[' '\]' ref crystal/string.regexp.interpolated[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter -override shared/crystal/string.command.percent.brace region -recurse '\{' '%x\{' '\}' ref crystal/string.regexp.interpolated[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter -override shared/crystal/string.command.percent.angle region -recurse '<' '%x<' '>' ref crystal/string.regexp.interpolated[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter -override shared/crystal/string.command.percent.pipe region '%x\|' '\|' ref crystal/string.regexp.interpolated[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# What’s new ───────────────────────────────────────────────────────────────────[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Builds a ready for use `str-list` and `regex` with selections.[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m#[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Usage:[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m#[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Fetch a document, select keywords and call `crystal-build-result keywords`.[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m#[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdefine-command -override -hidden crystal-build-result -params 1 %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  # Initialization[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  execute-keys -save-regs '' 'y'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  edit -scratch[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  execute-keys '%<a-R>a<ret><esc>y%<a-R>%|sort -u<ret><a-s>_'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  echo -debug crystal %arg{1} as str-list:[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  echo -debug -quoting kakoune %val{selections}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  execute-keys '%|awk ''{ print length, $0 }'' | sort -n -r | cut -d " " -f 2-<ret><a-s>_'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  execute-keys -save-regs '' '*'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  echo -debug crystal %arg{1} as regex:[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  echo -debug -quoting kakoune %val{main_reg_slash}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  # Cleanup[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  delete-buffer[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  echo 'Open the *debug* buffer to see result.'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdefine-command -override -hidden crystal-build-result-with-static-words -params 1 %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  crystal-build-result %arg{1}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  set-option -add window static_words %val{selections}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdefine-command -override -hidden crystal-check-news %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  # Initialization[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  edit -scratch[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  set-option window static_words[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  # Keywords ⇒ https://github.com/crystal-lang/crystal/blob/master/src/compiler/crystal/syntax/lexer.cr[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  execute-keys '%|curl -sSL https://github.com/crystal-lang/crystal/raw/master/src/compiler/crystal/syntax/lexer.cr<ret>'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  execute-keys '%1<s>check_ident_or_keyword\(:(%opt{crystal_word_pattern}<a-!>),\h+\w+\)<ret>Z%1<s>@token\.value\h+=\h+:(%opt{crystal_word_pattern}<a-!>)<ret><a-z>a'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  crystal-build-result-with-static-words keywords[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  # Top Level Namespace[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  # https://crystal-lang.org/api/master/toplevel.html#method-summary[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  # https://crystal-lang.org/api/master/toplevel.html#macro-summary[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  execute-keys '%|curl -sSL https://crystal-lang.org/api/master/toplevel.html<ret>'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  execute-keys '%1<s>class="entry-detail"\h+id="(%opt{crystal_word_pattern}<a-!>)[^"]*-(method|macro)"<ret>'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  crystal-build-result-with-static-words top-level-namespace[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  # Object macros ⇒ https://crystal-lang.org/api/master/Object.html#macro-summary[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  execute-keys '%|curl -sSL https://crystal-lang.org/api/master/Object.html<ret>'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  execute-keys '%1<s>class="entry-detail"\h+id="(%opt{crystal_word_pattern}<a-!>)[^"]*-(macro)"<ret>'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  crystal-build-result-with-static-words object-macros[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  # Static words[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  set-register dquote %opt{static_words}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  execute-keys '%<a-R>'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  crystal-build-result static_words[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  # Cleanup[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  delete-buffer[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  echo 'Open the *debug* buffer to see result.'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# =====================================================[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# ~/.config/kak/autoload/mawww/asciidoc.kak[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# =====================================================[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# http://asciidoc.org/[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# ‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Detection[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# ‾‾‾‾‾‾‾‾‾[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mhook global BufCreate .+\.(a(scii)?doc|asc) %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    set-option buffer filetype asciidoc[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Initialization[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# ‾‾‾‾‾‾‾‾‾‾‾‾‾‾[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mhook -group asciidoc-highlight global WinSetOption filetype=asciidoc %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    require-module asciidoc[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    add-highlighter window/asciidoc ref asciidoc[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    hook -once -always window WinSetOption filetype=.* %{ remove-highlighter window/asciidoc }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mprovide-module asciidoc %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Highlighters[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# ‾‾‾‾‾‾‾‾‾‾‾‾[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter shared/asciidoc group[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Titles and headers (multi-line style)[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter shared/asciidoc/ regex (\A|\n\n)[^\n]+\n={2,}\h*$ 0:title[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter shared/asciidoc/ regex (\A|\n\n)[^\n]+\n-{2,}\h*$ 0:header[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter shared/asciidoc/ regex (\A|\n\n)[^\n]+\n~{2,}\h*$ 0:header[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter shared/asciidoc/ regex (\A|\n\n)[^\n]+\n\^{2,}\h*$ 0:header[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Titles and headerss (one-line style)[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter shared/asciidoc/ regex (\A|\n\n)=\h+[^\n]+$ 0:title[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter shared/asciidoc/ regex (\A|\n\n)={2,}\h+[^\n]+$ 0:header[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Comments[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter shared/asciidoc/ regex ^//(?:[^\n/][^\n]*|)$ 0:comment[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter shared/asciidoc/ regex ^(/{4,}).*?\n(/{4,})$ 0:comment[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# List titles[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter shared/asciidoc/ regex ^\.[^\h\W][^\n]*$ 0:title[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Bulleted lists[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter shared/asciidoc/ regex ^\h*(?<bullet>[-\*])\h+[^\n]+$ 0:list bullet:bullet[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter shared/asciidoc/ regex ^\h*(?<bullet>[-\*]+)\h+[^\n]+(\n\h+[^-\*\n]*)?$ 0:list bullet:bullet[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Delimited blocks[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# https://docs.asciidoctor.org/asciidoc/latest/blocks/delimited/[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter shared/asciidoc/ regex ^(-{4,})\n[^\n\h].*?\n(-{4,})$ 0:block[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter shared/asciidoc/ regex ^(={4,})\n[^\n\h].*?\n(={4,})$ 0:block[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter shared/asciidoc/ regex ^(~{4,})\n[^\n\h].*?\n(~{4,})$ 0:block[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter shared/asciidoc/ regex ^(\*{4,})\n[^\n\h].*?\n(\*{4,})$ 0:block[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Monospaced text[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter shared/asciidoc/ regex \B(?:\+[^\n]+?\+|`[^\n]+?`)\B 0:mono[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Bolded text[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter shared/asciidoc/ regex \s\*[^\n\*]+\*\B 0:+b[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter shared/asciidoc/ regex \h\*[^\n\*]+\*\B 0:+b[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter shared/asciidoc/ regex \*{2}(?!\h)[^\n\*]+\*{2} 0:+b[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter shared/asciidoc/ regex \h\*{2}[^\n\*]+\*{2} 0:+b[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Italicized text[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# (these are simpler since they aren't able to _also_ be bullet characters.)[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter shared/asciidoc/ regex \b_[^\n]+?_\b 0:+i[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter shared/asciidoc/ regex __[^\n]+?__ 0:+i[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Attributes[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter shared/asciidoc/ regex ^:(?:(?<neg>!?)[-\w]+|[-\w]+(?<neg>!?)): 0:meta neg:operator[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter shared/asciidoc/ regex [^\\](\{[-\w]+\})[^\\]? 1:meta[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Options[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter shared/asciidoc/ regex ^\[[^\n]+\]$ 0:operator[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Admonition pargraphs[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter shared/asciidoc/ regex ^(NOTE|TIP|IMPORTANT|CAUTION|WARNING): 0:block[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter shared/asciidoc/ regex ^\[(NOTE|TIP|IMPORTANT|CAUTION|WARNING)\]$ 0:block[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Links, inline macros[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter shared/asciidoc/ regex \b((?:https?|ftp|irc://)[^\h\[]+)\[([^\n]*)?\] 1:link 2:+i[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter shared/asciidoc/ regex (link|mailto):([^\n]+)(?:\[([^\n]*)\]) 1:keyword 2:link 3:+i[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter shared/asciidoc/ regex (xref):([^\n]+)(?:\[([^\n]*)\]) 1:keyword 2:meta 3:+i[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter shared/asciidoc/ regex (<<([^\n><]+)>>) 1:link 2:meta[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Commands[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# ‾‾‾‾‾‾‾‾[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# http://w3.org/Style/CSS[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# ‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Detection[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# ‾‾‾‾‾‾‾‾‾[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mhook global BufCreate .*[.](css) %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    set-option buffer filetype css[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Initialization[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# ‾‾‾‾‾‾‾‾‾‾‾‾‾‾[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mhook global WinSetOption filetype=css %[[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    require-module css[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    hook window ModeChange pop:insert:.* -group css-trim-indent css-trim-indent[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    hook window InsertChar \n -group css-insert css-insert-on-new-line[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    hook window InsertChar \n -group css-indent css-indent-on-new-line[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    hook window InsertChar \} -group css-indent css-indent-on-closing-curly-brace[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    set-option buffer extra_word_chars '_' '-'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    set-face global cssLogicalOperator +i@keyword[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    hook -once -always window WinSetOption filetype=.* %{ remove-hooks window css-.+ }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m][0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mhook -group css-highlight global WinSetOption filetype=css %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    add-highlighter window/css ref css[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    hook -once -always window WinSetOption filetype=.* %{ remove-highlighter window/css }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mprovide-module css %[[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Highlighters[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# ‾‾‾‾‾‾‾‾‾‾‾‾[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter shared/css regions[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter shared/css/code default-region group[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter shared/css/attr_selector region \[ \] regions[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter shared/css/double_string region '"'  (?<!\\)(\\\\)*" fill string[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter shared/css/single_string region "'"  (?<!\\)(\\\\)*' fill string[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter shared/css/comment    region /\* \*/ fill comment[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mevaluate-commands %sh{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  # html tags[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  # generated from the URL & <code> below[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  # includes elements that cannot be styled, which is fine.[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  # [0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  # https://developer.mozilla.org/en-US/docs/Web/HTML/Element[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  html_tags='html body address article aside footer header h1 h2 h3 h4 h5 h6 main nav section blockquote dd div dl dt figcaption figure hr li ol p pre ul a abbr b bdi bdo br cite code data dfn em i kbd mark q rp rt ruby s samp small span strong sub sup time u var wbr area audio img map track video embed iframe object param picture portal source canvas noscript script del ins caption col colgroup table tbody td tfoot th thead tr button datalist fieldset form input label legend meter optgroup option output →[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  # Units[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  # ‾‾‾‾‾[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  # generated from the URL & <code> below[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  # includes #rgb, #rrggbb, #rrggbbaa as color values {3,8}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  # [0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  # https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_Values_and_Units[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  units='% cap ch cm deg dpcm dpi dppx em ex grad Hz ic in kHz lh mm ms pc pt px Q rad rem rlh s turn vb vh vi vmax vmin vw x'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  logical_ops='and not only from to'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  keywords='!important auto inherit initial unset none'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  media_types='all print screen speech'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  # easing_re='linear|ease(-(in-out|in|out))?|step-(start|end)'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  # combinators='+ > ~ ||'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  # attribute_op='= ~= |= ^= $= *='[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  join() { eval set -- $1; IFS="|"; echo "$*"; }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  # Selectors[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  # ‾‾‾‾‾‾‾‾‾[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  # universal: *, ns|*, *|*, |*[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  # class/id: .class, #id[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  # type: element[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  # attr: [attr=val][0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  # order below matters[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  printf %s "[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  add-highlighter shared/css/code/tag_selectors regex \b($(join "${html_tags}"))((:[a-z:])|[\h.#,]) 1:keyword[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  add-highlighter shared/css/code/functional_notation regex ([a-zA-Z0-9-_]+[a-zA-Z0-9])\( 1:keyword[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  add-highlighter shared/css/code/logical_operators regex (\b($(join "${logical_ops}"))\b|$(join "${keywords}")) 1:cssLogicalOperator[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  add-highlighter shared/css/code/media_types regex \b($(join "${media_types}"))\b 1:+i[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  # (after functional notation as they may contain paranthesis)[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  add-highlighter shared/css/code/pseudo regex (:{1,2})([a-z-]+) 0:attribute[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  add-highlighter shared/css/code/at_rules regex @[a-z-]+ 0:function [0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  add-highlighter shared/css/code/css_property regex ([A-Za-z][A-Za-z0-9_-]*)\h*:\h 1:operator 1:+a[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  add-highlighter shared/css/code/selectors regex (\*|[*]?[.][A-Za-z][A-Za-z0-9_-]+) 0:type[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  add-highlighter shared/css/code/selectors_id regex (\*|[*]?[#][A-Za-z][A-Za-z0-9_-]+) 0:type 0:+i[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  add-highlighter shared/css/code/hex_values regex (#[0-9A-Fa-f]{3,8})\b 0:value 0:+a[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  add-highlighter shared/css/code/units regex \b(\d*\.)?\d+($(join "${units}"))?\b 0:value 0:+a[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  "[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Attribute Selectors[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter shared/css/attr_selector/base default-region group[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter shared/css/attr_selector/base/ regex ([a-zA-Z0-9-]+) 1:attribute[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter shared/css/attr_selector/base/ regex \h(i|s) 1:type[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter shared/css/attr_selector/double_string region '"'  (?<!\\)(\\\\)*" fill string[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter shared/css/attr_selector/single_string region "'"  (?<!\\)(\\\\)*' fill string[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Commands[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# ‾‾‾‾‾‾‾‾[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdefine-command -hidden css-trim-indent %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    # remove trailing white spaces[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    try %{ execute-keys -draft -itersel x s \h+$ <ret> d }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdefine-command -hidden css-indent-on-new-line %[[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    evaluate-commands -draft -itersel %[[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        execute-keys <semicolon>[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        try %<[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m            # if previous line is part of a comment, do nothing[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m            execute-keys -draft <a-?>/\*<ret> <a-K>^\h*[^/*\h]<ret>[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        > catch %<[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m            # else if previous line closed a paren (possibly followed by words and a comment),[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m            # copy indent of the opening paren line[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m            execute-keys -draft kx 1s(\))(\h+\w+)*\h*(\;\h*)?(?://[^\n]+)?\n\z<ret> m<a-semicolon>J <a-S> 1<a-&>[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        > catch %<[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m            # else indent new lines with the same level as the previous one[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m            execute-keys -draft K <a-&>[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        >[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        # filter previous line[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        try %< execute-keys -draft k x <a-k>^\h+$<ret> Hd >[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        # indent after lines ending with with {[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        try %[ execute-keys -draft k x <a-k> \{$ <ret> j <a-gt> ][0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        # deindent closing brace when after cursor[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        try %[ execute-keys -draft x <a-k> ^\h*\} <ret> gh / \} <ret> m <a-S> 1<a-&> ][0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    ][0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m][0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdefine-command -hidden css-insert-on-new-line %[[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    evaluate-commands -draft -itersel %<[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    execute-keys <semicolon>[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    try %[[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        # if the previous line isn't within a comment scope, break[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        execute-keys -draft kx <a-k>^(\h*/\*|\h+\*(?!/))<ret>[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        # find comment opening, validate it was not closed, and check its using star prefixes[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        execute-keys -draft <a-?>/\*<ret><a-H> <a-K>\*/<ret> <a-k>\A\h*/\*([^\n]*\n\h*\*)*[^\n]*\n\h*.\z<ret>[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        try %[[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m            # if the previous line is opening the comment, insert star preceeded by space[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m            execute-keys -draft kx<a-k>^\h*/\*<ret>[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m            execute-keys -draft i*<space><esc>[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        ] catch %[[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m           try %[[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m                # if the next line is a comment line insert a star[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m                execute-keys -draft jx<a-k>^\h+\*<ret>[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m                execute-keys -draft i*<space><esc>[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m            ] catch %[[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m                try %[[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m                    # if the previous line is an empty comment line, close the comment scope[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m                    execute-keys -draft kx<a-k>^\h+\*\h+$<ret> x1s\*(\h*)<ret>c/<esc>[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m                ] catch %[[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m                    # if the previous line is a non-empty comment line, add a star[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m                    execute-keys -draft i*<space><esc>[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m                ][0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m            ][0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        ][0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        # trim trailing whitespace on the previous line[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        try %[ execute-keys -draft s\h+$<ret> d ][0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        # align the new star with the previous one[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        execute-keys Kx1s^[^*]*(\*)<ret>&[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    ][0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    >[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m][0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdefine-command -hidden css-indent-on-closing-curly-brace %[[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    evaluate-commands -draft -itersel %[[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        # align to opening curly brace when alone on a line[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        try %[ execute-keys -draft <a-h> <a-k> ^\h+\}$ <ret> m s \A|.\z <ret> 1<a-&> ][0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    ][0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m][0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m][0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mhook global BufCreate .*\.(diff|patch) %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    set-option buffer filetype diff[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mhook global WinSetOption filetype=diff %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    require-module diff[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    map buffer normal <ret> :diff-jump<ret>[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mhook -group diff-highlight global WinSetOption filetype=diff %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    add-highlighter window/diff ref diff[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    hook -once -always window WinSetOption filetype=.* %{ remove-highlighter window/diff }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mprovide-module diff %§[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter shared/diff group[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter shared/diff/ regex "^\+[^\n]*\n" 0:green,default[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter shared/diff/ regex "^-[^\n]*\n" 0:red,default[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter shared/diff/ regex "^@@[^\n]*@@" 0:cyan,default[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# If any trailing whitespace was introduced in diff, show it with red background[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter shared/diff/ regex "^\+[^\n]*?(\h+)\n" 1:default,red[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdefine-command diff-jump -params .. -docstring %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        diff-jump [<switches>] [<directory>]: edit the diff's source file at the cursor position.[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        Paths are resolved relative to <directory>, or the current working directory if unspecified.[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        Switches:[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m            -       jump to the old file instead of the new file[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m            -<num> strip <num> leading directory components, like -p<num> in patch(1). Defaults to 1 if there is a 'diff' line (as printed by 'diff -r'), or 0 otherwise.[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    } %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    evaluate-commands -draft -save-regs ac| %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        # Save the column because we will move the cursor.[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        set-register c %val{cursor_column}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        # If there is a "diff" line, we don't need to look further back.[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        try %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m            execute-keys %{<a-l><semicolon><a-?>^(?:> )*diff\b<ret>x}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        } catch %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m            # A single file diff won't have a diff line. Start parsing from[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m            # the buffer start, so we can tell if +++/--- lines are headers[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m            # or content.[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m            execute-keys Gk[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        set-register a %arg{@}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        set-register | %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m            [ -n "$kak_reg_a" ] && eval set -- $kak_quoted_reg_a[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m            cmd=$(column=$kak_reg_c perl -we '[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m                sub quote {[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m                    $SQ = "'\''";[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m                    $token = shift;[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m                    $token =~ s/$SQ/$SQ$SQ/g;[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m                    return "$SQ$token$SQ";[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m                }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m                sub fail {[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m                    $reason = shift;[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m                    print "fail " . quote("diff-jump: $reason");[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m                    exit;[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m                }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m                $version = "+", $other_version = "-";[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m                $strip = undef;[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m                $directory = $ENV{PWD};[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m                $seen_ddash = 0;[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m                foreach (@ARGV) {[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m                    if ($seen_ddash or !m{^-}) {[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m                        $directory = $_;[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m                    } elsif ($_ eq "-") {[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m                        $version = "-", $other_version = "+";[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m                    } elsif (m{^-(\d+)$}) {[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m                        $strip = $1;[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m                    } elsif ($_ eq "--") {[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m                        $seen_ddash = 1;[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m                    } else {[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m                        fail "unknown option: $_";[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m                    }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m                }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m                $have_diff_line = 0;[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m                $state = "header";[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m                while (<STDIN>) {[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m                    s/^(> )*//g;[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m                    $last_line = $_;[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m                    if (m{^diff\b}) {[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m                        $state = "header";[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m                        $have_diff_line = 1;[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m                        if (m{^diff -\S* (\S+) (\S+)$}) {[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m                            $fallback_file = $version eq "+" ? $2 : $1;[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m                        }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m                        next;[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m                    }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m                    if ($state eq "header") {[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m                        if (m{^[$version]{3} ([^\t\n]+)}) {[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m                            $file = $1;[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m                            next;[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m                        }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m                        if (m{^[$other_version]{3} ([^\t\n]+)}) {[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m                            $fallback_file = $1;[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m                            next;[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m                        }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m                    }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m                    if (m{^@@ -(\d+)(?:,\d+)? \+(\d+)(?:,\d+)? @@}) {[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m                        $state = "contents";[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m                        $line = ($version eq "+" ? $2 : $1) - 1;[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m                    } elsif (m{^[ $version]}) {[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m                        $line++ if defined $line;[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m                    }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m                }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m                if (not defined $file) {[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m                    $file = $fallback_file;[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m                }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m                if (not defined $file) {[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m                    fail "missing diff header";[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m                }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m                if (not defined $strip) {[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m                    # A "diff -r" or "git diff" adds "diff" lines to[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m                    # the output.  If no such line is present, we have[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m                    # a plain diff between files (not directories), so[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m                    # there should be no need to strip the directory.[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m                    $strip = $have_diff_line ? 1 : 0;[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m                }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m                if ($file !~ m{^/}) {[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m                    $file =~ s,^([^/]+/+){$strip},, or fail "directory prefix underflow";[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m                    $file = "$directory/$file";[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m                }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m                if (defined $line) {[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m                    $column = $ENV{column} - 1; # Account for [ +-] diff prefix.[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m                    # If the cursor was on a hunk header, go to the section header if possible.[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m                    if ($last_line =~ m{^(@@ -\d+(?:,\d+)? \+\d+(?:,\d+) @@ )([^\n]*)}) {[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m                        $hunk_header_prefix = $1;[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m                        $hunk_header_from_userdiff = $2;[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m                        open FILE, "<", $file or fail "failed to open file: $!: $file";[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m                        @lines = <FILE>;[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m                        for (my $i = $line - 1; $i >= 0 && $i < scalar @lines; $i--) {[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m                            if ($lines[$i] !~ m{\Q$hunk_header_from_userdiff}) {[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m                                next;[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m                            }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m                            $line = $i + 1;[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m                            # Re-add 1 because the @@ line does not have a [ +-] diff prefix.[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m                            $column = $column + 1 - length $hunk_header_prefix;[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m                            last;[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m                        }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m                    }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m                }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m                printf "edit -existing -- %s $line $column", quote($file);[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m            ' -- "$@")[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m            echo "set-register c $cmd" >"$kak_command_fifo"[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        execute-keys <a-|><ret>[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        evaluate-commands -client %val{client} %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m            evaluate-commands -try-client %opt{jumpclient} %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m                %reg{c}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m            }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mcomplete-command diff-jump file[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m§[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdefine-command \[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    -docstring %{diff-select-file: Select surrounding patch file} \[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    -params 0 \[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    diff-select-file %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m                evaluate-commands -itersel -save-regs 'ose/' %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        try %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m            execute-keys '"oZgl<a-?>^diff <ret>;"sZ' 'Ge"eZ'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m            try %{ execute-keys '"sz?\n(?=diff )<ret>"e<a-Z><lt>' }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m            execute-keys '"ez'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        } catch %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m            execute-keys '"oz'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m            fail 'Not in a diff file'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdefine-command \[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    -docstring %{diff-select-hunk: Select surrounding patch hunk} \[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    -params 0 \[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    diff-select-hunk %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    evaluate-commands -itersel -save-regs 'ose/' %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        try %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m            execute-keys '"oZgl<a-?>^@@ <ret>;"sZ' 'Ge"eZ'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m            try %{ execute-keys '"sz?\n(?=diff )<ret>"e<a-Z><lt>' }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m            try %{ execute-keys '"sz?\n(?=@@ )<ret>"e<a-Z><lt>' }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m            execute-keys '"ez'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        } catch %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m            execute-keys '"oz'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m            fail 'Not in a diff hunk'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdeclare-option -docstring "name of the client in which documentation is to be displayed" \[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    str docsclient[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdeclare-option -hidden range-specs doc_render_ranges[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdeclare-option -hidden range-specs doc_links[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdeclare-option -hidden range-specs doc_anchors[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdefine-command -hidden -params 4 doc-render-regex %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    evaluate-commands -draft %{ try %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        execute-keys <percent> s %arg{1} <ret>[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        execute-keys -draft s %arg{2} <ret> d[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        execute-keys "%arg{3}"[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        evaluate-commands %sh{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m            face="$4"[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m            eval "set -- $kak_quoted_selections_desc"[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m            ranges=""[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m            for desc in "$@"; do ranges="$ranges '$desc|$face'"; done[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m            echo "update-option buffer doc_render_ranges"[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m            echo "set-option -add buffer doc_render_ranges $ranges"[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    } }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdefine-command -hidden doc-parse-links %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    evaluate-commands -draft %{ try %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        execute-keys <percent> s <lt><lt>(.*?),.*?<gt><gt> <ret>[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        execute-keys -draft s <lt><lt>.*,|<gt><gt> <ret> d[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        execute-keys H[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        set-option buffer doc_links %val{timestamp}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        update-option buffer doc_render_ranges[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        evaluate-commands -itersel %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m            set-option -add buffer doc_links "%val{selection_desc}|%reg{1}"[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m            set-option -add buffer doc_render_ranges "%val{selection_desc}|default+u"[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    } }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdefine-command -hidden doc-parse-anchors %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    evaluate-commands -draft %{ try %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        set-option buffer doc_anchors %val{timestamp}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        # Find sections as add them as imlicit anchors[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        execute-keys <percent> s ^={2,}\h+([^\n]+)$ <ret>[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        evaluate-commands -itersel %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m            set-option -add buffer doc_anchors "%val{selection_desc}|%sh{printf '%s' ""$kak_main_reg_1"" | tr '[A-Z ]' '[a-z-]'}"[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        # Parse explicit anchors and remove their text[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        execute-keys <percent> s \[\[(.*?)\]\]\s* <ret>[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        evaluate-commands -itersel %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m            set-option -add buffer doc_anchors "%val{selection_desc}|%reg{1}"[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        execute-keys d[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        update-option buffer doc_anchors[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    } }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdefine-command -hidden doc-jump-to-anchor -params 1 %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    update-option buffer doc_anchors[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    evaluate-commands %sh{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        anchor="$1"[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        eval "set -- $kak_quoted_opt_doc_anchors"[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        shift[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        for range in "$@"; do[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m            if [ "${range#*|}" = "$anchor" ]; then[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m                printf '%s\n'  "select '${range%|*}'; execute-keys vv"[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m                exit[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m            fi[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        done[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        printf "fail No such anchor '%s'\n" "${anchor}"[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdefine-command -hidden doc-follow-link %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    update-option buffer doc_links[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    evaluate-commands %sh{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        eval "set -- $kak_quoted_opt_doc_links"[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        for link in "$@"; do[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m            printf '%s\n' "$link"[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        done | awk -v FS='[.,|#]' '[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m            BEGIN {[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m                l=ENVIRON["kak_cursor_line"];[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m                c=ENVIRON["kak_cursor_column"];[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m            }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m            l >= $1 && c >= $2 && l <= $3 && c <= $4 {[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m                if (NF == 6) {[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m                    print "doc " $5[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m                    if ($6 != "") {[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m                        print "doc-jump-to-anchor %{" $6 "}"[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m                    }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m                } else {[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m                    print "doc-jump-to-anchor %{" $5 "}"[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m                }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m                exit[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m            }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        '[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdefine-command -params 1 -hidden doc-render %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    edit! -scratch "*doc-%sh{basename $1 .asciidoc}*"[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    execute-keys "!cat %arg{1}<ret>gg"[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    doc-parse-anchors[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    # Join paragraphs together[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    try %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        execute-keys -draft '%S\n{2,}|(?<lt>=\+)\n|^[^\n]+::\n|^\h*[*-]\h+<ret>' \[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m            <a-K>^\h*-{2,}(\n|\z)<ret> S\n\z<ret> <a-k>\n<ret> <a-j>[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    # Remove some line end markers[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    try %{ execute-keys -draft <percent> s \h*(\+|:{2,})$ <ret> d }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    # Setup the doc_render_ranges option[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    set-option buffer doc_render_ranges %val{timestamp}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    doc-render-regex \B(?<!\\)\*(?=\S)[^\n]+?(?<=\S)(?<!\\)\*\B \A|.\z 'H' default+b[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    doc-render-regex \b(?<!\\)_(?=\S)[^\n]+?(?<=\S)(?<!\\)_\b \A|.\z 'H' default+i[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    doc-render-regex \B(?<!\\)`(?=\S)[^\n]+?(?<=\S)`\B \A|.\z 'H' mono[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    doc-render-regex ^=\h+[^\n]+ ^=\h+ '~' title[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    doc-render-regex ^={2,}\h+[^\n]+ ^={2,}\h+ '' header[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    doc-render-regex ^\h*-{2,}\n\h*.*?^\h*-{2,}\n ^\h*-{2,}\n '' block[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    doc-parse-links[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    # Remove escaping of * and `[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    try %{ execute-keys -draft <percent> s \\((?=\*)|(?=`)) <ret> d }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    # Go to beginning of file[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    execute-keys 'gg'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    set-option buffer readonly true[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    add-highlighter buffer/ ranges doc_render_ranges[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    add-highlighter buffer/ wrap -word -indent[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    map buffer normal <ret> :doc-follow-link<ret>[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdefine-command doc -params 0..2 -menu -docstring %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        doc <topic> [<keyword>]: open a buffer containing documentation about a given topic[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        An optional keyword argument can be passed to the function, which will be automatically selected in the documentation[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        See `:doc doc` for details.[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    } %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    evaluate-commands %sh{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        topic="doc"[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        if [ $# -ge 1 ]; then[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m            topic="$1"[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        fi[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        page=$([0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m            find -L \[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m                "${kak_config}/autoload/" \[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m                "${kak_runtime}/doc/" \[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m                "${kak_runtime}/rc/" \[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m                -type f -name "$topic.asciidoc" 2>/dev/null |[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m                head -1[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        )[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        if [ -f "${page}" ]; then[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m            jump_cmd=""[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m            if [ $# -eq 2 ]; then[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m                jump_cmd="doc-jump-to-anchor '$2'"[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m            fi[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m            printf %s\\n "evaluate-commands -try-client %opt{docsclient} %{ doc-render ${page}; ${jump_cmd} }"[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        else[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m            printf 'fail No such doc file: %s\n' "$topic.asciidoc"[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        fi[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mcomplete-command doc shell-script-candidates %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    case "$kak_token_to_complete" in[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        0)[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m            find -L \[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m                "${kak_config}/autoload/" \[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m                "${kak_runtime}/doc/" \[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m                "${kak_runtime}/rc/" \[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m                -type f -name "*.asciidoc" 2>/dev/null |[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m                sed 's,.*/,,; s/\.[^.]*$//';;[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        1)[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m            page=$([0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m                find -L \[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m                    "${kak_config}/autoload/" \[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m                    "${kak_runtime}/doc/" \[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m                    "${kak_runtime}/rc/" \[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m                    -type f -name "$1.asciidoc" 2>/dev/null |[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m                    head -1[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m            )[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m            if [ -f "${page}" ]; then[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m                awk '[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m                    /^==+ +/ { sub(/^==+ +/, ""); print }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m                    /^\[\[[^\]]+\]\]/ { sub(/^\[\[/, ""); sub(/\]\].*/, ""); print }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m                ' < $page | tr '[A-Z ]' '[a-z-]'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m            fi;;[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    esac[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224malias global help doc[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mhook global BufCreate .*(COMMIT_EDITMSG|MERGE_MSG) %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    set-option buffer filetype git-commit[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mhook global BufCreate .*/NOTES_EDITMSG %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    set-option buffer filetype git-notes[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mhook global BufCreate .*(\.git(config|modules)|git/config) %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    set-option buffer filetype ini[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mhook global BufCreate .*\.gitignore %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    set-option buffer filetype git-ignore[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mhook global BufCreate .*git-rebase-todo %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    set-option buffer filetype git-rebase[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mhook global WinSetOption filetype=git-(commit|ignore|notes|rebase) %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    require-module "git-%val{hook_param_capture_1}"[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mhook -group git-commit-highlight global WinSetOption filetype=git-commit %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    add-highlighter window/git-commit ref git-commit[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    hook -once -always window WinSetOption filetype=.* %{ remove-highlighter window/git-commit }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mhook -group git-ignore-highlight global WinSetOption filetype=git-ignore %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    add-highlighter window/git-ignore ref git-ignore[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    hook -once -always window WinSetOption filetype=.* %{ remove-highlighter window/git-ignore }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mhook -group git-notes-highlight global WinSetOption filetype=git-notes %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    add-highlighter window/git-notes ref git-notes[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    hook -once -always window WinSetOption filetype=.* %{ remove-highlighter window/git-notes }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mhook -group git-rebase-highlight global WinSetOption filetype=git-rebase %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    add-highlighter window/git-rebase ref git-rebase[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    hook -once -always window WinSetOption filetype=.* %{ remove-highlighter window/git-rebase }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mprovide-module git-commit %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mrequire-module diff[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter shared/git-commit regions[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter shared/git-commit/diff region '^diff --git' '^(?=diff --git)' ref diff # highlight potential diffs from the -v option[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter shared/git-commit/comments region ^# $ group[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter shared/git-commit/comments/ fill comment[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter shared/git-commit/comments/ regex "\b(?:(modified)|(deleted)|(new file)|(renamed|copied)):([^\n]*)$" 1:yellow 2:red 3:green 4:blue 5:magenta[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mprovide-module git-ignore %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter shared/git-ignore group[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter shared/git-ignore/glob regex '(?<!\\)(?:\\\\)*\K(\*\*?|\?|\[.*?(?<!\\)(?:\\\\)*\])' 0:operator[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter shared/git-ignore/negate regex '^!' 0:operator[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter shared/git-ignore/comments regex '^#.*?$' 0:comment[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mprovide-module git-notes %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter shared/git-notes regex ^#[^\n]*$ 0:comment[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mprovide-module git-rebase %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter shared/git-rebase group[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter shared/git-rebase/ regex "^\h*#[^\n]*\n" 0:comment[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter shared/git-rebase/ regex "^(?:(pick|p)|(edit|reword|squash|fixup|exec|break|drop|label|reset|merge|[ersfxbdltm])) (\w+)" 1:keyword 2:value 3:meta[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# http://w3.org/html[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# ‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Detection[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# ‾‾‾‾‾‾‾‾‾[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mhook global BufCreate .*\.html %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    set-option buffer filetype html[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mhook global BufCreate .*\.xml %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    set-option buffer filetype xml[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Initialization[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# ‾‾‾‾‾‾‾‾‾‾‾‾‾‾[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mhook global WinSetOption filetype=(html|xml) %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    require-module html[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    hook window ModeChange pop:insert:.* -group "%val{hook_param_capture_1}-trim-indent"  html-trim-indent[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    hook window InsertChar '>' -group "%val{hook_param_capture_1}-indent" html-indent-on-greater-than[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    hook window InsertChar \n -group "%val{hook_param_capture_1}-indent" html-indent-on-new-line[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    hook -once -always window WinSetOption "filetype=.*" "[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        remove-hooks window ""%val{hook_param_capture_1}-.+""[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    "[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mhook -group html-highlight global WinSetOption filetype=(html|xml) %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    add-highlighter "window/%val{hook_param_capture_1}" ref html[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    hook -once -always window WinSetOption "filetype=.*" "[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        remove-highlighter ""window/%val{hook_param_capture_1}""[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    "[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mprovide-module html %[[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mtry %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    require-module css[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    require-module javascript[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Highlighters[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# ‾‾‾‾‾‾‾‾‾‾‾‾[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter shared/html regions[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter shared/html/comment region <!--     -->                  fill comment[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter shared/html/tag     region <          >                  regions[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter shared/html/style   region <style\b.*?>\K  (?=</style>)  ref css[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter shared/html/script  region <script\b.*?>\K (?=</script>) ref javascript[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter shared/html/tag/base default-region group[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter shared/html/tag/ region '"' (?<!\\)(\\\\)*"      fill string[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter shared/html/tag/ region "'" "'"                  fill string[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter shared/html/tag/base/ regex \b([a-zA-Z0-9_-]+)=? 1:attribute[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter shared/html/tag/base/ regex </?(\w+) 1:keyword[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter shared/html/tag/base/ regex <(!DOCTYPE(\h+\w+)+) 1:meta[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Commands[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# ‾‾‾‾‾‾‾‾[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdefine-command -hidden html-trim-indent %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    # remove trailing white spaces[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    try %{ execute-keys -draft -itersel x s \h+$ <ret> d }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdefine-command -hidden html-indent-on-greater-than %[[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    evaluate-commands -draft -itersel %[[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        # align closing tag to opening when alone on a line[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        try %[ execute-keys -draft , <a-h> s ^\h+<lt>/(\w+)<gt>$ <ret> {c<lt><c-r>1,<lt>/<c-r>1<gt> <ret> s \A|.\z <ret> 1<a-&> ][0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    ][0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m][0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdefine-command -hidden html-indent-on-new-line %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    evaluate-commands -draft -itersel %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        # preserve previous line indent[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        try %{ execute-keys -draft <semicolon> K <a-&> }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        # filter previous line[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        try %{ execute-keys -draft k : html-trim-indent <ret> }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        # indent after lines ending with opening tag except when it starts with a closing tag[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        try %{ execute-keys -draft k x <a-k> <lt>(?!area)(?!base)(?!br)(?!col)(?!command)(?!embed)(?!hr)(?!img)(?!input)(?!keygen)(?!link)(?!menuitem)(?!meta)(?!param)(?!source)(?!track)(?!wbr)(?!/)(?!>)[a-zA-Z0-9_-]+[^>]*?>$ <ret>jx<a-K>^\s*<lt>/<ret><a-gt> } }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m][0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mhook global BufCreate .+\.ini %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    set-option buffer filetype ini[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mhook global WinSetOption filetype=ini %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    require-module ini[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mhook -group ini-highlight global WinSetOption filetype=ini %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    add-highlighter window/ini ref ini[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    hook -once -always window WinSetOption filetype=.* %{ remove-highlighter window/ini }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mprovide-module ini %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter shared/ini regions[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter shared/ini/code default-region group[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter shared/ini/comment region '(^|\h)\K[#;]' $ fill comment[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter shared/ini/code/ regex "(?S)^\h*(\[.+?\])\h*$" 1:title[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter shared/ini/code/ regex "^\h*([^\[][^=\n]*)=([^\n]*)" 1:variable 2:value[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Detection[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# ‾‾‾‾‾‾‾‾‾[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mhook global BufCreate .*[.][cm]?(js)x? %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    set-option buffer filetype javascript[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mhook global BufCreate .*[.][cm]?(ts)x? %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    set-option buffer filetype typescript[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Initialization[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# ‾‾‾‾‾‾‾‾‾‾‾‾‾‾[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mhook global WinSetOption filetype=(javascript|typescript) %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    require-module javascript[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    hook window ModeChange pop:insert:.* -group "%val{hook_param_capture_1}-trim-indent" javascript-trim-indent[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    hook window InsertChar .* -group "%val{hook_param_capture_1}-indent" javascript-indent-on-char[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    hook window InsertChar \n -group "%val{hook_param_capture_1}-insert" javascript-insert-on-new-line[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    hook window InsertChar \n -group "%val{hook_param_capture_1}-indent" javascript-indent-on-new-line[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    hook -once -always window WinSetOption filetype=.* "[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        remove-hooks window %val{hook_param_capture_1}-.+[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    "[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mhook -group javascript-highlight global WinSetOption filetype=javascript %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    add-highlighter window/javascript ref javascript[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    hook -once -always window WinSetOption filetype=.* %{ remove-highlighter window/javascript }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mhook -group typescript-highlight global WinSetOption filetype=typescript %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    add-highlighter window/typescript ref typescript[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    hook -once -always window WinSetOption filetype=.* %{ remove-highlighter window/typescript }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mprovide-module javascript %§[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Commands[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# ‾‾‾‾‾‾‾‾[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdefine-command -hidden javascript-trim-indent %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    # remove trailing white spaces[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    try %{ execute-keys -draft x 1s^(\h+)$<ret> d }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdefine-command -hidden javascript-indent-on-char %<[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    evaluate-commands -draft -itersel %<[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        # align closer token to its opener when alone on a line[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        try %/ execute-keys -draft <a-h> <a-k> ^\h+[\]}]$ <ret> m s \A|.\z <ret> 1<a-&> /[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    >[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m>[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdefine-command -hidden javascript-insert-on-new-line %<[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    evaluate-commands -draft -itersel %<[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    execute-keys <semicolon>[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    try %[[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        evaluate-commands -draft -save-regs '/"' %[[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m            # copy the commenting prefix[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m            execute-keys -save-regs '' k x1s^\h*(//+\h*)<ret> y[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m            try %[[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m                # if the previous comment isn't empty, create a new one[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m                execute-keys x<a-K>^\h*//+\h*$<ret> jxs^\h*<ret>P[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m            ] catch %[[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m                # if there is no text in the previous comment, remove it completely[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m                execute-keys d[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m            ][0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        ][0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    ][0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    try %[[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        # if the previous line isn't within a comment scope, break[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        execute-keys -draft kx <a-k>^(\h*/\*|\h+\*(?!/))<ret>[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        # find comment opening, validate it was not closed, and check its using star prefixes[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        execute-keys -draft <a-?>/\*<ret><a-H> <a-K>\*/<ret> <a-k>\A\h*/\*([^\n]*\n\h*\*)*[^\n]*\n\h*.\z<ret>[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        try %[[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m            # if the previous line is opening the comment, insert star preceeded by space[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m            execute-keys -draft kx<a-k>^\h*/\*<ret>[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m            execute-keys -draft i*<space><esc>[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        ] catch %[[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m           try %[[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m                # if the next line is a comment line insert a star[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m                execute-keys -draft jx<a-k>^\h+\*<ret>[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m                execute-keys -draft i*<space><esc>[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m            ] catch %[[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m                try %[[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m                    # if the previous line is an empty comment line, close the comment scope[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m                    execute-keys -draft kx<a-k>^\h+\*\h+$<ret> x1s\*(\h*)<ret>c/<esc>[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m                ] catch %[[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m                    # if the previous line is a non-empty comment line, add a star[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m                    execute-keys -draft i*<space><esc>[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m                ][0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m            ][0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        ][0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        # trim trailing whitespace on the previous line[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        try %[ execute-keys -draft s\h+$<ret> d ][0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        # align the new star with the previous one[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        execute-keys Kx1s^[^*]*(\*)<ret><a-(><a-&>[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    ][0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    >[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m>[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdefine-command -hidden javascript-indent-on-new-line %<[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    evaluate-commands -draft -itersel %<[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    execute-keys <semicolon>[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    try %<[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        # if previous line is part of a comment, do nothing[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        execute-keys -draft <a-?>/\*<ret> <a-K>^\h*[^/*\h]<ret>[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    > catch %<[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        # else if previous line closed a paren (possibly followed by words and a comment),[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        # copy indent of the opening paren line[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        execute-keys -draft kx 1s(\))(\h+\w+)*\h*(\;\h*)?(?://[^\n]+)?\n\z<ret> m<a-semicolon>J <a-S> 1<a-&>[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    > catch %<[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        # else indent new lines with the same level as the previous one[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        execute-keys -draft K <a-&>[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    >[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    # remove previous empty lines resulting from the automatic indent[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    try %< execute-keys -draft k x <a-k>^\h+$<ret> Hd >[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    # indent after an opening brace or parenthesis at end of line[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    try %< execute-keys -draft k x <a-k>[{(]\h*$<ret> j <a-gt> >[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    # indent after a label (works for case statements)[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    try %< execute-keys -draft k x s[a-zA-Z0-9_-]+:\h*$<ret> j <a-gt> >[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    # indent after a statement not followed by an opening brace[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    try %< execute-keys -draft k x s\)\h*(?://[^\n]+)?\n\z<ret> \[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m                               <a-semicolon>mB <a-k>\A\b(if|for|while)\b<ret> <a-semicolon>j <a-gt> >[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    try %< execute-keys -draft k x s \belse\b\h*(?://[^\n]+)?\n\z<ret> \[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m                               j <a-gt> >[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    # deindent after a single line statement end[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    try %< execute-keys -draft K x <a-k>\;\h*(//[^\n]+)?$<ret> \[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m                               K x s\)(\h+\w+)*\h*(//[^\n]+)?\n([^\n]*\n){2}\z<ret> \[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m                               MB <a-k>\A\b(if|for|while)\b<ret> <a-S>1<a-&> >[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    try %< execute-keys -draft K x <a-k>\;\h*(//[^\n]+)?$<ret> \[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m                               K x s \belse\b\h*(?://[^\n]+)?\n([^\n]*\n){2}\z<ret> \[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m                               <a-S>1<a-&> >[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    # deindent closing brace(s) when after cursor[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    try %< execute-keys -draft x <a-k> ^\h*[})] <ret> gh / [})] <esc> m <a-S> 1<a-&> >[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    # align to the opening parenthesis or opening brace (whichever is first)[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    # on a previous line if its followed by text on the same line[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    try %< evaluate-commands -draft %<[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        # Go to opening parenthesis and opening brace, then select the most nested one[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        try %< execute-keys [c [({],[)}] <ret> >[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        # Validate selection and get first and last char[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        execute-keys <a-k>\A[{(](\h*\S+)+\n<ret> <a-K>"(([^"]*"){2})*<ret> <a-K>'(([^']*'){2})*<ret> <a-:><a-semicolon>L <a-S>[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        # Remove possibly incorrect indent from new line which was copied from previous line[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        try %< execute-keys -draft , <a-h> s\h+<ret> d >[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        # Now indent and align that new line with the opening parenthesis/brace[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        execute-keys 1<a-&> &[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m     > >[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    >[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m>[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Highlighting and hooks bulder for JavaScript and TypeScript[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# ‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdefine-command -hidden init-javascript-filetype -params 1 %~[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    # Highlighters[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    # ‾‾‾‾‾‾‾‾‾‾‾‾[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    add-highlighter "shared/%arg{1}" regions[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    add-highlighter "shared/%arg{1}/code" default-region group[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    add-highlighter "shared/%arg{1}/double_string" region '"'  (?<!\\)(\\\\)*"         fill string[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    add-highlighter "shared/%arg{1}/single_string" region "'"  (?<!\\)(\\\\)*'         fill string[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    add-highlighter "shared/%arg{1}/literal"       region "`"  (?<!\\)(\\\\)*`         group[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    add-highlighter "shared/%arg{1}/comment_line"  region //   '$'                     fill comment[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    add-highlighter "shared/%arg{1}/comment"       region /\*  \*/                     fill comment[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    add-highlighter "shared/%arg{1}/shebang"       region ^#!  $                       fill meta[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    add-highlighter "shared/%arg{1}/division" region '[\w\)\]]\K(/|(\h+/\s+))' '(?=\w)' group # Help Kakoune to better detect /…/ literals[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    add-highlighter "shared/%arg{1}/regex"         region /    (?<!\\)(\\\\)*/[gimuy]* fill meta[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    add-highlighter "shared/%arg{1}/jsx"           region -recurse (?<![\w<])<[a-zA-Z>][\w:.-]* (?<![\w<])<[a-zA-Z>][\w:.-]*(?!\hextends)(?=[\s/>])(?!>\()) (</.*?>|/>) regions[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    # Regular expression flags are: g → global match, i → ignore case, m → multi-lines, u → unicode, y → sticky[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    # https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/RegExp[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    add-highlighter "shared/%arg{1}/literal/"       fill string[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    add-highlighter "shared/%arg{1}/literal/"       regex \$\{.*?\} 0:value[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    add-highlighter "shared/%arg{1}/code/" regex (?:^|[^$_])\b(document|false|null|parent|self|this|true|undefined|window)\b 1:value[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    add-highlighter "shared/%arg{1}/code/" regex "-?\b[0-9]*\.?[0-9]+" 0:value[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    add-highlighter "shared/%arg{1}/code/" regex \b(Array|Boolean|Date|Function|Number|Object|RegExp|String|Symbol)\b 0:type[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    # jsx: In well-formed xml the number of opening and closing tags match up regardless of tag name.[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    #[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    # We inline a small XML highlighter here since it anyway need to recurse back up to the starting highlighter.[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    # To make things simple we assume that jsx is always enabled.[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    add-highlighter "shared/%arg{1}/jsx/tag"  region -recurse <  <(?=[/a-zA-Z>]) (?<!=)> regions[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    add-highlighter "shared/%arg{1}/jsx/expr" region -recurse \{ \{             \}      ref %arg{1}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    add-highlighter "shared/%arg{1}/jsx/tag/base" default-region group[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    add-highlighter "shared/%arg{1}/jsx/tag/double_string" region =\K" (?<!\\)(\\\\)*" fill string[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    add-highlighter "shared/%arg{1}/jsx/tag/single_string" region =\K' (?<!\\)(\\\\)*' fill string[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    add-highlighter "shared/%arg{1}/jsx/tag/expr" region -recurse \{ \{   \}           group[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    add-highlighter "shared/%arg{1}/jsx/tag/base/" regex (\w+) 1:attribute[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    add-highlighter "shared/%arg{1}/jsx/tag/base/" regex </?([\w-$]+) 1:keyword[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    add-highlighter "shared/%arg{1}/jsx/tag/base/" regex (</?|/?>) 0:meta[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    add-highlighter "shared/%arg{1}/jsx/tag/expr/"   ref %arg{1}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    # Keywords are collected at[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    # https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Lexical_grammar#Keywords[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    # https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions/get[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    # https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions/set[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    add-highlighter "shared/%arg{1}/code/" regex \b(async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|export|extends|finally|for|function|get|if|import|in|instanceof|let|new|of|return|set|static|super|switch|throw|try|typeof|var|void|while|with|yield)\b 0:keyword[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m~[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224minit-javascript-filetype javascript[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224minit-javascript-filetype typescript[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Highlighting specific to TypeScript[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# ‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter shared/typescript/code/ regex \b(array|boolean|date|number|object|regexp|string|symbol)\b 0:type[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Keywords grabbed from https://github.com/Microsoft/TypeScript/issues/2536[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter shared/typescript/code/ regex \b(as|constructor|declare|enum|from|implements|interface|module|namespace|package|private|protected|public|readonly|static|type)\b 0:keyword[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m§[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Aliases[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# ‾‾‾‾‾‾‾[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mprovide-module typescript %{ require-module javascript }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# http://json.org[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# ‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Detection[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# ‾‾‾‾‾‾‾‾‾[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mhook global BufCreate .*[.](json) %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    set-option buffer filetype json[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Initialization[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# ‾‾‾‾‾‾‾‾‾‾‾‾‾‾[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mhook global WinSetOption filetype=json %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    require-module json[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    hook window ModeChange pop:insert:.* -group json-trim-indent json-trim-indent[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    hook window InsertChar .* -group json-indent json-indent-on-char[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    hook window InsertChar \n -group json-indent json-indent-on-new-line[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    hook -once -always window WinSetOption filetype=.* %{ remove-hooks window json-.+ }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mhook -group json-highlight global WinSetOption filetype=json %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    add-highlighter window/json ref json[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    hook -once -always window WinSetOption filetype=.* %{ remove-highlighter window/json }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mprovide-module json %([0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Highlighters[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# ‾‾‾‾‾‾‾‾‾‾‾‾[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter shared/json regions[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter shared/json/code default-region group[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter shared/json/string region '"' (?<!\\)(\\\\)*" fill string[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter shared/json/code/ regex \b(true|false|null|\d+(?:\.\d+)?(?:[eE][+-]?\d*)?)\b 0:value[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Commands[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# ‾‾‾‾‾‾‾‾[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdefine-command -hidden json-trim-indent %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    # remove trailing white spaces[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    try %{ execute-keys -draft -itersel x s \h+$ <ret> d }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdefine-command -hidden json-indent-on-char %<[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    evaluate-commands -draft -itersel %<[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        # align closer token to its opener when alone on a line[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        try %< execute-keys -draft <a-h> <a-k> ^\h+[\]}]$ <ret> m <a-S> 1<a-&> >[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    >[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m>[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdefine-command -hidden json-indent-on-new-line %<[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    evaluate-commands -draft -itersel %<[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        # preserve previous line indent[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        try %{ execute-keys -draft <semicolon> K <a-&> }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        # filter previous line[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        try %{ execute-keys -draft k : json-trim-indent <ret> }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        # indent after lines ending with opener token[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        try %< execute-keys -draft k x <a-k> [[{]\h*$ <ret> j <a-gt> >[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        # deindent closer token(s) when after cursor[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        try %< execute-keys -draft x <a-k> ^\h*[}\]] <ret> gh / [}\]] <ret> m <a-S> 1<a-&> >[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    >[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m>[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m)[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# http://kakoune.org[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# ‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Detection[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# ‾‾‾‾‾‾‾‾‾[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mhook global BufCreate (.*/)?(kakrc|.*\.kak) %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    set-option buffer filetype kak[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Initialization[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# ‾‾‾‾‾‾‾‾‾‾‾‾‾‾[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mhook global WinSetOption filetype=kak %~[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    require-module kak[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    set-option window static_words %opt{kak_static_words}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    hook window InsertChar \n -group kak-insert kak-insert-on-new-line[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    hook window InsertChar \n -group kak-indent kak-indent-on-new-line[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    hook window InsertChar [>)}\]] -group kak-indent kak-indent-on-closing-matching[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    hook window InsertChar (?![[{(<>)}\]])[^\s\w] -group kak-indent kak-indent-on-closing-char[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    # cleanup trailing whitespaces on current line insert end[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    hook window ModeChange pop:insert:.* -group kak-trim-indent %{ try %{ execute-keys -draft <semicolon> x s ^\h+$ <ret> d } }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    set-option buffer extra_word_chars '_' '-'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    hook -once -always window WinSetOption filetype=.* %{ remove-hooks window kak-.+ }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m~[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mhook -group kak-highlight global WinSetOption filetype=kak %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    add-highlighter window/kakrc ref kakrc[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    hook -once -always window WinSetOption filetype=.* %{ remove-highlighter window/kakrc }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mprovide-module kak %§[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mrequire-module sh[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Highlighters & Completion[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# ‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter shared/kakrc regions[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter shared/kakrc/code default-region group[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter shared/kakrc/comment region (^|\h)\K# $ fill comment[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter shared/kakrc/double_string region -recurse %{(?<!")("")+(?!")} %{(^|\h)\K"} %{"(?!")} group[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter shared/kakrc/single_string region -recurse %{(?<!')('')+(?!')} %{(^|\h)\K'} %{'(?!')} group[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter shared/kakrc/shell1 region -recurse '\{' '(^|\h)\K%?%sh\{' '\}' ref sh[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter shared/kakrc/shell2 region -recurse '\(' '(^|\h)\K%?%sh\(' '\)' ref sh[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter shared/kakrc/shell3 region -recurse '\[' '(^|\h)\K%?%sh\[' '\]' ref sh[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter shared/kakrc/shell4 region -recurse '<'  '(^|\h)\K%?%sh<'  '>'  ref sh[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter shared/kakrc/shell5 region -recurse '\{' '(^|\h)\K-?shell-script-(completion|candidates)\h+%\{' '\}' ref sh[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter shared/kakrc/shell6 region -recurse '\(' '(^|\h)\K-?shell-script-(completion|candidates)\h+%\(' '\)' ref sh[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter shared/kakrc/shell7 region -recurse '\[' '(^|\h)\K-?shell-script-(completion|candidates)\h+%\[' '\]' ref sh[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter shared/kakrc/shell8 region -recurse '<'  '(^|\h)\K-?shell-script-(completion|candidates)\h+%<'  '>'  ref sh[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mevaluate-commands %sh{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    # Grammar[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    keywords="add-highlighter alias arrange-buffers buffer buffer-next buffer-previous catch[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m              change-directory colorscheme debug declare-option declare-user-mode define-command complete-command[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m              delete-buffer delete-buffer! echo edit edit! enter-user-mode evaluate-commands execute-keys[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m              fail hook info kill kill! map menu nop on-key prompt provide-module quit quit![0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m              remove-highlighter remove-hooks rename-buffer rename-client rename-session require-module[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m              select set-face set-option set-register source trigger-user-hook try[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m              unalias unmap unset-face unset-option update-option[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m              write write! write-all write-all-quit write-quit write-quit!"[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    attributes="global buffer window current[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m                normal insert menu prompt goto view user object[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m                number-lines show-matching show-whitespaces fill regex dynregex group flag-lines[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m                ranges line column wrap ref regions region default-region replace-ranges"[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    types="int bool str regex int-list str-list completions line-specs range-specs str-to-str-map"[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    values="default black red green yellow blue magenta cyan white yes no false true"[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    join() { sep=$2; eval set -- $1; IFS="$sep"; echo "$*"; }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    # Add the language's grammar to the static completion list[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    printf %s\\n "declare-option str-list kak_static_words $(join "${keywords} ${attributes} ${types} ${values}" ' ')'"[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    # Highlight keywords (which are always surrounded by whitespace)[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    printf '%s\n' "add-highlighter shared/kakrc/code/keywords regex (?:\s|\A)\K($(join "${keywords}" '|'))(?:(?=\s)|\z) 0:keyword[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m                   add-highlighter shared/kakrc/code/attributes regex (?:\s|\A)\K($(join "${attributes}" '|'))(?:(?=\s)|\z) 0:attribute[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m                   add-highlighter shared/kakrc/code/types regex (?:\s|\A)\K($(join "${types}" '|'))(?:(?=\s)|\z) 0:type[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m                   add-highlighter shared/kakrc/code/values regex (?:\s|\A)\K($(join "${values}" '|'))(?:(?=\s)|\z) 0:value"[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter shared/kakrc/code/colors regex \b(rgb:[0-9a-fA-F]{6}|rgba:[0-9a-fA-F]{8})\b 0:value[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter shared/kakrc/code/numbers regex \b\d+\b 0:value[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter shared/kakrc/double_string/fill fill string[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter shared/kakrc/double_string/escape regex '""' 0:default+b[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter shared/kakrc/single_string/fill fill string[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter shared/kakrc/single_string/escape regex "''" 0:default+b[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter shared/kak ref kakrc[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Commands[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# ‾‾‾‾‾‾‾‾[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdefine-command -hidden kak-insert-on-new-line %~[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    evaluate-commands -draft -itersel %=[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        # copy '#' comment prefix and following white spaces[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        try %{ execute-keys -draft k x s ^\h*#\h* <ret> y jgh P }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    =[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m~[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdefine-command -hidden kak-indent-on-new-line %~[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    evaluate-commands -draft -itersel %=[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        # preserve previous line indent[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        try %{ execute-keys -draft <semicolon> K <a-&> }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        # cleanup trailing whitespaces from previous line[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        try %{ execute-keys -draft k x s \h+$ <ret> d }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        # indent after line ending with %\w*[^\s\w][0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        try %{ execute-keys -draft k x <a-k> \%\w*[^\s\w]$ <ret> j <a-gt> }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        # deindent closing brace when after cursor[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        try %_ execute-keys -draft -itersel x <a-k> ^\h*([>)}\]]) <ret> gh / <c-r>1 <ret> m <a-S> 1<a-&> _[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        # deindent closing char(s) [0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        try %{ execute-keys -draft -itersel x <a-k> ^\h*([^\s\w]) <ret> gh / <c-r>1 <ret> <a-?> <c-r>1 <ret> <a-T>% <a-k> \w*<c-r>1$ <ret> <a-S> 1<a-&> }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    =[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m~[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdefine-command -hidden kak-indent-on-closing-matching %~[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    # align to opening matching brace when alone on a line[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    try %= execute-keys -draft -itersel <a-h><a-k>^\h*\Q %val{hook_param} \E$<ret> mGi s \A|.\z<ret> 1<a-&> =[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m~[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdefine-command -hidden kak-indent-on-closing-char %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    # align to opening matching character when alone on a line[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    try %{ execute-keys -draft -itersel <a-h><a-k>^\h*\Q %val{hook_param} \E$<ret>gi<a-f> %val{hook_param} <a-T>%<a-k>\w*\Q %val{hook_param} \E$<ret> s \A|.\z<ret> gi 1<a-&> }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m§[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# http://lua.org[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# ‾‾‾‾‾‾‾‾‾‾‾‾‾‾[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Detection[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# ‾‾‾‾‾‾‾‾‾[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mhook global BufCreate .*[.](lua|rockspec) %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    set-option buffer filetype lua[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Initialization[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# ‾‾‾‾‾‾‾‾‾‾‾‾‾‾[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mhook global WinSetOption filetype=lua %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    require-module lua[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    hook window ModeChange pop:insert:.* -group lua-trim-indent lua-trim-indent[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    hook window InsertChar .* -group lua-indent lua-indent-on-char[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    hook window InsertChar \n -group lua-indent lua-indent-on-new-line[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    hook window InsertChar \n -group lua-insert lua-insert-on-new-line[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    alias window alt lua-alternative-file[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    hook -once -always window WinSetOption filetype=.* %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        remove-hooks window lua-.+[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        unalias window alt lua-alternative-file[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mhook -group lua-highlight global WinSetOption filetype=lua %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    add-highlighter window/lua ref lua[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    hook -once -always window WinSetOption filetype=.* %{ remove-highlighter window/lua }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mprovide-module lua %§[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Highlighters[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# ‾‾‾‾‾‾‾‾‾‾‾‾[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter shared/lua regions[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter shared/lua/code default-region group[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter shared/lua/raw_string  region -match-capture   '\[(=*)\[' '\](=*)\]' fill string[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter shared/lua/raw_comment region -match-capture '--\[(=*)\[' '\](=*)\]' fill comment[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter shared/lua/double_string region '"'   (?<!\\)(?:\\\\)*" fill string[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter shared/lua/single_string region "'"   (?<!\\)(?:\\\\)*' fill string[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter shared/lua/comment       region '--'  $                 fill comment[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter shared/lua/code/function_declaration regex \b(?:function\h+)(?:\w+\h*\.\h*)*([a-zA-Z_]\w*)\( 1:function[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter shared/lua/code/function_call regex \b([a-zA-Z_]\w*)\h*(?=[\(\{]) 1:function[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter shared/lua/code/keyword regex \b(break|do|else|elseif|end|for|function|goto|if|in|local|repeat|return|then|until|while)\b 0:keyword[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter shared/lua/code/value regex \b(false|nil|true|[0-9]+(:?\.[0-9])?(:?[eE]-?[0-9]+)?|0x[0-9a-fA-F])\b 0:value[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter shared/lua/code/symbolic_operator regex (\+|-|\*|/|%|\^|==?|~=|<=?|>=?|\.\.|\.\.\.|#) 0:operator[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter shared/lua/code/keyword_operator regex \b(and|or|not)\b 0:operator[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter shared/lua/code/module regex \b(_G|_ENV)\b 0:module[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter shared/lua/code/attribute regex \B(<[a-zA-Z_]\w*>)\B 0:attribute[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Commands[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# ‾‾‾‾‾‾‾‾[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdefine-command lua-alternative-file -docstring 'Jump to the alternate file (implementation ↔ test)' %{ evaluate-commands %sh{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    case $kak_buffile in[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        *spec/*_spec.lua)[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m            altfile=$(eval printf %s\\n $(printf %s\\n $kak_buffile | sed s+spec/+'*'/+';'s/_spec//))[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m            [ ! -f $altfile ] && echo "fail 'implementation file not found'" && exit[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        ;;[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        *.lua)[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m            altfile=""[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m            altdir=""[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m            path=$kak_buffile[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m            dirs=$(while [ $path ]; do printf %s\\n $path; path=${path%/*}; done | tail -n +2)[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m            for dir in $dirs; do[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m                altdir=$dir/spec[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m                if [ -d $altdir ]; then[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m                    altfile=$altdir/$(realpath $kak_buffile --relative-to $dir | sed s+[^/]'*'/++';'s/.lua$/_spec.lua/)[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m                    break[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m                fi[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m            done[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m            [ ! -d "$altdir" ] && echo "fail 'spec/ not found'" && exit[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        ;;[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        *)[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m            echo "fail 'alternative file not found'" && exit[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        ;;[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    esac[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    printf %s\\n "edit $altfile"[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m}}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdefine-command -hidden lua-trim-indent %[[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    # remove trailing whitespaces[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    try %[ execute-keys -draft -itersel x s \h+$ <ret> d ][0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m][0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdefine-command -hidden lua-indent-on-char %[[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    evaluate-commands -no-hooks -draft -itersel %[[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        # unindent middle and end structures[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        try %[ execute-keys -draft \[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m            <a-h><a-k>^\h*(\b(end|else|elseif|until)\b|[)}])$<ret> \[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m            :lua-indent-on-new-line<ret> \[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m            <a-lt>[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        ][0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    ][0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m][0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdefine-command -hidden lua-indent-on-new-line %[[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    evaluate-commands -no-hooks -draft -itersel %[[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        # remove trailing white spaces from previous line[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        try %[ execute-keys -draft k : lua-trim-indent <ret> ][0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        # preserve previous non-empty line indent[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        try %[ execute-keys -draft ,gh<a-?>^[^\n]+$<ret>s\A|.\z<ret>)<a-&> ][0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        # add one indentation level if the previous line is not a comment and:[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        #     - starts with a block keyword that is not closed on the same line,[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        #     - or contains an unclosed function expression,[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        #     - or ends with an enclosed '(' or '{'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        try %[ execute-keys -draft \[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m            , Kx \[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m            <a-K>\A\h*--<ret> \[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m            <a-K>\A[^\n]*\b(end|until)\b<ret> \[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m            <a-k>\A(\h*\b(do|else|elseif|for|function|if|repeat|while)\b|[^\n]*[({]$|[^\n]*\bfunction\b\h*[(])<ret> \[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m            <a-:><semicolon><a-gt>[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        ][0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    ][0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m][0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdefine-command -hidden lua-insert-on-new-line %[[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    evaluate-commands -no-hooks -draft -itersel %[[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        # copy -- comment prefix and following white spaces[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        try %[ execute-keys -draft kxs^\h*\K--\h*<ret> y gh j x<semicolon> P ][0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        # wisely add end structure[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        evaluate-commands -save-regs x %[[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m            # save previous line indent in register x[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m            try %[ execute-keys -draft kxs^\h+<ret>"xy ] catch %[ reg x '' ][0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m            try %[[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m                # check that starts with a block keyword that is not closed on the same line[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m                execute-keys -draft \[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m                    kx \[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m                    <a-k>^\h*\b(else|elseif|do|for|function|if|while)\b|[^\n]\bfunction\b\h*[(]<ret> \[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m                    <a-K>\bend\b<ret>[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m                # check that the block is empty and is not closed on a different line[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m                execute-keys -draft <a-a>i <a-K>^[^\n]+\n[^\n]+\n<ret> jx <a-K>^<c-r>x\b(else|elseif|end)\b<ret>[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m                # auto insert end[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m                execute-keys -draft o<c-r>xend<esc>[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m                # auto insert ) for anonymous function[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m                execute-keys -draft kx<a-k>\([^)\n]*function\b<ret>jjA)<esc>[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m            ][0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        ][0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    ][0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m][0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m§[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdeclare-option -docstring "shell command run to build the project" \[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    str makecmd make[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdeclare-option -docstring "pattern that describes lines containing information about errors in the output of the `makecmd` command" \[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    str make_error_pattern " (?:fatal )?error:"[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdeclare-option -docstring "name of the client in which utilities display information" \[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    str toolsclient[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdeclare-option -hidden int make_current_error_line[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdefine-command -params .. \[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    -docstring %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        make [<arguments>]: make utility wrapper[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        All the optional arguments are forwarded to the make utility[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m     } make %{ evaluate-commands %sh{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m     output=$(mktemp -d "${TMPDIR:-/tmp}"/kak-make.XXXXXXXX)/fifo[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m     mkfifo ${output}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m     ( eval "${kak_opt_makecmd}" "$@" > ${output} 2>&1 & ) > /dev/null 2>&1 < /dev/null[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m     printf %s\\n "evaluate-commands -try-client '$kak_opt_toolsclient' %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m               edit! -fifo ${output} -scroll *make*[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m               set-option buffer filetype make[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m               set-option buffer make_current_error_line 0[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m               hook -always -once buffer BufCloseFifo .* %{ nop %sh{ rm -r $(dirname ${output}) } }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m           }"[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m}}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter shared/make group[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter shared/make/ regex "^((?:\w:)?[^:\n]+):(\d+):(?:(\d+):)?\h+(?:((?:fatal )?error)|(warning)|(note)|(required from(?: here)?))?.*?$" 1:cyan 2:green 3:green 4:red 5:yellow 6:blue 7:yellow[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter shared/make/ regex "^\h*(~*(?:(\^)~*)?)$" 1:green 2:cyan+b[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter shared/make/ line '%opt{make_current_error_line}' default+b[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mhook -group make-highlight global WinSetOption filetype=make %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    add-highlighter window/make ref make[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    hook -once -always window WinSetOption filetype=.* %{ remove-highlighter window/make }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mhook global WinSetOption filetype=make %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    hook buffer -group make-hooks NormalKey <ret> make-jump[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    hook -once -always window WinSetOption filetype=.* %{ remove-hooks buffer make-hooks }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdeclare-option -docstring "name of the client in which all source code jumps will be executed" \[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    str jumpclient[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdefine-command -hidden make-open-error -params 4 %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    evaluate-commands -try-client %opt{jumpclient} %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        edit -existing "%arg{1}" %arg{2} %arg{3}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        echo -markup "{Information}{\}%arg{4}"[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        try %{ focus }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdefine-command -hidden make-jump %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    evaluate-commands %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        try %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m            execute-keys gl<a-?> "Entering directory" <ret><a-:>[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m            # Try to parse the error into capture groups, failing on absolute paths[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m            execute-keys s "Entering directory [`']([^']+)'.*\n([^:/][^:]*):(\d+):(?:(\d+):)?([^\n]+)\z" <ret>l[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m            set-option buffer make_current_error_line %val{cursor_line}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m            make-open-error "%reg{1}/%reg{2}" "%reg{3}" "%reg{4}" "%reg{5}"[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        } catch %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m            execute-keys <a-h><a-l> s "((?:\w:)?[^:]+):(\d+):(?:(\d+):)?([^\n]+)\z" <ret>l[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m            set-option buffer make_current_error_line %val{cursor_line}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m            make-open-error "%reg{1}" "%reg{2}" "%reg{3}" "%reg{4}"[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdefine-command make-next-error -docstring 'Jump to the next make error' %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    evaluate-commands -try-client %opt{jumpclient} %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        buffer '*make*'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        execute-keys "%opt{make_current_error_line}ggl" "/^(?:\w:)?[^:\n]+:\d+:(?:\d+:)?%opt{make_error_pattern}<ret>"[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        make-jump[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    try %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        evaluate-commands -client %opt{toolsclient} %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m            buffer '*make*'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m            execute-keys %opt{make_current_error_line}g[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdefine-command make-previous-error -docstring 'Jump to the previous make error' %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    evaluate-commands -try-client %opt{jumpclient} %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        buffer '*make*'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        execute-keys "%opt{make_current_error_line}g" "<a-/>^(?:\w:)?[^:\n]+:\d+:(?:\d+:)?%opt{make_error_pattern}<ret>"[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        make-jump[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    try %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        evaluate-commands -client %opt{toolsclient} %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m            buffer '*make*'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m            execute-keys %opt{make_current_error_line}g[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Detection[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# ‾‾‾‾‾‾‾‾‾[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mhook global BufCreate .*(/?[mM]akefile|\.mk|\.make) %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    set-option buffer filetype makefile[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Initialization[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# ‾‾‾‾‾‾‾‾‾‾‾‾‾‾[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mhook global WinSetOption filetype=makefile %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    require-module makefile[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    set-option window static_words %opt{makefile_static_words}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    hook window ModeChange pop:insert:.* -group makefile-trim-indent makefile-trim-indent[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    hook window InsertChar \n -group makefile-indent makefile-indent-on-new-line[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    hook -once -always window WinSetOption filetype=.* %{ remove-hooks window makefile-.+ }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mhook -group makefile-highlight global WinSetOption filetype=makefile %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    add-highlighter window/makefile ref makefile[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    hook -once -always window WinSetOption filetype=.* %{ remove-highlighter window/makefile }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mprovide-module makefile %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Highlighters[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# ‾‾‾‾‾‾‾‾‾‾‾‾[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter shared/makefile regions[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter shared/makefile/content default-region group[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter shared/makefile/comment region (?<!\\)(?:\\\\)*(?:^|\h)\K# '$' fill comment[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter shared/makefile/evaluate-commands region -recurse \( (?<!\$)(?:\$\$)*\K\$\( \) fill value[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter shared/makefile/content/ regex ^\S.*?(::|:|!)\s 0:variable[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter shared/makefile/content/ regex [+?:]= 0:operator[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mevaluate-commands %sh{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    # Grammar[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    keywords="ifeq|ifneq|ifdef|ifndef|else|endif|define|endef"[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    # Add the language's grammar to the static completion list[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    printf %s\\n "declare-option str-list makefile_static_words ${keywords}" | tr '|' ' '[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    # Highlight keywords[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    printf %s "add-highlighter shared/makefile/content/ regex \b(${keywords})\b 0:keyword"[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Commands[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# ‾‾‾‾‾‾‾‾[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdefine-command -hidden makefile-trim-indent %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    evaluate-commands -no-hooks -draft -itersel %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        execute-keys x[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        # remove trailing white spaces[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        try %{ execute-keys -draft s \h + $ <ret> d }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdefine-command -hidden makefile-indent-on-new-line %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    evaluate-commands -draft -itersel %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        # preserve previous line indent[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        try %{ execute-keys -draft <semicolon>K<a-&> }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        ## If the line above is a target indent with a tab[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        try %{ execute-keys -draft Z kx <a-k>^\S.*?(::|:|!)\s<ret> z i<tab> }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        # cleanup trailing white space son previous line[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        try %{ execute-keys -draft kx s \h+$ <ret>d }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        # indent after some keywords[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        try %{ execute-keys -draft Z kx <a-k> ^\h*(ifeq|ifneq|ifdef|ifndef|else|define)\b<ret> z <a-gt> }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdeclare-option -docstring "name of the client in which documentation is to be displayed" \[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    str docsclient[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdeclare-option -hidden str-list manpage[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mhook -group man-highlight global WinSetOption filetype=man %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    add-highlighter window/man-highlight group[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    # Sections[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    add-highlighter window/man-highlight/ regex ^\S.*?$ 0:title[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    # Subsections[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    add-highlighter window/man-highlight/ regex '^ {3}\S.*?$' 0:default+b[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    # Command line options[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    add-highlighter window/man-highlight/ regex '^ {7}-[^\s,]+(,\s+-[^\s,]+)*' 0:list[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    # References to other manpages[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    add-highlighter window/man-highlight/ regex [-a-zA-Z0-9_.]+\([a-z0-9]+\) 0:header[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    map window normal <ret> :man-jump<ret>[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    hook -once -always window WinSetOption filetype=.* %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m      remove-highlighter window/man-highlight[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m      unmap window normal <ret>[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mhook global WinSetOption filetype=man %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    hook -group man-hooks window WinResize .* %{ man-impl %opt{manpage} }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    hook -once -always window WinSetOption filetype=.* %{ remove-hooks window man-hooks }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdefine-command -hidden -params ..3 man-impl %{ evaluate-commands %sh{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    buffer_name="$1"[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    if [ -z "${buffer_name}" ]; then[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        exit[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    fi[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    shift[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    manout=$(mktemp "${TMPDIR:-/tmp}"/kak-man.XXXXXX)[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    manerr=$(mktemp "${TMPDIR:-/tmp}"/kak-man.XXXXXX)[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    colout=$(mktemp "${TMPDIR:-/tmp}"/kak-man.XXXXXX)[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    env MANWIDTH=${kak_window_range##* } man "$@" > "$manout" 2> "$manerr"[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    retval=$?[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    if command -v col >/dev/null; then[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        col -b -x > ${colout} < ${manout}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    else[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        sed 's/.//g' > ${colout} < ${manout}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    fi[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    rm ${manout}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    if [ "${retval}" -eq 0 ]; then[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        printf %s\\n "[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m                edit -scratch %{*$buffer_name ${*}*}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m                execute-keys '%|cat<space>${colout}<ret>gk'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m                nop %sh{ rm ${colout}; rm ${manerr} }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m                set-option buffer filetype man[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m                set-option window manpage $buffer_name $*[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        "[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    else[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        printf '[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m            fail %%{%s}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m            nop %%sh{ rm "%s"; rm "%s" }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        ' "$(cat "$manerr")" "${colout}" "${manerr}"[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    fi[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m} }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdefine-command -params ..1 \[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    -shell-script-candidates %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        find /usr/share/man/ $(printf %s "${MANPATH}" | sed 's/:/ /') -name '*.[1-8]*' | sed 's,^.*/\(.*\)\.\([1-8][a-zA-Z]*\).*$,\1(\2),'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    } \[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    -docstring %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        man [<page>]: manpage viewer wrapper[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        If no argument is passed to the command, the selection will be used as page[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        The page can be a word, or a word directly followed by a section number between parenthesis, e.g. kak(1)[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    } man %{ evaluate-commands %sh{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    subject=${1-$kak_selection}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    ## The completion suggestions display the page number, strip them if present[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    case "${subject}" in[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        *\([1-8]*\))[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m            pagenum="${subject##*\(}"[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m            pagenum="${pagenum%\)}"[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m            subject="${subject%%\(*}"[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m            ;;[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        *)[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m            pagenum=""[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m            ;;[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    esac[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    printf %s\\n "evaluate-commands -try-client %opt{docsclient} man-impl man $pagenum $subject"[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m} }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# The following section of code enables a user[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# to go to next or previous man page links and to follow man page links,[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# for example, apropos(1), that would normally appear in SEE ALSO sections.[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# The user would position the cursor on any character of the link[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# and then press <ret> to change to a buffer showing the man page.[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Regex pattern defining a man page link.[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Used for determining if a selection, which may just be a link, is a link.[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdeclare-option -hidden regex man_link1 \[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  [\w_.:-]+\(\d[a-z]*\)[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Same as above but with lookbehind and lookahead patterns.[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Used for searching for a man page link.[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdeclare-option -hidden regex man_link2 \[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  "(?:^|(?<=\W))%opt{man_link1}(?=\W)"[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Define a useful command sequence for searching a given regex[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# and a given sequence of search keys.[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdefine-command -hidden man-search -params 2 %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    set-register / %arg[1][0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    try %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        execute-keys %arg[2][0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    } catch %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        fail "Could not find man page link"[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdefine-command -docstring 'Go to next man page link' \[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mman-link-next %{ man-search %opt[man_link2] n }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdefine-command -docstring 'Go to previous man page link' \[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mman-link-prev %{ man-search %opt[man_link2] <a-n> }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdefine-command -docstring 'Try to jump to a man page' \[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mman-jump %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  try %{ execute-keys <a-a><a-w> s %opt[man_link1] <ret> } catch %{ fail 'Not a valid man page link' }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  try %{ man } catch %{ fail 'No man page link to follow' }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Suggested keymaps for a user mode[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdeclare-user-mode man[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mmap global man 'g' -docstring 'Jump to a man page using selected man page link' :man-jump<ret>[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mmap global man 'j' -docstring 'Go to next man page link'                        :man-link-next<ret>[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mmap global man 'k' -docstring 'Go to previous man page link'                    :man-link-prev<ret>[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mmap global man 'm' -docstring 'Look up a man page'                              :man<space>[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# http://daringfireball.net/projects/markdown[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# ‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Detection[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# ‾‾‾‾‾‾‾‾‾[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mhook global BufCreate .*[.](markdown|md|mkd) %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    set-option buffer filetype markdown[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Initialization[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# ‾‾‾‾‾‾‾‾‾‾‾‾‾‾[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mhook global WinSetOption filetype=markdown %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    require-module markdown[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    hook window ModeChange pop:insert:.* -group markdown-trim-indent markdown-trim-indent[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    hook window InsertChar \n -group markdown-insert markdown-insert-on-new-line[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    hook window InsertChar \n -group markdown-indent markdown-indent-on-new-line[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    hook -once -always window WinSetOption filetype=.* %{ remove-hooks window markdown-.+ }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mhook -group markdown-load-languages global WinSetOption filetype=markdown %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    markdown-load-languages '%'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mhook -group markdown-load-languages global WinSetOption filetype=markdown %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    hook -group markdown-load-languages window NormalIdle .* %{markdown-load-languages gtGbGl}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    hook -group markdown-load-languages window InsertIdle .* %{markdown-load-languages gtGbGl}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mhook -group markdown-highlight global WinSetOption filetype=markdown %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    add-highlighter window/markdown ref markdown[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    hook -once -always window WinSetOption filetype=.* %{ remove-highlighter window/markdown }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mprovide-module markdown %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Highlighters[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# ‾‾‾‾‾‾‾‾‾‾‾‾[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter shared/markdown regions[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter shared/markdown/inline default-region regions[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter shared/markdown/inline/text default-region group[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter shared/markdown/listblock region ^\h*[-*]\s ^(?=\S) regions[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter shared/markdown/listblock/g default-region group[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter shared/markdown/listblock/g/ ref markdown/inline[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter shared/markdown/listblock/g/marker regex ^\h*([-*])\s 1:bullet[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter shared/markdown/codeblock region -match-capture \[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    ^(\h*)```\h* \[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    ^(\h*)```\h*$ \[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    regions[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter shared/markdown/codeblock/ default-region fill meta[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter shared/markdown/listblock/codeblock region -match-capture \[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    ^(\h*)```\h* \[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    ^(\h*)```\h*$ \[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    regions[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter shared/markdown/listblock/codeblock/ default-region fill meta[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter shared/markdown/codeline region "^( {4}|\t)" "$" fill meta[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# https://spec.commonmark.org/0.29/#link-destination[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter shared/markdown/angle_bracket_url region (?<=<)([a-z]+://|(mailto|magnet|xmpp):) (?!\\).(?=>)|\n fill link[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter shared/markdown/inline/url region -recurse \( (\b[a-z]+://|(mailto|magnet|xmpp):) (?!\\).(?=\))|\s fill link[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter shared/markdown/listblock/angle_bracket_url region (?<=<)(\b[a-z]+://|(mailto|magnet|xmpp):) (?!\\).(?=>)|\n fill link[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mtry %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    require-module html[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    add-highlighter shared/markdown/inline/tag region (?i)</?[a-z][a-z0-9-]*\s*([a-z_:]|(?=>)) > ref html/tag[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter shared/markdown/inline/code region -match-capture (`+) (`+) fill mono[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Setext-style header[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter shared/markdown/inline/text/ regex (\A|^\n)[^\n]+\n={2,}\h*\n\h*$ 0:title[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter shared/markdown/inline/text/ regex (\A|^\n)[^\n]+\n-{2,}\h*\n\h*$ 0:header[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Atx-style header[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter shared/markdown/inline/text/ regex ^#[^\n]* 0:header[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter shared/markdown/inline/text/ regex (?<!\*)(\*([^\s*]|([^\s*](\n?[^\n*])*[^\s*]))\*)(?!\*) 1:+i[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter shared/markdown/inline/text/ regex (?<!_)(_([^\s_]|([^\s_](\n?[^\n_])*[^\s_]))_)(?!_) 1:+i[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter shared/markdown/inline/text/ regex (?<!\*)(\*\*([^\s*]|([^\s*](\n?[^\n*])*[^\s*]))\*\*)(?!\*) 1:+b[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter shared/markdown/inline/text/ regex (?<!_)(__([^\s_]|([^\s_](\n?[^\n_])*[^\s_]))__)(?!_) 1:+b[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter shared/markdown/inline/text/ regex ^\h*(>\h*)+ 0:comment[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter shared/markdown/inline/text/ regex "\H( {2,})$" 1:+r@meta[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Commands[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# ‾‾‾‾‾‾‾‾[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdefine-command markdown-load-languages -params 1 %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    evaluate-commands -draft %{ try %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        execute-keys "%arg{1}s```\h*\{?[.=]?\K\w+<ret>" # }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        evaluate-commands -itersel %{ try %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m            require-module %val{selection}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m            add-highlighter "shared/markdown/codeblock/%val{selection}" region -match-capture "^(\h*)```\h*(%val{selection}\b|\{[.=]?%val{selection}\})" ^(\h*)``` regions[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m            add-highlighter "shared/markdown/codeblock/%val{selection}/" default-region fill meta[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m            add-highlighter "shared/markdown/codeblock/%val{selection}/inner" region \A\h*```[^\n]*\K (?=```) ref %val{selection}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m            add-highlighter "shared/markdown/listblock/codeblock/%val{selection}" region -match-capture "^(\h*)```\h*(%val{selection}\b|\{[.=]?%val{selection}\})" ^(\h*)``` regions[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m            add-highlighter "shared/markdown/listblock/codeblock/%val{selection}/" default-region fill meta[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m            add-highlighter "shared/markdown/listblock/codeblock/%val{selection}/inner" region \A\h*```[^\n]*\K (?=```) ref %val{selection}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        }}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    }}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdefine-command -hidden markdown-trim-indent %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    evaluate-commands -no-hooks -draft -itersel %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        execute-keys x[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        # remove trailing white spaces[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        try %{ execute-keys -draft s \h + $ <ret> d }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdefine-command -hidden markdown-insert-on-new-line %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    try %{ execute-keys -draft -itersel k x s ^\h*\K((>\h*)+([*+-]\h)?|(>\h*)*[*+-]\h)\h* <ret> y gh j P }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdefine-command -hidden markdown-indent-on-new-line %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    evaluate-commands -draft -itersel %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        # preserve previous line indent[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        try %{ execute-keys -draft <semicolon> K <a-&> }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        # remove trailing white spaces[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        try %{ execute-keys -draft k x s \h+$ <ret> d }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# http://ruby-lang.org[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# ‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Detection[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# ‾‾‾‾‾‾‾‾‾[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mhook global BufCreate .*(([.](rb))|(irbrc)|(pryrc)|(Brewfile)|(Capfile|[.]cap)|(Gemfile|[.]gemspec)|(Guardfile)|(Rakefile|[.]rake)|(Thorfile|[.]thor)|(Vagrantfile)) %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    set-option buffer filetype ruby[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Initialization[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# ‾‾‾‾‾‾‾‾‾‾‾‾‾‾[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mhook global WinSetOption filetype=ruby %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    require-module ruby[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    set-option window static_words %opt{ruby_static_words}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    hook window ModeChange pop:insert:.* -group ruby-trim-indent ruby-trim-indent[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    hook window InsertChar .* -group ruby-indent ruby-indent-on-char[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    hook window InsertChar \n -group ruby-indent ruby-indent-on-new-line[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    hook window InsertChar \n -group ruby-insert ruby-insert-on-new-line[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    alias window alt ruby-alternative-file[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    hook -once -always window WinSetOption filetype=.* %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        remove-hooks window ruby-.+[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        unalias window alt ruby-alternative-file[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mhook -group ruby-highlight global WinSetOption filetype=ruby %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    add-highlighter window/ruby ref ruby[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    hook -once -always window WinSetOption filetype=.* %{ remove-highlighter window/ruby }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mprovide-module ruby %§[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Highlighters[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# ‾‾‾‾‾‾‾‾‾‾‾‾[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter shared/ruby regions[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter shared/ruby/code default-region group[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter shared/ruby/double_symbol region ':"' (?<!\\)(\\\\)*"                regions[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter shared/ruby/single_symbol region ":'" (?<!\\)(\\\\)*'                fill variable[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter shared/ruby/double_string region '"' (?<!\\)(\\\\)*"                 regions[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter shared/ruby/single_string region "'" (?<!\\)(\\\\)*'                 fill string[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter shared/ruby/backtick      region '(?<![$:])`' (?<!\\)(\\\\)*`        regions[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter shared/ruby/regex         region '(?<![$:])/' (?<!\\)(\\\\)*/[imox]* regions[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter shared/ruby/              region '#' '$'                             fill comment[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter shared/ruby/              region ^=begin ^=end                       fill comment[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter shared/ruby/              region -recurse \( '%[qwQW]?\(' \)         fill string[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter shared/ruby/              region -recurse \{ '%[qwQW]?\{' \}         fill string[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter shared/ruby/              region -recurse \[ '%[qwQW]?\[' \]         fill string[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter shared/ruby/              region -recurse  < '%[qwQW]?<'   >         fill string[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter shared/ruby/              region -recurse \( '%[isIS]\('  \)         fill variable[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter shared/ruby/              region -recurse \{ '%[isIS]\{'  \}         fill variable[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter shared/ruby/              region -recurse \[ '%[isIS]\['  \]         fill variable[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter shared/ruby/              region -recurse  < '%[isIS]<'    >         fill variable[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter shared/ruby/              region -recurse \( '%[rxRX]\('  \)         fill meta[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter shared/ruby/              region -recurse \{ '%[rxRX]\{'  \}         fill meta[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter shared/ruby/              region -recurse \[ '%[rxRX]\['  \]         fill meta[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter shared/ruby/              region -recurse  < '%[rxRX]<'    >         fill meta[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter shared/ruby/              region -match-capture '%[qwQW]?([^\s0-9A-Za-z\(\{\[<>\]\}\)])' ([^\s0-9A-Za-z\(\{\[<>\]\}\)]) fill string[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter shared/ruby/              region -match-capture '%[isIS]([^\s0-9A-Za-z\(\{\[<>\]\}\)])' ([^\s0-9A-Za-z\(\{\[<>\]\}\)]) fill variable[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter shared/ruby/              region -match-capture '%[rxRX]([^\s0-9A-Za-z\(\{\[<>\]\}\)])' ([^\s0-9A-Za-z\(\{\[<>\]\}\)]) fill meta[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter shared/ruby/heredoc region -match-capture '<<[-~]?(?!self)(\w+)'      '^\h*(\w+)$' fill string[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter shared/ruby/division region '[\w\)\]]\K(/|(\h+/\h+))' '\w' group # Help Kakoune to better detect /…/ literals[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Regular expression flags are: i → ignore case, m → multi-lines, o → only interpolate #{} blocks once, x → extended mode (ignore white spaces)[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Literals are: i → array of symbols, q → string, r → regular expression, s → symbol, w → array of words, x → capture shell result[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter shared/ruby/double_string/ default-region fill string[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter shared/ruby/double_string/interpolation region -recurse \{ \Q#{ \} fill meta[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter shared/ruby/double_symbol/ default-region fill variable[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter shared/ruby/double_symbol/interpolation region -recurse \{ \Q#{ \} fill meta[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter shared/ruby/backtick/ default-region fill meta[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter shared/ruby/backtick/interpolation region -recurse \{ \Q#{ \} fill meta[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter shared/ruby/regex/ default-region fill meta[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter shared/ruby/regex/interpolation region -recurse \{ \Q#{ \} fill meta[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mevaluate-commands %sh{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    # Grammar[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    # Keywords are collected searching for keywords at[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    # https://github.com/ruby/ruby/blob/trunk/parse.y[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    keywords="alias|and|begin|break|case|class|def|defined|do|else|elsif|end"[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    keywords="${keywords}|ensure|false|for|if|in|module|next|nil|not|or|private|protected|public|redo"[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    keywords="${keywords}|rescue|retry|return|self|super|then|true|undef|unless|until|when|while|yield"[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    attributes="attr_reader|attr_writer|attr_accessor"[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    values="false|true|nil"[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    meta="require|require_relative|include|extend"[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    # Add the language's grammar to the static completion list[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    printf %s\\n "declare-option str-list ruby_static_words ${keywords} ${attributes} ${values} ${meta}" | tr '|' ' '[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    # Highlight keywords[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    printf %s "[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        add-highlighter shared/ruby/code/ regex \b(${keywords})[^0-9A-Za-z_!?] 1:keyword[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        add-highlighter shared/ruby/code/ regex \b(${attributes})\b 0:attribute[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        add-highlighter shared/ruby/code/ regex \b(${values})\b 0:value[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        add-highlighter shared/ruby/code/ regex \b(${meta})\b 0:meta[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    "[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter shared/ruby/code/ regex \b(\w+:(?!:))|(:?(\$(-[0FIKWadilpvw]|["'`/~&+=!$*,:.\;<>?@\\])|(\$|@@?)\w+))|((?<!:):(![~=]|=~|>[=>]?|<((=>?)|<)?|[+\-]@?|\*\*?|===?|[/`%&!^|~]|(\w+[=?!]?)|(\[\]=?)))|([A-Z]\w*|^|\h)\K::(?=[A-Z]) 0:variable[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Commands[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# ‾‾‾‾‾‾‾‾[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdefine-command ruby-alternative-file -docstring 'Jump to the alternate file (implementation ↔ test)' %{ evaluate-commands %sh{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    case $kak_buffile in[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        *spec/*_spec.rb)[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m            altfile=$(eval echo $(echo $kak_buffile | sed s+spec/+'*'/+';'s/_spec//))[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m            [ ! -f $altfile ] && echo "fail 'implementation file not found'" && exit[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        ;;[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        *test/*_test.rb)[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m            altfile=$(eval echo $(echo $kak_buffile | sed s+test/+'*'/+';'s/_test//))[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m            [ ! -f $altfile ] && echo "fail 'implementation file not found'" && exit[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        ;;[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        *.rb)[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m            altfile=""[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m            altdir=""[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m            path=$kak_buffile[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m            dirs=$(while [ $path ]; do echo $path; path=${path%/*}; done | tail -n +2)[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m            for dir in $dirs; do[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m                altdir=$dir/spec && suffix=spec[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m                [ ! -d $altdir ] && altdir=$dir/test && suffix=test[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m                if [ -d $altdir ]; then[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m                    altfile=$altdir/$(realpath $kak_buffile --relative-to $dir | sed s+[^/]'*'/++';'s/.rb$/_${suffix}.rb/)[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m                    break[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m                fi[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m            done[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m            [ ! -d "$altdir" ] && echo "fail 'spec/ and test/ not found'" && exit[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        ;;[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        *)[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m            echo "fail 'alternative file not found'" && exit[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        ;;[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    esac[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    echo "edit $altfile"[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m}}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdefine-command -hidden ruby-trim-indent %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    evaluate-commands -no-hooks -draft -itersel %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        execute-keys x[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        # remove trailing white spaces[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        try %{ execute-keys -draft s \h + $ <ret> d }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdefine-command -hidden ruby-indent-on-char %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    evaluate-commands -no-hooks -draft -itersel %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        # align middle and end structures to start[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        try %{ execute-keys -draft x <a-k> ^ \h * (else)   $ <ret> <a-a> i <a-semicolon> <a-?> ^ \h * (if|case)                                               <ret> <a-S> 1<a-&> }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        try %{ execute-keys -draft x <a-k> ^ \h * (elsif)  $ <ret> <a-a> i <a-semicolon> <a-?> ^ \h * (if)                                                    <ret> <a-S> 1<a-&> }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        try %{ execute-keys -draft x <a-k> ^ \h * (when)   $ <ret> <a-a> i <a-semicolon> <a-?> ^ \h * (case)                                                  <ret> <a-S> 1<a-&> }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        try %{ execute-keys -draft x <a-k> ^ \h * (rescue) $ <ret> <a-a> i <a-semicolon> <a-?> ^ \h * (begin|def)                                             <ret> <a-S> 1<a-&> }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdefine-command -hidden ruby-indent-on-new-line %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    evaluate-commands -no-hooks -draft -itersel %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        # preserve previous line indent[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        try %{ execute-keys -draft K <a-&> }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        # filter previous line[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        try %{ execute-keys -draft k : ruby-trim-indent <ret> }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        # indent after start structure[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        try %{ execute-keys -draft k x <a-k> ^ \h * (begin|case|class|def|else|elsif|ensure|for|if|module|rescue|unless|until|when|while|.+\bdo$|.+\bdo\h\|.+(?=\|)) [^0-9A-Za-z_!?] <ret> j <a-gt> }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdefine-command -hidden ruby-insert-on-new-line %[[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    evaluate-commands -no-hooks -draft -itersel %[[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        # copy _#_ comment prefix and following white spaces[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        try %{ execute-keys -draft k x s ^\h*\K#\h* <ret> y jgi P }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        # wisely add end structure[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        evaluate-commands -save-regs x %[[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m            try %{ execute-keys -draft k x s ^ \h + <ret> \" x y } catch %{ reg x '' }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m            try %[[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m                evaluate-commands -draft %[[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m                    # Check if previous line opens a block[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m                    execute-keys -draft kx <a-k>^<c-r>x(begin|case|class|def|for|if|module|unless|until|while|.+\bdo$|.+\bdo\h\|.+(?=\|))[^0-9A-Za-z_!?]<ret>[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m                    # Check that we do not already have an end for this indent level which is first set via `ruby-indent-on-new-line` hook[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m                    execute-keys -draft }i J x <a-K> ^<c-r>x(end|else|elsif|rescue|when)[^0-9A-Za-z_!?]<ret>[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m                ][0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m                execute-keys -draft o<c-r>xend<esc> # insert a new line with containing end[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m            ][0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        ][0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    ][0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m][0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m§[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mhook global BufCreate .*\.((z|ba|c|k|mk)?sh(rc|_profile)?|profile) %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    set-option buffer filetype sh[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mhook global WinSetOption filetype=sh %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    require-module sh[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    set-option window static_words %opt{sh_static_words}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    hook window ModeChange pop:insert:.* -group sh-trim-indent sh-trim-indent[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    hook window InsertChar \n -group sh-insert sh-insert-on-new-line[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    hook window InsertChar \n -group sh-indent sh-indent-on-new-line[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    hook -once -always window WinSetOption filetype=.* %{ remove-hooks window sh-.+ }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mhook -group sh-highlight global WinSetOption filetype=sh %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    add-highlighter window/sh ref sh[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    hook -once -always window WinSetOption filetype=.* %{ remove-highlighter window/sh }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# using non-ascii characters here so that we can use the '[' command[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mprovide-module sh %§[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter shared/sh regions[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter shared/sh/code default-region group[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter shared/sh/arithmetic region -recurse \(.*?\( (\$|(?<=for)\h*)\(\( \)\) group[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter shared/sh/double_string region  %{(?<!\\)(?:\\\\)*\K"} %{(?<!\\)(?:\\\\)*"} group[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter shared/sh/single_string region %{(?<!\\)(?:\\\\)*\K'} %{'} fill string[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter shared/sh/expansion region -recurse (?<!\\)(?:\\\\)*\K\$\{ (?<!\\)(?:\\\\)*\K\$\{ \}|\n fill value[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter shared/sh/comment region (?<!\\)(?:\\\\)*(?:^|\h)\K# '$' fill comment[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter shared/sh/heredoc region -match-capture '<<-?\h*''?(\w+)''?' '^\t*(\w+)$' fill string[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter shared/sh/arithmetic/expansion ref sh/double_string/expansion[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter shared/sh/double_string/fill fill string[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mevaluate-commands %sh{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    # Grammar[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    # Generated with `compgen -k` in bash[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    keywords="if then else elif fi case esac for select while until do done in[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m             function time coproc"[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    # Generated with `compgen -b` in bash[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    builtins="alias bg bind break builtin caller cd command compgen complete[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m             compopt continue declare dirs disown echo enable eval exec[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m             exit export false fc fg getopts hash help history jobs kill[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m             let local logout mapfile popd printf pushd pwd read readarray[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m             readonly return set shift shopt source suspend test times trap[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m             true type typeset ulimit umask unalias unset wait"[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    join() { sep=$2; eval set -- $1; IFS="$sep"; echo "$*"; }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    # Add the language's grammar to the static completion list[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    printf %s\\n "declare-option str-list sh_static_words $(join "${keywords}" ' ') $(join "${builtins}" ' ')"[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    # Highlight keywords[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    printf %s\\n "add-highlighter shared/sh/code/ regex (?<!-)\b($(join "${keywords}" '|'))\b(?!-) 0:keyword"[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    # Highlight builtins[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    printf %s "add-highlighter shared/sh/code/builtin regex (?<!-)\b($(join "${builtins}" '|'))\b(?!-) 0:builtin"[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter shared/sh/code/operators regex [\[\]\(\)&|]{1,2} 0:operator[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter shared/sh/code/variable regex ((?<![-:])\b\w+)= 1:variable[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter shared/sh/code/alias regex \balias(\h+[-+]\w)*\h+([\w-.]+)= 2:variable[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter shared/sh/code/function regex ^\h*(\S+(?<!=))\h*\(\) 1:function[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter shared/sh/code/unscoped_expansion regex (?<!\\)(?:\\\\)*\K\$(\w+|#|@|\?|\$|!|-|\*) 0:value[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter shared/sh/double_string/expansion regex (?<!\\)(?:\\\\)*\K\$(\w+|#|@|\?|\$|!|-|\*|\{.+?\}) 0:value[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Commands[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# ‾‾‾‾‾‾‾‾[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdefine-command -hidden sh-trim-indent %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    # remove trailing white spaces[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    try %{ execute-keys -draft -itersel x s \h+$ <ret> d }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# This is at best an approximation, since shell syntax is very complex.[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Also note that this targets plain sh syntax, not bash - bash adds a whole[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# other level of complexity. If your bash code is fairly portable this will[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# probably work.[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m#[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Of necessity, this is also fairly opinionated about indentation styles.[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Doing it "properly" would require far more context awareness than we can[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# bring to this kind of thing.[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdefine-command -hidden sh-insert-on-new-line %[[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    evaluate-commands -draft -itersel %[[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        # copy '#' comment prefix and following white spaces[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        try %{ execute-keys -draft k x s ^\h*\K#\h* <ret> y gh j P }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    ][0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m][0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Use custom object matching to copy indentation for the various logical[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# blocks.[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m#[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Note that we're using a weird non-ascii character instead of [ or { here[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# because the '[' and '{' characters need to be available for the commands.[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdefine-command -hidden sh-indent-on-new-line %¶[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    evaluate-commands -draft -itersel %@[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        # preserve previous line indent[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        try %{ execute-keys -draft <semicolon> K <a-&> }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        # filter previous line[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        try %{ execute-keys -draft k : sh-trim-indent <ret> }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        # Indent loop syntax, e.g.:[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        # for foo in bar; do[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        #       things[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        # done[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        #[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        # or:[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        #[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        # while foo; do[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        #       things[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        # done[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        #[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        # or equivalently:[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        #[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        # while foo[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        # do[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        #       things[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        # done[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        #[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        # indent after do[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        try %{ execute-keys -draft , k x <a-k> \bdo$ <ret> j <a-gt> }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        # copy the indentation of the matching for/when - matching on the do[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        # statement, so we don't need to duplicate this for the two loop[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        # structures.[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        try %{ execute-keys -draft , k x <a-k> \bdone$ <ret> gh [c\bdo\b,\bdone\b <ret> x <a-S> 1<a-&> , j K <a-&> }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        # Indent if/then/else syntax, e.g.:[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        # if [ $foo = $bar ]; then[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        #       things[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        # else[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        #       other_things[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        # fi[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        #[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        # or equivalently:[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        # if [ $foo = $bar ][0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        # then[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        #       things[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        # else[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        #       other_things[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        # fi[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        #[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        # indent after then[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        try %{ execute-keys -draft , k x <a-k> \bthen$ <ret> j <a-gt> }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        # copy the indentation of the matching if[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        try %{ execute-keys -draft , k x <a-k> \bfi$ <ret> gh [c\bif\b,\bfi\b <ret> x <a-S> 1<a-&> , j K <a-&> }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        # copy the indentation of the matching if, and then re-indent afterwards[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        try %{ execute-keys -draft , k x <a-k> \belse$ <ret> gh [c\bif\b,\bfi\b <ret> x <a-S> 1<a-&> , j K <a-&> j <a-gt> }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        # Indent case syntax, e.g.:[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        # case "$foo" in[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        #       bar) thing1;;[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        #       baz)[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        #               things[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        #               ;;[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        #       *)[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        #               default_things[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        #               ;;[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        # esac[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        #[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        # or equivalently:[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        # case "$foo"[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        # in[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        #       bar) thing1;;[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        # esac[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        #[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        # indent after in[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        try %{ execute-keys -draft , k x <a-k> \bin$ <ret> j <a-gt> }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        # copy the indentation of the matching case[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        try %{ execute-keys -draft , k x <a-k> \besac$ <ret> gh [c\bcase\b,\besac\b <ret> x <a-S> 1<a-&> , j K <a-&> }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        # indent after )[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        try %{ execute-keys -draft , k x <a-k> ^\s*\(?[^(]+[^)]\)$ <ret> j <a-gt> }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        # deindent after ;;[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        try %{ execute-keys -draft , k x <a-k> ^\s*\;\;$ <ret> j <a-lt> }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        # Indent compound commands as logical blocks, e.g.:[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        # {[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        #       thing1[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        #       thing2[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        # }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        #[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        # or in a function definition:[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        # foo () {[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        #       thing1[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        #       thing2[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        # }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        #[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        # We don't handle () delimited compond commands - these are technically very[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        # similar, but the use cases are quite different and much less common.[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        #[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        # Note that in this context the '{' and '}' characters are reserved[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        # words, and hence must be surrounded by a token separator - typically[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        # white space (including a newline), though technically it can also be[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        # ';'. Only vertical white space makes sense in this context, though,[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        # since the syntax denotes a logical block, not a simple compound command.[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        try %= execute-keys -draft , k x <a-k> (\s|^)\{$ <ret> j <a-gt> =[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        # deindent closing }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        try %= execute-keys -draft , k x <a-k> ^\s*\}$ <ret> <a-lt> j K <a-&> =[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        # deindent closing } when after cursor[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        try %= execute-keys -draft x <a-k> ^\h*\} <ret> gh / \} <ret> m <a-S> 1<a-&> =[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    @[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m¶[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m§[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdeclare-option -hidden range-specs spell_regions[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdeclare-option -hidden str spell_last_lang[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdeclare-option -docstring "default language to use when none is passed to the spell-check command" str spell_lang[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdefine-command -params ..1 -docstring %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    spell [<language>]: spell check the current buffer[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    The first optional argument is the language against which the check will be performed (overrides `spell_lang`)[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    Formats of language supported:[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m      - ISO language code, e.g. 'en'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m      - language code above followed by a dash or underscore with an ISO country code, e.g. 'en-US'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    } spell %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    try %{ add-highlighter window/ ranges 'spell_regions' }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    evaluate-commands %sh{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        use_lang() {[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m            if ! printf %s "$1" | grep -qE '^[a-z]{2,3}([_-][A-Z]{2})?$'; then[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m                echo "fail 'Invalid language code (examples of expected format: en, en_US, en-US)'"[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m                exit 1[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m            else[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m                options="-l '$1'"[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m                printf 'set-option buffer spell_last_lang %s\n' "$1"[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m            fi[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        if [ $# -ge 1 ]; then[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m            use_lang "$1"[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        elif [ -n "${kak_opt_spell_lang}" ]; then[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m            use_lang "${kak_opt_spell_lang}"[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        fi[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        printf 'eval -no-hooks write %s\n' "${kak_response_fifo}" > $kak_command_fifo[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        {[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m            sed 's/^/^/' | eval "aspell --byte-offsets -a $options" 2>&1 | awk '[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m                BEGIN {[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m                    line_num = 1[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m                    regions = ENVIRON["kak_timestamp"][0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m                    server_command = sprintf("kak -p \"%s\"", ENVIRON["kak_session"])[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m                }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m                {[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m                    if (/^@\(#\)/) {[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m                        # drop the identification message[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m                    }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m                    else if (/^\*/) {[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m                        # nothing[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m                    }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m                    else if (/^[+-]/) {[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m                        # required to ignore undocumented aspell functionality[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m                    }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m                    else if (/^$/) {[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m                        line_num++[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m                    }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m                    else if (/^[#&]/) {[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m                        word_len = length($2)[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m                        word_pos = substr($0, 1, 1) == "&" ? substr($4, 1, length($4) - 1) : $3;[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m                        regions = regions " " line_num "." word_pos "+" word_len "|DiagnosticError"[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m                    }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m                    else {[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m                        line = $0[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m                        gsub(/"/, "&&", line)[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m                        command = "fail \"" line "\""[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m                        exit[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m                    }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m                }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m                END {[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m                    if (!length(command))[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m                        command = "set-option \"buffer=" ENVIRON["kak_bufname"] "\" spell_regions " regions[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m                    print command | server_command[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m                    close(server_command)[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m                }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m            '[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        } <$kak_response_fifo >/dev/null 2>&1 &[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdefine-command spell-clear %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    unset-option buffer spell_regions[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdefine-command spell-next %{ evaluate-commands %sh{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    anchor_line="${kak_selection_desc%%.*}"[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    anchor_col="${kak_selection_desc%%,*}"[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    anchor_col="${anchor_col##*.}"[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    start_first="${kak_opt_spell_regions%%|*}"[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    start_first="${start_first#* }"[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    # Make sure properly formatted selection descriptions are in `%opt{spell_regions}`[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    if ! printf %s "${start_first}" | grep -qE '^[0-9]+\.[0-9]+,[0-9]+\.[0-9]+$'; then[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        exit[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    fi[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    printf %s "${kak_opt_spell_regions#* }" | awk -v start_first="${start_first}" \[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m                                                  -v anchor_line="${anchor_line}" \[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m                                                  -v anchor_col="${anchor_col}" '[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        BEGIN {[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m            anchor_line = int(anchor_line)[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m            anchor_col = int(anchor_col)[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        {[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m            for (i = 1; i <= NF; i++) {[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m                sel = $i[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m                sub(/\|.+$/, "", sel)[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m                start_line = sel[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m                sub(/\..+$/, "", start_line)[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m                start_line = int(start_line)[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m                start_col = sel[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m                sub(/,.+$/, "", start_col)[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m                sub(/^.+\./, "", start_col)[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m                start_col = int(start_col)[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m                if (start_line < anchor_line \[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m                    || (start_line == anchor_line && start_col <= anchor_col))[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m                    continue[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m                target_sel = sel[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m                break[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m            }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        END {[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m            if (!target_sel)[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m                target_sel = start_first[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m            printf "select %s\n", target_sel[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        }'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m} }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdefine-command \[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    -docstring "Suggest replacement words for the current selection, against the last language used by the spell-check command" \[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    spell-replace %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    prompt \[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        -shell-script-candidates %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m            options=""[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m            if [ -n "$kak_opt_spell_last_lang" ]; then[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m                options="-l '$kak_opt_spell_last_lang'"[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m            fi[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m            printf %s "$kak_selection" |[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m                eval "aspell -a $options" |[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m                sed -n -e '/^&/ { s/^[^:]*: //; s/, /\n/g; p }'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        } \[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        "Replace with: " \[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m            evaluate-commands -save-regs a %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m                set-register a %val{text}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m                execute-keys c <c-r>a <esc>[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m            }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdefine-command -params 0.. \[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    -docstring "Add the current selection to the dictionary" \[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    spell-add %{ evaluate-commands %sh{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    options=""[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    if [ -n "$kak_opt_spell_last_lang" ]; then[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        options="-l '$kak_opt_spell_last_lang'"[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    fi[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    if [ $# -eq 0 ]; then[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        # use selections[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        eval set -- "$kak_quoted_selections"[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    fi[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    while [ $# -gt 0 ]; do[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        word="$1"[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        if ! printf '*%s\n#\n' "${word}" | eval "aspell -a $options" >/dev/null; then[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m           printf 'fail "Unable to add word: %s"' "$(printf %s "${word}" | sed 's/"/&&/g')"[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m           exit 1[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        fi[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        shift[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    done[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m}}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# https://www.w3schools.com/sql/default.asp[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# ‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Detection[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# ‾‾‾‾‾‾‾‾‾[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mhook global BufCreate .*/?(?i)sql %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    set-option buffer filetype sql[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Initialization[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# ‾‾‾‾‾‾‾‾‾‾‾‾‾‾[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mhook global WinSetOption filetype=sql %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    require-module sql[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    set-option window static_words %opt{sql_static_words}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mhook -group sql-highlight global WinSetOption filetype=sql %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    add-highlighter window/sql ref sql[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    hook -once -always window WinSetOption filetype=.* %{ remove-highlighter window/sql }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mprovide-module sql %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Highlighters[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# ‾‾‾‾‾‾‾‾‾‾‾‾[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter shared/sql regions[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter shared/sql/code default-region group[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter shared/sql/double_string region '"' (?<!\\)(\\\\)*" fill string[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter shared/sql/single_string region "'" (?<!\\)(\\\\)*' fill string[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter shared/sql/comment1 region '--' '$' fill comment[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter shared/sql/comment2 region '#' '$' fill comment[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter shared/sql/comment3 region '/\*' '\*/' fill comment[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mevaluate-commands %sh{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    # Keywords[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    keywords="ALTER|AS|ASC|AUTO_INCREMENT|CHECK|CONSTRAINT|CREATE|DATABASE|DEFAULT|DELETE|DESC|DISTINCT|DROP"[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    keywords="${keywords}|EXISTS|FOREIGN KEY|FROM|FULL JOIN|FULL OUTER JOIN|GROUP BY|HAVING|INDEX|INNER JOIN"[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    keywords="${keywords}|INSERT INTO|INTO|JOIN|LEFT JOIN|LEFT OUTER JOIN|LIMIT|MODIFY|NOT NULL|ON|ORDER BY|PRIMARY KEY"[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    keywords="${keywords}|REFERENCES|RIGHT JOIN|RIGHT OUTER JOIN|SELECT|SELECT TOP|SET|TABLE|TRUNCATE|UNION|UNIQUE"[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    keywords="${keywords}|UPDATE|VALUES|VIEW|WHERE"[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    # Operators[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    operators="ALL|AND|ANY|BETWEEN|EXISTS|IN|IS|LIKE|NOT|OR|SOME"[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    # MySQL functions[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    functions="ABS|ACOS|ADDDATE|ADDTIME|ASCII|ASIN|ATAN|AVG|BIN|BINARY|CASE|CAST|CEIL|CEILING"[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    functions="${functions}|CHARACTER_LENGTH|CHAR_LENGTH|COALESCE|CONCAT|CONCAT_WS|CONNECTION_ID|CONV|CONVERT"[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    functions="${functions}|COS|COT|COUNT|CURDATE|CURRENT_DATE|CURRENT_TIME|CURRENT_TIMESTAMP|CURRENT_USER"[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    functions="${functions}|CURTIME|DATABASE|DATE|DATE_ADD|DATEDIFF|DATE_FORMAT|DATE_SUB|DAY|DAYNAME"[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    functions="${functions}|DAYOFMONTH|DAYOFWEEK|DAYOFYEAR|DEGREES|DIV|EXP|EXTRACT|FIELD|FIND_IN_SET|FLOOR"[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    functions="${functions}|FORMAT|FROM_DAYS|GREATEST|HOUR|IF|IFNULL|INSERT|INSTR|ISNULL|LAST_DAY"[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    functions="${functions}|LAST_INSERT_ID|LCASE|LEAST|LEFT|LENGTH|LN|LOCALTIME|LOCALTIMESTAMP|LOCATE|LOG"[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    functions="${functions}|LOWER|LPAD|LTRIM|MAKEDATE|MAKETIME|MAX|MICROSECOND|MID|MIN|MINUTE|MOD|MONTH"[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    functions="${functions}|MONTHNAME|NOW|NULLIF|PERIOD_ADD|PERIOD_DIFF|PI|POSITION|POW|POWER|QUARTER|RADIANS"[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    functions="${functions}|RAND|REPEAT|REPLACE|REVERSE|RIGHT|ROUND|RPAD|RTRIM|SECOND|SEC_TO_TIME|SESSION_USER"[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    functions="${functions}|SIGN|SIN|SPACE|SQRT|STRCMP|STR_TO_DATE|SUBDATE|SUBSTR|SUBSTRING|SUBSTRING_INDEX"[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    functions="${functions}|SUBTIME|SUM|SYSDATE|SYSTEM_USER|TAN|TIME|TIMEDIFF|TIME_FORMAT|TIMESTAMP"[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    functions="${functions}|TIME_TO_SEC|TO_DAYS|TRIM|TRUNCATE|UCASE|UPPER|USER|VERSION|WEEK|WEEKDAY|WEEKOFYEAR"[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    functions="${functions}|YEAR|YEARWEEK"[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    # SQL Server functions[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    functions="${functions}|CHAR|CHARINDEX|DATALENGTH|DATEADD|DATENAME|DATEPART|GETDATE|GETUTCDATE|ISDATE"[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    functions="${functions}|ISNUMERIC|LEN|NCHAR|PATINDEX|SESSIONPROPERTY|STR|STUFF|USER_NAME"[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    # MS Access functions[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    functions="${functions}|Abs|Asc|Atn|Avg|Chr|Cos|Count|CurDir|CurrentUser|Date|DateAdd|DateDiff|DatePart"[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    functions="${functions}|DateSerial|DateValue|Day|Environ|Exp|Fix|Format|Hour|InStr|InstrRev|Int|IsDate"[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    functions="${functions}|IsNull|IsNumeric|LCase|Left|Len|LTrim|Max|Mid|Min|Minute|Month|MonthName|Now"[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    functions="${functions}|Randomize|Replace|Right|Rnd|Round|RTrim|Second|Sgn|Space|Split|Sqr|Str|StrComp"[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    functions="${functions}|StrConv|StrReverse|Sum|Time|TimeSerial|TimeValue|Trim|UCase|Val|Weekday"[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    functions="${functions}|WeekdayName|Year"[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    # Oracle functions[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    functions="${functions}|ADD_MONTHS|ASCIISTR|BITAND|CHR|COMPOSE|COSH|DBTIMEZONE|DECOMPOSE|DUMP|INITCAP|INSTRB"[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    functions="${functions}|INSTRC|LENGTHB|LENGTHC|MEDIAN|MONTHS_BETWEEN|NCHR|NEW_TIME|NEXT_DAY|REGEXP_COUNT"[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    functions="${functions}|REGEXP_INSTR|REGEXP_REPLACE|REGEXP_SUBSTR|REMAINDER|ROWNUM|SESSIONTIMEZONE|SOUNDEX"[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    functions="${functions}|SYSTIMESTAMP|TANH|TRANSLATE|TRUNC|TZ_OFFSET|VSIZE"[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    # MySQL data types[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    data_types="LONGBLOB|LONGTEXT|MEDIUMBLOB|MEDIUMTEXT|SET|TEXT|TINYTEXT"[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    data_types_fn="BIGINT|BLOB|CHAR|DATE|DATETIME|DECIMAL|DOUBLE|ENUM|FLOAT|INT"[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    data_types_fn="${data_types_fn}|MEDIUMINT|SMALLINT|TIME|TIMESTAMP|TINYINT|VARCHAR|YEAR"[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    # SQL Server data types[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    data_types="${data_types}|bigint|bit|cursor|date|datetime|datetime2|datetimeoffset|image|int|money|nchar|ntext"[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    data_types="${data_types}|nvarchar|real|smalldatetime|smallint|smallmoney|sql_variant|table|text|time"[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    data_types="${data_types}|timestamp|tinyint|uniqueidentifier|varbinary|xml"[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    data_types_fn="${data_types_fn}|binary|char|decimal|float|numeric|nvarchar|varbinary|varchar|varchar"[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    # MS Access data types[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    data_types="${data_types}|Text|Memo|Byte|Integer|Long|Single|Double|Currency|AutoNumber|Date"[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    data_types="${data_types}|Time|Ole Object|Hyperlink|Lookup Wizard"[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    # Add the language's grammar to the static completion list[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    printf %s\\n "declare-option str-list sql_static_words ${keywords} ${operators} ${functions} ${data_types} ${data_types_fn} NULL" | tr '|' ' '[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    # Highlight keywords[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    printf %s "[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        add-highlighter shared/sql/code/ regex '(?i)\b(${functions})\(.*?\)' 0:function[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        add-highlighter shared/sql/code/ regex '(?i)\b(${data_types_fn})\(.*?\)' 0:type[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        add-highlighter shared/sql/code/ regex '(?i)\b(${keywords})\b' 0:keyword[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        add-highlighter shared/sql/code/ regex '(?i)\b(${operators})\b' 0:operator[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        add-highlighter shared/sql/code/ regex '(?i)\b(${data_types})\b' 0:type[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    "[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter shared/sql/code/ regex '\+|-|\*|/|%|&|\||^|=|>|<|>=|<=|<>|\+=|-=|\*=|/=|%=|&=|^-=|\|\*=' 0:operator[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter shared/sql/code/ regex \bNULL\b 0:value[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter shared/sql/code/ regex \b\d+(?:\.\d+)?\b 0:value[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# http://yaml.org[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# ‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Detection[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# ‾‾‾‾‾‾‾‾‾[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mhook global BufCreate .*[.](ya?ml) %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    set-option buffer filetype yaml[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Initialization[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# ‾‾‾‾‾‾‾‾‾‾‾‾‾‾[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mhook global WinSetOption filetype=yaml %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    require-module yaml[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    hook window ModeChange pop:insert:.* -group yaml-trim-indent yaml-trim-indent[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    hook window InsertChar \n -group yaml-insert yaml-insert-on-new-line[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    hook window InsertChar \n -group yaml-indent yaml-indent-on-new-line[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    hook -once -always window WinSetOption filetype=.* %{ remove-hooks window yaml-.+ }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mhook -group yaml-highlight global WinSetOption filetype=yaml %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    add-highlighter window/yaml ref yaml[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    hook -once -always window WinSetOption filetype=.* %{ remove-highlighter window/yaml }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mprovide-module yaml %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Highlighters[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# ‾‾‾‾‾‾‾‾‾‾‾‾[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter shared/yaml regions[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter shared/yaml/code      default-region group[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter shared/yaml/double_string region '"' (?<!\\)(\\\\)*"       fill string[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter shared/yaml/single_string region "'" "'"                   fill string[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter shared/yaml/comment       region '(?:^| )#' $              fill comment[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter shared/yaml/code/ regex ^(---|\.\.\.)$ 0:meta[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter shared/yaml/code/ regex ^(\h*:\w*) 0:keyword[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter shared/yaml/code/ regex \b(true|false|null)\b 0:value[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter shared/yaml/code/ regex ^\h*-?\h*(\S+): 1:attribute[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Commands[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# ‾‾‾‾‾‾‾‾[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdefine-command -hidden yaml-trim-indent %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    # remove trailing white spaces[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    try %{ execute-keys -draft -itersel x s \h+$ <ret> d }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdefine-command -hidden yaml-insert-on-new-line %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    evaluate-commands -draft -itersel %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        # copy '#' comment prefix and following white spaces[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        try %{ execute-keys -draft k x s ^\h*\K#\h* <ret> y gh j P }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdefine-command -hidden yaml-indent-on-new-line %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    evaluate-commands -draft -itersel %{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        # preserve previous line indent[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        try %{ execute-keys -draft <semicolon> K <a-&> }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        # filter previous line[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        try %{ execute-keys -draft k : yaml-trim-indent <ret> }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        # indent after :[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        try %{ execute-keys -draft , k x <a-k> :$ <ret> j <a-gt> }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        # indent after -[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        try %{ execute-keys -draft , k x <a-k> ^\h*- <ret> j <a-gt> }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# ~/.config/kak/colors/dracula.kak[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Dracula theme for Kakoune[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# https://draculatheme.com/kakoune[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m#[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Color palette[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# https://spec.draculatheme.com[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m#[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Template[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# https://github.com/mawww/kakoune/blob/master/colors/default.kak[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m#[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Faces[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# https://github.com/mawww/kakoune/blob/master/doc/pages/faces.asciidoc[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m#[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# A fully spec‐compliant theme implementation:[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# https://draculatheme.com/visual-studio-code[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# https://github.com/dracula/visual-studio-code/blob/master/src/dracula.yml[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m#[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# A list of files to open in Kakoune and VS Code:[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# C++ ⇒ https://github.com/mawww/kakoune/tree/master/src[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# AsciiDoc ⇒ https://github.com/mawww/kakoune/tree/master/doc[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Color palette ────────────────────────────────────────────────────────────────[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Standard[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdeclare-option str background '282a36'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdeclare-option str foreground 'f8f8f2'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdeclare-option str selection '44475a'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdeclare-option str comment '6272a4'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdeclare-option str red 'ff5555'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdeclare-option str orange 'ffb86c'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdeclare-option str yellow 'f1fa8c'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdeclare-option str green '50fa7b'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdeclare-option str purple 'bd93f9'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdeclare-option str cyan '8be9fd'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdeclare-option str pink 'ff79c6'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# ANSI[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdeclare-option str black '21222c'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdeclare-option str red 'ff5555'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdeclare-option str green '50fa7b'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdeclare-option str yellow 'f1fa8c'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdeclare-option str blue 'bd93f9'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdeclare-option str magenta 'ff79c6'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdeclare-option str cyan '8be9fd'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdeclare-option str white 'f8f8f2'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdeclare-option str bright_black '6272a4'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdeclare-option str bright_red 'ff6e6e'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdeclare-option str bright_green '69ff94'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdeclare-option str bright_yellow 'ffffa5'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdeclare-option str bright_blue 'd6acff'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdeclare-option str bright_magenta 'ff92df'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdeclare-option str bright_cyan 'a4ffff'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdeclare-option str bright_white 'ffffff'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Alpha blending[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdeclare-option str cursor_alpha '99'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdeclare-option str selection_alpha '80'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# UI variants[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# <https://github.com/dracula/visual-studio-code/blob/master/src/dracula.yml#:~:text=UI Variants>[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdeclare-option str background_lighter '424450'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdeclare-option str background_light '343746'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdeclare-option str background_dark '21222c'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdeclare-option str background_darker '191a21'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Other[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# https://github.com/dracula/visual-studio-code/blob/master/src/dracula.yml#:~:text=other[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdeclare-option str non_text "%opt{background_light}"[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Template ─────────────────────────────────────────────────────────────────────[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# For code[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global value "rgb:%opt{purple}" # C++ ⇒ int number = [42];[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global type "rgb:%opt{pink}" # C++ ⇒ [int] main() { ... }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global variable "rgb:%opt{cyan}" # Makefile ⇒ [install]:[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global module "rgb:%opt{yellow}" # C++ ⇒ #include [<stdio.h>][0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global function "rgb:%opt{green}" # https://spec.draculatheme.com#FunctionNames[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global string "rgb:%opt{yellow}" # https://spec.draculatheme.com#String[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global keyword "rgb:%opt{pink}" # https://spec.draculatheme.com#Keyword[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global operator "rgb:%opt{pink}" # Shell ⇒ true [&&] false[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global attribute "rgb:%opt{pink}" # C++ ⇒ [enum] Color { ... };[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global comment "rgb:%opt{comment}" # https://spec.draculatheme.com#Comment[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global documentation comment # Rust ⇒ /// Returns `true`.[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global meta "rgb:%opt{pink}" # C++ ⇒ [#include] <stdio.h>[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global builtin "rgb:%opt{cyan}+i" # https://spec.draculatheme.com#Support[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Diffs[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# https://spec.draculatheme.com#sec-Diffs[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global DiffText "rgb:%opt{comment}"[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global DiffHeader "rgb:%opt{comment}"[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global DiffInserted "rgb:%opt{green},rgba:%opt{green}20" # https://github.com/dracula/visual-studio-code/blob/master/src/dracula.yml#:~:text=diffEditor.insertedTextBackground[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global DiffDeleted "rgb:%opt{red},rgba:%opt{red}50" # https://github.com/dracula/visual-studio-code/blob/master/src/dracula.yml#:~:text=diffEditor.removedTextBackground[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global DiffChanged "rgb:%opt{orange}"[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# For markup[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global title "rgb:%opt{purple}+b" # AsciiDoc ⇒ = Document title — https://spec.draculatheme.com#MarkupHeading[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global header "rgb:%opt{purple}+b" # AsciiDoc ⇒ == Section title — https://spec.draculatheme.com#MarkupHeading[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global mono "rgb:%opt{green}" # AsciiDoc ⇒ `code` — https://spec.draculatheme.com#MarkupInlineCode[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global block "rgb:%opt{orange}" # AsciiDoc ⇒ [----][code][----] — https://spec.draculatheme.com#MarkupCodeBlockWithoutSyntax[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global link "rgb:%opt{cyan}" # Markdown ⇒ <https://draculatheme.com> — https://spec.draculatheme.com#MarkupLinkUrl[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global bullet "rgb:%opt{cyan}" # https://spec.draculatheme.com#MarkupListBulletOrNumber[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global list "rgb:%opt{foreground}" # AsciiDoc ⇒ - [item][0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Builtin faces[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global Default "rgb:%opt{foreground},rgb:%opt{background}" # Editor background[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global PrimarySelection "default,rgba:%opt{pink}%opt{selection_alpha}" # Pink (alpha-blended)[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global SecondarySelection "default,rgba:%opt{purple}%opt{selection_alpha}" # Purple (alpha-blended)[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global PrimaryCursor "default,rgba:%opt{pink}%opt{cursor_alpha}" # Pink (alpha-blended)[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global SecondaryCursor "default,rgba:%opt{purple}%opt{cursor_alpha}" # Purple (alpha-blended)[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global PrimaryCursorEol "rgb:%opt{background},rgb:%opt{foreground}+fg" # White (full block)[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global SecondaryCursorEol "rgb:%opt{background},rgb:%opt{foreground}+fg" # White (full block)[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global MenuForeground "rgb:%opt{foreground},rgb:%opt{selection}" # https://github.com/dracula/visual-studio-code/blob/master/src/dracula.yml#:~:text=editorSuggestWidget.selectedBackground[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global MenuBackground "rgb:%opt{foreground},rgb:%opt{background_dark}" # https://github.com/dracula/visual-studio-code/blob/master/src/dracula.yml#:~:text=editorSuggestWidget.background[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global MenuInfo "rgb:%opt{comment}" # IntelliSense suggestions[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global Information Default # Contextual help blends with the editor background.[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global Error "rgb:%opt{foreground},rgb:%opt{red}" # https://spec.draculatheme.com#Invalid[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global DiagnosticError "rgb:%opt{red}" # https://github.com/dracula/visual-studio-code/blob/master/src/dracula.yml#:~:text=editorError.foreground[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global DiagnosticWarning "rgb:%opt{cyan}" # https://github.com/dracula/visual-studio-code/blob/master/src/dracula.yml#:~:text=editorWarning.foreground[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global StatusLine "rgb:%opt{foreground},rgb:%opt{background_dark}" # Prefer background dark here — https://github.com/dracula/visual-studio-code/blob/master/src/dracula.yml#:~:text=statusBar.background[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global StatusLineMode "rgb:%opt{green}" # [insert][0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global StatusLineInfo "rgb:%opt{purple}" # 1 sel[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global StatusLineValue "rgb:%opt{green}" # 1 sel param=[42] reg=[y][0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global StatusCursor "rgb:%opt{background},rgb:%opt{foreground}" # Cursor in command mode[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global Prompt StatusLine # Same as the status line, since they live at the same place.[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global BufferPadding "rgb:%opt{non_text}" # Kakoune ⇒ set-option global ui_options terminal_padding_fill=yes[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Builtin highlighter faces[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global LineNumbers "rgb:%opt{non_text}" # Kakoune ⇒ add-highlighter -override global/number-lines number-lines — Prefer non-text here — https://github.com/dracula/visual-studio-code/blob/master/src/dracula.yml#:~:text=editorLineNumber[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global LineNumberCursor "rgb:%opt{foreground}" # Kakoune ⇒ add-highlighter -override global/number-lines number-lines -hlcursor[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global LineNumbersWrapped "rgb:%opt{background}" # Kakoune ⇒ add-highlighter -override global/number-lines number-lines; add-highlighter -override global/wrap wrap[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global MatchingChar "rgb:%opt{green}+uf" # Kakoune ⇒ add-highlighter -override global/show-matching show-matching — https://github.com/dracula/vim/blob/master/colors/dracula.vim#:~:text=MatchParen[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global Whitespace "rgb:%opt{non_text}+f" # Kakoune ⇒ add-highlighter -override global/show-whitespaces show-whitespaces[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global WrapMarker "rgb:%opt{non_text}" # Kakoune ⇒ add-highlighter -override global/wrap wrap -marker '↪'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# ~/.config/kak/colors/dracula.kak[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m##[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m## base16.kak by lenormf[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m##[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mevaluate-commands %sh{[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    black_lighterer='rgb:383838'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    black_lighter='rgb:2D2D2D'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    black_light='rgb:1C1C1C'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    cyan_light='rgb:7CB0FF'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    green_dark='rgb:A1B56C'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    grey_dark='rgb:585858'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    grey_light='rgb:D8D8D8'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    magenta_dark='rgb:AB4642'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    magenta_light='rgb:AB4434'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    orange_dark='rgb:DC9656'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    orange_light='rgb:F7CA88'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    purple_dark='rgb:BA8BAF'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    ## code[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    echo "[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        face global value ${orange_dark}+b[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        face global type ${orange_light}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        face global variable ${magenta_dark}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        face global module ${green_dark}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        face global function ${cyan_light}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        face global string ${green_dark}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        face global keyword ${purple_dark}+b[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        face global operator ${cyan_light}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        face global attribute ${orange_dark}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        face global comment ${grey_dark}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        face global documentation comment[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        face global meta ${orange_light}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        face global builtin default+b[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    "[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    ## markup[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    echo "[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        face global title blue[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        face global header ${cyan_light}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        face global mono ${green_dark}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        face global block ${orange_dark}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        face global link blue[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        face global bullet ${magenta_light}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        face global list ${magenta_dark}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    "[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    ## builtin[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    echo "[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        face global Default ${grey_light},${black_lighter}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        face global PrimarySelection white,blue+fg[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        face global SecondarySelection black,blue+fg[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        face global PrimaryCursor black,white+fg[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        face global SecondaryCursor black,white+fg[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        face global PrimaryCursorEol black,${cyan_light}+fg[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        face global SecondaryCursorEol black,${cyan_light}+fg[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        face global LineNumbers ${grey_light},${black_lighter}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        face global LineNumberCursor ${grey_light},rgb:282828+b[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        face global MenuForeground ${grey_light},blue[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        face global MenuBackground blue,${grey_light}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        face global MenuInfo ${cyan_light}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        face global Information ${black_light},${cyan_light}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        face global Error ${grey_light},${magenta_light}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        face global DiagnosticError ${magenta_light}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        face global DiagnosticWarning ${cyan_light}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        face global StatusLine ${grey_light},${black_lighterer}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        face global StatusLineMode ${orange_dark}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        face global StatusLineInfo ${cyan_light}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        face global StatusLineValue ${green_dark}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        face global StatusCursor ${black_lighterer},${cyan_light}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        face global Prompt ${black_light},${cyan_light}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        face global MatchingChar ${cyan_light},${black_light}+b[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        face global BufferPadding ${cyan_light},${black_lighter}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m        face global Whitespace ${grey_dark}+f[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m    "[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m}[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Kakoune default color scheme[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# For Code[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mface global value red[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mface global type yellow[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mface global variable green[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mface global module green[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mface global function cyan[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mface global string magenta[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mface global keyword blue[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mface global operator yellow[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mface global attribute green[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mface global comment cyan[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mface global documentation comment[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mface global meta magenta[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mface global builtin default+b[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# For markup[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mface global title blue[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mface global header cyan[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mface global mono green[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mface global block magenta[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mface global link cyan[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mface global bullet cyan[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mface global list yellow[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# builtin faces[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mface global Default default,default[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mface global PrimarySelection white,blue+fg[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mface global SecondarySelection black,blue+fg[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mface global PrimaryCursor black,white+fg[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mface global SecondaryCursor black,white+fg[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mface global PrimaryCursorEol black,cyan+fg[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mface global SecondaryCursorEol black,cyan+fg[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mface global LineNumbers default,default[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mface global LineNumberCursor default,default+r[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mface global MenuForeground white,blue[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mface global MenuBackground blue,white[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mface global MenuInfo cyan[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mface global Information black,yellow[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mface global Error black,red[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mface global DiagnosticError red[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mface global DiagnosticWarning yellow[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mface global StatusLine cyan,default[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mface global StatusLineMode yellow,default[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mface global StatusLineInfo blue,default[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mface global StatusLineValue green,default[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mface global StatusCursor black,cyan[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mface global Prompt yellow,default[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mface global MatchingChar default,default+b[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mface global Whitespace default,default+fd[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mface global BufferPadding blue,default[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# ~/.config/kak/colors/dracula.kak[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224msource "%val{runtime}/colors/default.kak"[0m[48;2;255;224;224m[0K[0m

[33mcommit c5a9a2f90734239877e98197f9a8aaeb63ba824a[m
Author: Mathieu Ablasou <taupiqueur.kanto@gmail.com>
Date:   2023-04-15 11:34:54 +0200

    2023-04-15 11:34:54


[34mremoved: .config/kak/autoload/sensible.asciidoc[0m
[34m────────────────────────────────────────────────────────────────────────────────[0m

[34m───[0m[34m┐[0m
[34m0[0m: [34m│[0m
[34m───[0m[34m┘[0m
[48;2;255;224;224m= Search[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mSearch command.[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m== Usage[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mEnter `search` and start typing to search.[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mPress `Tab` to skim through the occurrences.[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mShow search with `show-search` or enter search mode then `Escape`.[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m== Configuration[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mShow search:[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m== add-cursor-character-unicode-expansion[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mShow Unicode value in the status line.[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mRun `add-cursor-character-unicode-expansion` and add `%opt{cursor_character_unicode}` expansion to your status line.[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m--------------------------------------------------------------------------------[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-cursor-character-unicode-expansion[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-option global modelinefmt '%opt{cursor_character_unicode}'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m--------------------------------------------------------------------------------[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd `%opt{cursor_character_unicode}` expansion.[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m== show-selected-text[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m--------------------------------------------------------------------------------[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mshow-selected-text[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m--------------------------------------------------------------------------------[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mBlue (alpha-blended) face:[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m--------------------------------------------------------------------------------[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global SelectedText "default,rgba:%opt{blue}%opt{selection_alpha}" # Blue (alpha-blended)[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m--------------------------------------------------------------------------------[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m== hide-selected-text[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m--------------------------------------------------------------------------------[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mshow-search[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m--------------------------------------------------------------------------------[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mEnter search mode:[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m--------------------------------------------------------------------------------[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mmap -docstring 'search' global normal f ':search<ret>'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m--------------------------------------------------------------------------------[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mEnter a specific search mode:[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m--------------------------------------------------------------------------------[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mmap -docstring 'search (replace)' global normal f ':search<ret>r'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mmap -docstring 'search (extend)' global normal F ':search<ret>e'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mmap -docstring 'search (append)' global normal <a-f> ':search<ret>a'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m--------------------------------------------------------------------------------[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mWhite (alpha-blended) faces:[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m--------------------------------------------------------------------------------[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global Search "default,rgba:%opt{white}%opt{selection_alpha}" # White (alpha-blended)[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global SearchBackground 'white'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global SearchOccurrence 'yellow+b'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m--------------------------------------------------------------------------------[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m== Commands[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m- `search`[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m- `show-search`[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m- `hide-search`[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m== Prompt commands[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m- `Tab` ⇒ Next[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m- `Shift+Tab` ⇒ Previous[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m- `Control+T` ⇒ Window top[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m- `Control+B` ⇒ Window bottom[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m== Faces[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m- `Search`[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m- `SearchBackground`[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m- `SearchOccurrence`[0m[48;2;255;224;224m[0K[0m

[34mremoved: .config/kak/colors/dracula.kak[0m
[34m────────────────────────────────────────────────────────────────────────────────[0m

[34m───[0m[34m┐[0m
[34m0[0m: [34m│[0m
[34m───[0m[34m┘[0m
[48;2;255;224;224m# Dracula theme for Kakoune[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# https://draculatheme.com/kakoune[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m#[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Color palette[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# https://spec.draculatheme.com[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m#[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Template[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# https://github.com/mawww/kakoune/blob/master/colors/default.kak[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m#[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Faces[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# https://github.com/mawww/kakoune/blob/master/doc/pages/faces.asciidoc[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m#[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# A fully spec‐compliant theme implementation:[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# https://draculatheme.com/visual-studio-code[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# https://github.com/dracula/visual-studio-code/blob/master/src/dracula.yml[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m#[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# A list of files to open in Kakoune and VS Code:[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# C++ ⇒ https://github.com/mawww/kakoune/tree/master/src[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# AsciiDoc ⇒ https://github.com/mawww/kakoune/tree/master/doc[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Color palette ────────────────────────────────────────────────────────────────[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Standard[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdeclare-option str background '282a36'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdeclare-option str foreground 'f8f8f2'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdeclare-option str selection '44475a'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdeclare-option str comment '6272a4'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdeclare-option str red 'ff5555'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdeclare-option str orange 'ffb86c'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdeclare-option str yellow 'f1fa8c'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdeclare-option str green '50fa7b'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdeclare-option str purple 'bd93f9'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdeclare-option str cyan '8be9fd'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdeclare-option str pink 'ff79c6'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# ANSI[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdeclare-option str black '21222c'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdeclare-option str red 'ff5555'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdeclare-option str green '50fa7b'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdeclare-option str yellow 'f1fa8c'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdeclare-option str blue 'bd93f9'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdeclare-option str magenta 'ff79c6'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdeclare-option str cyan '8be9fd'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdeclare-option str white 'f8f8f2'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdeclare-option str bright_black '6272a4'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdeclare-option str bright_red 'ff6e6e'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdeclare-option str bright_green '69ff94'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdeclare-option str bright_yellow 'ffffa5'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdeclare-option str bright_blue 'd6acff'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdeclare-option str bright_magenta 'ff92df'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdeclare-option str bright_cyan 'a4ffff'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdeclare-option str bright_white 'ffffff'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Alpha blending[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdeclare-option str cursor_alpha '99'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdeclare-option str selection_alpha '80'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# UI variants[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# <https://github.com/dracula/visual-studio-code/blob/master/src/dracula.yml#:~:text=UI Variants>[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdeclare-option str background_lighter '424450'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdeclare-option str background_light '343746'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdeclare-option str background_dark '21222c'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdeclare-option str background_darker '191a21'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Other[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# https://github.com/dracula/visual-studio-code/blob/master/src/dracula.yml#:~:text=other[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdeclare-option str non_text "%opt{background_light}"[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Template ─────────────────────────────────────────────────────────────────────[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# For code[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global value "rgb:%opt{purple}" # C++ ⇒ int number = [42];[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global type "rgb:%opt{pink}" # C++ ⇒ [int] main() { ... }[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global variable "rgb:%opt{cyan}" # Makefile ⇒ [install]:[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global module "rgb:%opt{yellow}" # C++ ⇒ #include [<stdio.h>][0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global function "rgb:%opt{green}" # https://spec.draculatheme.com#FunctionNames[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global string "rgb:%opt{yellow}" # https://spec.draculatheme.com#String[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global keyword "rgb:%opt{pink}" # https://spec.draculatheme.com#Keyword[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global operator "rgb:%opt{pink}" # Shell ⇒ true [&&] false[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global attribute "rgb:%opt{pink}" # C++ ⇒ [enum] Color { ... };[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global comment "rgb:%opt{comment}" # https://spec.draculatheme.com#Comment[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global documentation comment # Rust ⇒ /// Returns `true`.[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global meta "rgb:%opt{pink}" # C++ ⇒ [#include] <stdio.h>[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global builtin "rgb:%opt{cyan}+i" # https://spec.draculatheme.com#Support[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Diffs[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# https://spec.draculatheme.com#sec-Diffs[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global DiffText "rgb:%opt{comment}"[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global DiffHeader "rgb:%opt{comment}"[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global DiffInserted "rgb:%opt{green},rgba:%opt{green}20" # https://github.com/dracula/visual-studio-code/blob/master/src/dracula.yml#:~:text=diffEditor.insertedTextBackground[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global DiffDeleted "rgb:%opt{red},rgba:%opt{red}50" # https://github.com/dracula/visual-studio-code/blob/master/src/dracula.yml#:~:text=diffEditor.removedTextBackground[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global DiffChanged "rgb:%opt{orange}"[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# For markup[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global title "rgb:%opt{purple}+b" # AsciiDoc ⇒ = Document title — https://spec.draculatheme.com#MarkupHeading[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global header "rgb:%opt{purple}+b" # AsciiDoc ⇒ == Section title — https://spec.draculatheme.com#MarkupHeading[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global mono "rgb:%opt{green}" # AsciiDoc ⇒ `code` — https://spec.draculatheme.com#MarkupInlineCode[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global block "rgb:%opt{orange}" # AsciiDoc ⇒ [----][code][----] — https://spec.draculatheme.com#MarkupCodeBlockWithoutSyntax[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global link "rgb:%opt{cyan}" # Markdown ⇒ <https://draculatheme.com> — https://spec.draculatheme.com#MarkupLinkUrl[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global bullet "rgb:%opt{cyan}" # https://spec.draculatheme.com#MarkupListBulletOrNumber[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global list "rgb:%opt{foreground}" # AsciiDoc ⇒ - [item][0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Builtin faces[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global Default "rgb:%opt{foreground},rgb:%opt{background}" # Editor background[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global PrimarySelection "default,rgba:%opt{pink}%opt{selection_alpha}" # Pink (alpha-blended)[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global SecondarySelection "default,rgba:%opt{purple}%opt{selection_alpha}" # Purple (alpha-blended)[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global PrimaryCursor "default,rgba:%opt{pink}%opt{cursor_alpha}" # Pink (alpha-blended)[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global SecondaryCursor "default,rgba:%opt{purple}%opt{cursor_alpha}" # Purple (alpha-blended)[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global PrimaryCursorEol "rgb:%opt{background},rgb:%opt{foreground}+fg" # White (full block)[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global SecondaryCursorEol "rgb:%opt{background},rgb:%opt{foreground}+fg" # White (full block)[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global MenuForeground "rgb:%opt{foreground},rgb:%opt{selection}" # https://github.com/dracula/visual-studio-code/blob/master/src/dracula.yml#:~:text=editorSuggestWidget.selectedBackground[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global MenuBackground "rgb:%opt{foreground},rgb:%opt{background_dark}" # https://github.com/dracula/visual-studio-code/blob/master/src/dracula.yml#:~:text=editorSuggestWidget.background[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global MenuInfo "rgb:%opt{comment}" # IntelliSense suggestions[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global Information Default # Contextual help blends with the editor background.[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global Error "rgb:%opt{foreground},rgb:%opt{red}" # https://spec.draculatheme.com#Invalid[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global DiagnosticError "rgb:%opt{red}" # https://github.com/dracula/visual-studio-code/blob/master/src/dracula.yml#:~:text=editorError.foreground[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global DiagnosticWarning "rgb:%opt{cyan}" # https://github.com/dracula/visual-studio-code/blob/master/src/dracula.yml#:~:text=editorWarning.foreground[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global StatusLine "rgb:%opt{foreground},rgb:%opt{background_dark}" # Prefer background dark here — https://github.com/dracula/visual-studio-code/blob/master/src/dracula.yml#:~:text=statusBar.background[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global StatusLineMode "rgb:%opt{green}" # [insert][0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global StatusLineInfo "rgb:%opt{purple}" # 1 sel[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global StatusLineValue "rgb:%opt{green}" # 1 sel param=[42] reg=[y][0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global StatusCursor "rgb:%opt{background},rgb:%opt{foreground}" # Cursor in command mode[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global Prompt StatusLine # Same as the status line, since they live at the same place.[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global BufferPadding "rgb:%opt{non_text}" # Kakoune ⇒ set-option global ui_options terminal_padding_fill=yes[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Builtin highlighter faces[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global LineNumbers "rgb:%opt{non_text}" # Kakoune ⇒ add-highlighter -override global/number-lines number-lines — Prefer non-text here — https://github.com/dracula/visual-studio-code/blob/master/src/dracula.yml#:~:text=editorLineNumber[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global LineNumberCursor "rgb:%opt{foreground}" # Kakoune ⇒ add-highlighter -override global/number-lines number-lines -hlcursor[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global LineNumbersWrapped "rgb:%opt{background}" # Kakoune ⇒ add-highlighter -override global/number-lines number-lines; add-highlighter -override global/wrap wrap[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global MatchingChar "rgb:%opt{green}+uf" # Kakoune ⇒ add-highlighter -override global/show-matching show-matching — https://github.com/dracula/vim/blob/master/colors/dracula.vim#:~:text=MatchParen[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global Whitespace "rgb:%opt{non_text}+f" # Kakoune ⇒ add-highlighter -override global/show-whitespaces show-whitespaces[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global WrapMarker "rgb:%opt{non_text}" # Kakoune ⇒ add-highlighter -override global/wrap wrap -marker '↪'[0m[48;2;255;224;224m[0K[0m

[34m.config/kak/kakrc[0m
[34m────────────────────────────────────────────────────────────────────────────────[0m

[34m───────────────────────────────────────────────────────────────────────────────────────[0m[34m┐[0m
[34m1060[0m:[38;2;51;51;51m define-command -override pipe-selections-as-jsonl -params 1.. -docstring 'pipe-s [0m[34m│[0m
[34m───────────────────────────────────────────────────────────────────────────────────────[0m[34m┘[0m
[38;2;51;51;51m    echo execute-keys R[0m
[38;2;51;51;51m  }[0m
[38;2;51;51;51m}[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# The editor will not insert indentation automatically.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# The editor will keep the current line's indentation.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# The editor will keep the current line's indentation and honor language defined brackets.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# The editor will keep the current line's indentation, honor language defined brackets and invoke special onEnterRules defined by languages.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# The editor will keep the current line's indentation, honor language defined brackets, invoke special onEnterRules defined by languages, and honor indentationRules defined by languages.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Controls whether the editor should automatically adjust the indentation when users type, paste, move or indent lines.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# November 2019 (version 1.41)[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# January 2022 (version 1.64)[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# window_type Compare against the window type (_NET_WM_WINDOW_TYPE). Possible values are normal, dialog, utility, toolbar, splash, menu, dropdown_menu, popup_menu, tooltip and notification.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# New auto indentation option#[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# The setting editor.autoIndent can now take different values. This setting impacts multiple features, such as pressing Enter, pressing Tab, or when indenting and unindenting lines. You can think of the setting like a "slider" that becomes more and more opinionated:[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# "none": Pressing Enter will insert \n and nothing more.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# "keep": Pressing Enter will keep the indentation of the current line.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# "brackets": All of the above and special logic around language-specific brackets.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# "advanced": All of the above and respecting language-specific rules that are defined via onEnterRules.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# "full" (default): All of the above and respecting language-specific rules that are defined via indentationRules.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# If true, the default, tab_size and translate_tabs_to_spaces will be calculated automatically when loading a file[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Indentation Detection[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# When a file is loaded, its contents are examined, and the tab_size and translate_tabs_to_spaces settings are set for that file. The status area will report when this happens. While this generally works well, you may want to disable it. You can do that with the detect_indentation setting.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Indentation detection can be run manually via the detect-indentation command.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# https://github.com/helix-editor/helix/blob/master/helix-core/src/indent.rs[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# https://github.com/microsoft/vscode/blob/main/src/vs/editor/contrib/indentation/browser/indentation.ts[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# https://docs.helix-editor.com/lang-support.html[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# https://code.visualstudio.com/docs/languages/overview[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Other reference:[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# https://github.com/tpope/vim-sleuth[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Indentation rules[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Sets indentation rules for languages.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# https://code.visualstudio.com/api/language-extensions/language-configuration-guide#indentation-rules[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# https://code.visualstudio.com/updates/v1_41#_new-auto-indentation-option[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# https://github.com/microsoft/vscode/blob/main/src/vs/editor/common/config/editorOptions.ts#:~:text=EditorAutoIndentStrategy[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# https://github.com/microsoft/vscode/blob/main/src/vs/editor/common/config/editorOptions.ts#:~:text=editor.autoIndent[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Automatic Indentation Settings[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Auto-detection[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Kakoune analyzes your open file and determines the indentation used in the document.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# The auto-detected indentation overrides your default indentation settings.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Note: Kakoune auto-detection checks for the first indentation.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# If your file uses a different number of spaces, the indentation may not be correctly detected.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# You may want to turn off `detect_indent_style` and explicitly set the indentation style.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Enum representing auto-indent strategy.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# none[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# keep[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# full[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdeclare-option -docstring 'auto_indent' str auto_indent full[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdeclare-option -docstring 'Indentation rules to increase the indentation of the current line or next line' str increase_indent_pattern '[({\[]$'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdeclare-option -docstring 'Indentation rules to decrease the indentation of the current line or next line' str decrease_indent_pattern '^\h*[)}\]]$'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdeclare-option -docstring 'Indentation rules to ignore the indentation of the current line or next line' str ignore_indent_pattern '^\h*#'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdeclare-option -hidden str private_increase_indent_pattern '[({\[]$'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdeclare-option -hidden str private_decrease_indent_pattern '^\h*[)}\]]$'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mremove-hooks global indent[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mhook -group indent global InsertChar '.*' indent-on-inserted-character[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Increase and decrease indent with Tab.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mmap -docstring 'Increase indent' global insert <tab> '<a-;><a-gt>'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mmap -docstring 'Decrease indent' global insert <s-tab> '<a-;><lt>'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mmap -docstring 'Decrease indent or erase character before cursor' global insert <backspace> '<a-;>: decrease-indent-or-erase-character-before-cursor<ret>'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# map -docstring 'Decrease indent or erase character before cursor' global insert <ret> '<a-;>: enter-new-line-and-keep-indent<ret>'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# hook on file open and buffer reload.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Implementation reference:[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# https://github.com/helix-editor/helix/blob/master/helix-view/src/document.rs#:~:text=detect_indent_and_line_ending[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# hook -group indent global BufOpenFile '.*' detect-indent-style[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# hook -group indent global BufReload '.*' detect-indent-style[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Enter ⇒ Decrease indent or erase character before cursor.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdefine-command -override -hidden enter-new-line-and-keep-indent %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  evaluate-commands -draft -itersel %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    execute-keys ';i<ret>'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    # Copy previous line indent[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    execute-keys -draft 'H<a-&>'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    # Clean previous line indent[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    try %[ execute-keys -draft 'kxs^\h+$<ret>d' ][0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Backspace ⇒ Decrease indent or erase character before cursor.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdefine-command -override -hidden decrease-indent-or-erase-character-before-cursor %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  try %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    execute-keys -draft -itersel '<a-h><a-k>\A\h+.\z<ret>'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    execute-keys -draft '<lt>'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  } catch %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    execute-keys -draft ';i<backspace>'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdefine-command -override -hidden indent-on-inserted-character %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  "indent-on-inserted-character-with-auto-indent-%opt{auto_indent}"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdefine-command -override -hidden indent-handle-inserted-character -params .. %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  evaluate-commands -draft %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    # Select line begin to the rightmost inserted character.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    execute-keys 'h<a-h><a-:>'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    evaluate-commands -draft -itersel -verbatim -- try %arg{@}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdefine-command -override -hidden indent-on-inserted-character-with-auto-indent-none %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdefine-command -override -hidden indent-on-inserted-character-with-auto-indent-keep %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  indent-handle-inserted-character %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    # Indentation rules when inserting a new line[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    execute-keys -draft '<a-k>\n<ret>'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    # Copy previous line indent[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    execute-keys -draft 'L<a-&>'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    # Clean previous line indent[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    try %[ execute-keys -draft 's^\h+$<ret>d' ][0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdefine-command -override -hidden indent-on-inserted-character-with-auto-indent-full %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  indent-handle-inserted-character %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    # Indentation rules when inserting a new line[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    execute-keys -draft '<a-k>\n<ret>'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    # Copy previous line indent[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    execute-keys -draft 'L<a-&>'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    # Clean previous line indent[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    try %[ execute-keys -draft 's^\h+$<ret>d' ][0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    try %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m      # Ignore indentation rules.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m      execute-keys -draft '<a-K>%opt{ignore_indent_pattern}<a-!><ret>'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m      # Increase the indentation of the next line[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m      try %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        execute-keys -draft '<a-k>%opt{private_increase_indent_pattern}<a-!>|%opt{increase_indent_pattern}<a-!><ret>'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        execute-keys -draft 'l<a-gt>'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m      }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m      # Decrease the indentation of the next line[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m      # when inserting a new line in the middle of line[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m      try %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        execute-keys -draft 'lx<a-k>%opt{private_decrease_indent_pattern}<a-!>|%opt{decrease_indent_pattern}<a-!><ret>'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        execute-keys -draft 'l<lt>'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m      }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  } catch %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    try %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m      # Ignore indentation rules.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m      execute-keys -draft '<a-K>%opt{ignore_indent_pattern}<a-!><ret>'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m      # Indentation rules when inserting a character at the end of line[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m      execute-keys -draft 'l<a-k>\n<ret>'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m      # Decrease the indentation of the current line[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m      try %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        execute-keys -draft 'L<a-k>%opt{private_decrease_indent_pattern}<a-!>|%opt{decrease_indent_pattern}<a-!><ret>'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        execute-keys -draft '<lt>'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m      }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  } catch %{}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdefine-command -override detect-indent-style -docstring 'detect-indent-style' %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  try %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    evaluate-commands -draft %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m      # Search the first indent level[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m      execute-keys 'gg/^\h+<ret>'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m      # Tabs vs. Spaces[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m      # https://youtu.be/V7PLxL8jIl8[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m      try %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        execute-keys '<a-k>\t<ret>'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        # Global scope[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        unset-option buffer tabstop[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        set-option buffer indentwidth 0[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m      } catch %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        set-option buffer tabstop %val{selection_length}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        set-option buffer indentwidth %val{selection_length}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m      }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# This script provides the functionality to toggle comments on lines over the selection[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# using the line and block comment tokens defined in `line_comment_token` and `block_comment_tokens` options.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m#[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Implementation reference:[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m#[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Helix:[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m#[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# - https://github.com/helix-editor/helix/blob/master/helix-term/src/keymap.rs#:~:text=toggle_comments[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# - https://github.com/helix-editor/helix/blob/master/helix-term/src/commands.rs#:~:text=toggle_comments[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# - https://github.com/helix-editor/helix/blob/master/helix-core/src/comment.rs[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m#[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Visual Studio Code:[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m#[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# - https://github.com/microsoft/vscode/blob/main/src/vs/editor/contrib/comment/browser/comment.ts[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# - https://github.com/microsoft/vscode/blob/main/src/vs/editor/contrib/comment/browser/lineCommentCommand.ts[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# - https://github.com/microsoft/vscode/blob/main/src/vs/editor/contrib/comment/browser/blockCommentCommand.ts[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Options[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdeclare-option -docstring 'Line comment token' str-list line_comment_token '//'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdeclare-option -docstring 'Block comment tokens' str-list block_comment_tokens '/*' '*/'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Mappings[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mmap -docstring 'Toggle comments' global normal '#' ': toggle-comments<ret>'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Commands[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdefine-command -override toggle-comments -docstring 'Toggle comments' %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  try toggle-line-comments catch toggle-block-comments[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdefine-command -override toggle-line-comments -docstring 'Toggle line comments' %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  toggle-line-comments-with-token %opt{line_comment_token}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdefine-command -override toggle-block-comments -docstring 'Toggle block comments' %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  toggle-block-comments-with-token %opt{block_comment_tokens}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdefine-command -override -hidden toggle-line-comments-with-token -params 1 -docstring 'Toggle line comments with the given line comment token' %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  evaluate-commands -draft -save-regs 'ab' %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    # Arguments[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    set-register a %arg{1}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    # Sanitize selections before iterating.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    execute-keys 'x'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    evaluate-commands -draft -itersel %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m      try %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        # Select each line, excluding indentation.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        # Blank lines and blank comments are excluded.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        execute-keys '<a-s><a-K>^\h*$|^\h*\Q<c-r>a\E\h*$<ret>giGl'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        try %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m          # Determines whether the given lines should be considered commented.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m          # As soon as one of the non-blank lines doesn’t have a comment, the whole block is considered uncommented.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m          execute-keys -draft '<a-K>\A\Q<c-r>a<ret>'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m          # Comment lines[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m          # At least one line is not commented, so comment everything.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m          #[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m          # Align selections to column to place comment tokens.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m          set-register b %sh(echo "$kak_selections_desc" | tr ' ' '\n' | cut -d ',' -f 1 | cut -d '.' -f 2 | sort -n | head -n 1)[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m          execute-keys -draft "gh%reg{b}lhi<c-r>a<space>"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        } catch %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m          # Uncomment lines[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m          # All lines are commented, so uncomment everything.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m          try %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            # Determines margin of 0 or 1 for uncommenting.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            # If any comment token is not followed by a space, a margin of 0 is used for all lines.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            execute-keys -draft '<a-K>\A\Q<c-r>a<space><ret>'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            # Uncomment lines (keep space)[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            # At least one comment token is not followed by a space, so uncomment and keep space everywhere.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            execute-keys -draft 's\A\Q<c-r>a<ret>d'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m          } catch %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            # Uncomment lines (remove space)[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            # All comment tokens are followed by a space, so uncomment and remove space everywhere.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            execute-keys -draft 's\A\Q<c-r>a<space><ret>d'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m          }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m      }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdefine-command -override -hidden toggle-block-comments-with-token -params 2 -docstring 'Toggle block comments with the given block comment tokens' %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  evaluate-commands -draft -save-regs 'ab' %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    # Arguments[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    set-register a %arg{1}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    set-register b %arg{2}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    try %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m      # Sanitize selections before iterating.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m      # Blank lines are excluded.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m      execute-keys 'x_'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m      evaluate-commands -draft -itersel %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        try %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m          # Uncomment selection.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m          # Assert that the selection has been commented.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m          execute-keys -draft '<a-k>\A\Q<c-r>a\E.*\Q<c-r>b\E\z<ret>'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m          execute-keys -draft 's\A\Q<c-r>a\E\h*|\h*\Q<c-r>b\E\z<ret>d'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        } catch %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m          # Comment selection.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m          execute-keys -draft 'i<c-r>a<space><esc>a<space><c-r>b'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m      }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# [EditorConfig]: https://editorconfig.org[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# [Visual Studio Code — Language Configuration Guide]: https://code.visualstudio.com/api/language-extensions/language-configuration-guide[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# [Visual Studio Code — Basic Editing — Auto-detection]: https://code.visualstudio.com/docs/editor/codebasics#_autodetection[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# [Sublime Text — Indentation Settings]: https://sublimetext.com/docs/indentation.html[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Here is a language configuration example that configures the editing experience for C files.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mhook -group c-configuration global BufSetOption filetype=c %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  set-option buffer line_comment_token '//'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  set-option buffer block_comment_tokens '/*' '*/'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  set-option buffer indentation_rules_increase_indent_pattern ''[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  set-option buffer indentation_rules_decrease_indent_pattern ''[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Git[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# https://git-scm.com[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Options ──────────────────────────────────────────────────────────────────────[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Faces[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global GitInformation 'blue'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global GitScissors 'blue+b'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global GitModifiedFile 'yellow'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global GitNewFile 'green'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global GitDeletedFile 'red'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global GitRenamedFile 'yellow'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Generics[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global DiffText 'comment'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global DiffHeader 'comment'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global DiffInserted 'green'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global DiffDeleted 'red'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global DiffChanged 'yellow'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Commands ─────────────────────────────────────────────────────────────────────[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Provides basic Git integration for Kakoune.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# All commands always uses the current buffer’s repository, so you don’t need to worry about the current working directory.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# == Faces[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# - `GitInformation`[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# - `GitScissors`[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# - `GitModifiedFile`[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# - `GitNewFile`[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# - `GitDeletedFile`[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# - `GitRenamedFile`[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# === Generics[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# - `DiffText`[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# - `DiffHeader`[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# - `DiffInserted`[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# - `DiffDeleted`[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# - `DiffChanged`[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdefine-command -override git -params .. -docstring 'git [options] [command] [flags]: run Git' %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  evaluate-commands %sh{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    git "$@" > /dev/null[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    exit_code=$?[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    if [ "$exit_code" -ne 0 ]; then[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m      printf 'fail "git: `git %%arg{@}` exited with %d"' "$exit_code"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    fi[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# https://git-scm.com/docs/git-add[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdefine-command -override git-write -docstring 'git-write: save the current buffer and stage the file' %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  write[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  ensure_git_dir[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  nop %sh{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    directory=$(dirname "$kak_buffile")[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    cd "$directory"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    git add --force "$kak_buffile"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  echo -markup '{Information}Added file{Default}'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# https://git-scm.com/docs/git-commit[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdefine-command -override git-commit -docstring 'git-commit: commit changes' %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  ensure_git_dir[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  edit %sh{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    directory=$(dirname "$kak_buffile")[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    cd "$directory"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    git -c core.editor= commit --verbose[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    git rev-parse --path-format=absolute --git-path COMMIT_EDITMSG[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  hook -always -once buffer BufWritePost '(?<git_root>.*)/\.git/COMMIT_EDITMSG' %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    try %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m      git -C %val{hook_param_capture_git_root} commit --file %val{hook_param} --cleanup=strip[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m      delete-buffer[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m      echo -markup '{Information}Commit succeeded{Default}'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    } catch %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m      delete-buffer[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m      echo -markup '{Error}Commit failed{Default}'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# https://git-scm.com/docs/git[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# https://git-scm.com/docs/git-rev-parse[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdefine-command -override -hidden ensure_git_dir %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  evaluate-commands %sh{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    buf_dir=$(dirname "$kak_buffile")[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    buf_inside_work_tree=$(git -C "$buf_dir" rev-parse --is-inside-work-tree)[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    exit_code=$?[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    if [ "$exit_code" -ne 0 ]; then[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m      echo 'fail "git: %val{buffile} not inside a Git repository"'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    fi[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    if [ "$buf_inside_work_tree" = false ]; then[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m      echo 'fail "git: %val{buffile} not inside work tree"'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    fi[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Aliases ──────────────────────────────────────────────────────────────────────[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51malias global g git[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51malias global gw git-write[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51malias global gc git-commit[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Highlighters ─────────────────────────────────────────────────────────────────[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter -override shared/git group[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Commit ┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# https://git-scm.com/docs/git-commit[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter -override shared/git/commit regions[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter -override shared/git/commit/comments region '^#' '$' group[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter -override shared/git/commit/comments/region fill comment[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Summary[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter -override shared/git/commit/comments/branch_name regex 'On branch (.+)' 0:GitInformation 1:keyword[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter -override shared/git/commit/comments/staged_changes regex 'Changes to be committed' 0:GitInformation[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter -override shared/git/commit/comments/unstaged_changes regex 'Changes not staged for commit' 0:GitInformation[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter -override shared/git/commit/comments/untracked_files regex 'Untracked files' 0:GitInformation[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Changed files[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter -override shared/git/commit/comments/modified_files regex '(modified):\h+(.+)' 1:attribute 2:GitModifiedFile[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter -override shared/git/commit/comments/new_files regex '(new file):\h+(.+)' 1:attribute 2:GitNewFile[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter -override shared/git/commit/comments/deleted_files regex '(deleted):\h+(.+)' 1:attribute 2:GitDeletedFile[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter -override shared/git/commit/comments/renamed_files regex '(renamed):\h+(.+)' 1:attribute 2:GitRenamedFile[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Scissors[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# https://git-scm.com/docs/git-commit#Documentation/git-commit.txt-scissors[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter -override shared/git/commit/comments/scissors regex '# ------------------------ >8 ------------------------' 0:GitScissors[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Diffs[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter -override shared/git/commit/diffs region '^diff --git' '^(?=diff --git)' group[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter -override shared/git/commit/diffs/information regex '^\w.+$' 0:GitInformation[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter -override shared/git/commit/diffs/regions ref git/diff[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Diff ┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# https://git-scm.com/docs/git-diff[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# https://en.wikipedia.org/wiki/Diff#Unified_format[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter -override shared/git/diff regions[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter -override shared/git/diff/original_files region '^---' '$' fill DiffHeader[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter -override shared/git/diff/new_files region '^\Q+++' '$' fill DiffHeader[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter -override shared/git/diff/range_information region '^@@' '$' fill DiffHeader[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter -override shared/git/diff/line_additions region '^\+' '$' fill DiffInserted[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter -override shared/git/diff/line_deletions region '^-' '$' fill DiffDeleted[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter -override shared/git/diff/contextual_lines region '^\h' '$' fill DiffText[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Rebase ┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# https://git-scm.com/docs/git-rebase[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter -override shared/git/rebase regions[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter -override shared/git/rebase/comments region '^#' '$' group[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter -override shared/git/rebase/comments/region fill comment[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter -override shared/git/rebase/commands region '^\w' '$' group[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter -override shared/git/rebase/commands/region regex '^(p|pick|r|reword|e|edit|s|squash|f|fixup|x|exec|b|break|d|drop|l|label|t|reset|m|merge)\h+(\w+)\h+(.+)$' 1:keyword 2:value 3:default[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Detection ┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Files[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# https://git-scm.com/docs/git-config#FILES[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mremove-hooks global git-config[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mhook -group git-config global BufOpenFile '.*/etc/gitconfig|.*/git/config|.*/\.gitconfig|.*/\.git/config|.*/\.git/config\.worktree' %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  set-option buffer filetype ini[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Files[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# https://git-scm.com/docs/git-commit#_files[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mremove-hooks global git-commit[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mhook -group git-commit global BufOpenFile '.*/\.git/COMMIT_EDITMSG' %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  set-option buffer filetype git-commit[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mhook -group git-commit global WinSetOption filetype=git-commit %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  add-highlighter -override window/git-commit ref git/commit[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Files[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# https://git-scm.com/docs/git-rebase[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mremove-hooks global git-rebase[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mhook -group git-rebase global BufOpenFile '.*/\.git/rebase-merge/git-rebase-todo' %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  set-option buffer filetype git-rebase[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mhook -group git-rebase global WinSetOption filetype=git-rebase %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  add-highlighter -override window/git-rebase ref git/rebase[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# == Faces[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Whitespace characters:[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# - `Tab` ⇒ `WhitespaceError`[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# - `Newline` ⇒ `Whitespace`[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# - `NonBreakingSpace` ⇒ `WhitespaceError`[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# - `Indent` ⇒ `Whitespace`[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# - `MixedIndent` ⇒ `WhitespaceError`[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# - `OddIndent` ⇒ `WhitespaceError`[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Extra whitespace:[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# - `TrailingWhitespace` ⇒ `WhitespaceError`[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# - `ConsecutiveWhitespace` ⇒ `WhitespaceWarning`[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Generic faces:[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# - `WhitespaceRuler` ⇒ `green+fu`[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# - `WhitespaceError` ⇒ `red+fc`[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# - `WhitespaceWarning` ⇒ `red+fc`[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter global/whitespace ref whitespace[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# * Individual faces for whitespace (tabs, newlines, non-breaking-spaces) and indent.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# * Show whitespace oddities:[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# ** Trailing whitespace (only shown when not in insert mode).[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# ** Odd and mixed indent.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# * Show consecutive whitespace.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# * Show limit of 80 characters (useful for horizontal lines).[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# add-highlighter global/whitespace ref whitespace[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Refined show whitespace[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Faces ────────────────────────────────────────────────────────────────────────[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Whitespace characters:[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global Tab WhitespaceError[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global Newline Whitespace[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global NonBreakingSpace WhitespaceError[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Indentation rules:[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global Indent Whitespace[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global MixedIndent WhitespaceError[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global OddIndent WhitespaceError[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Extra whitespace:[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global TrailingWhitespace WhitespaceError[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global ConsecutiveWhitespace WhitespaceWarning[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Generic faces:[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global WhitespaceRuler 'green+fu'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global WhitespaceError 'red+fc'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global WhitespaceWarning 'red+fc'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Hooks ────────────────────────────────────────────────────────────────────────[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Only shown when not in insert mode.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mremove-hooks global whitespace[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mhook -group whitespace -always global ModeChange 'push:normal:insert' %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  set-face window TrailingWhitespace Whitespace[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  set-face window ConsecutiveWhitespace Whitespace[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  # Restore[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  hook -always -once window ModeChange 'pop:insert:normal' %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    unset-face window TrailingWhitespace[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    unset-face window ConsecutiveWhitespace[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Highlighters ─────────────────────────────────────────────────────────────────[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Order matters:[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m#[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# “You can think of highlighters as like a list of painting instructions.” — Screwtape[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m#[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter -override shared/whitespace group[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Show whitespace (tabs, newlines, non-breaking-spaces).[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter -override shared/whitespace/tab regex '\t+' '0:Tab'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter -override shared/whitespace/newline regex '\n+' '0:Newline'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter -override shared/whitespace/non-breaking-space regex ' +' '0:NonBreakingSpace'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Show consecutive whitespace, then paint over indent.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter -override shared/whitespace/consecutive-whitespace regex '\h{2,}' '0:ConsecutiveWhitespace'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter -override shared/whitespace/indent regex '^\h+' '0:Indent'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Show trailing whitespace.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter -override shared/whitespace/trailing-whitespace regex '\h+$' '0:TrailingWhitespace'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Show odd and mixed indent.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter -override shared/whitespace/odd-indent regex '^( {1}| {3}| {5}| {7}| {9}| {11}| {13}| {15}| {17}| {19})(?=\H)' '0:OddIndent'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter -override shared/whitespace/mixed-indent regex '^(\t+ | +\t)\h*' '0:MixedIndent'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Show limit of 80 characters.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter -override shared/whitespace/ruler regex '(?S)^.{80}$\K\n' '0:WhitespaceRuler'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Sensible[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Enter `search` and start typing to search.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Press `Tab` to skim through the occurrences.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Show search with `show-search` or enter search mode then `Escape`.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Options ──────────────────────────────────────────────────────────────────────[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Sensible scroll-off: 5 lines and 1 column.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-option global scrolloff 5,1[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter -override global/show-matching show-matching[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter -override global/number-lines number-lines -relative -hlcursor[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Initialization[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Highlighters[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# set-face global LineNumberSelected red[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# offscreen[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# hidden[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# MultipleSelections[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# set-face global insert green[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# set-face global selection blue[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Commands ─────────────────────────────────────────────────────────────────────[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mremove-hooks global sensible-mode[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mhook -group sensible-mode -always global ModeChange 'push:normal:insert' %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  add-highlighter -override window/number-lines number-lines -hlcursor[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  set-face window PrimaryCursor 'black,white+uB'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  set-face window PrimaryCursorEol 'black,white+uB'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mhook -group sensible-mode -always global ModeChange 'pop:insert:normal' %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  add-highlighter -override window/number-lines number-lines -relative -hlcursor[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  unset-face window PrimaryCursor[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  unset-face window PrimaryCursorEol[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Commands ─────────────────────────────────────────────────────────────────────[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mremove-hooks global sensible-cursor-line[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mhook -group sensible-cursor-line -always global NormalIdle '' %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  # Restore _t_ (top) and _b_ (bottom) registers.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  evaluate-commands -draft %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    unset-face window LineNumberCursor[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    # Multiple selections:[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    try %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m      execute-keys -draft '<a-space>'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m      set-face window LineNumberCursor DiagnosticWarning[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    # Hidden selections above:[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    try %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m      execute-keys -draft 'Zgt"tZb"tzGe<a-z>a<a-space>'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m      set-face window LineNumberCursor DiagnosticError[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    # Hidden selections below:[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    try %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m      execute-keys -draft 'Zgbgll"bZe"bzGg<a-z>a<a-space>'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m      set-face window LineNumberCursor DiagnosticError[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Commands ─────────────────────────────────────────────────────────────────────[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Commands ─────────────────────────────────────────────────────────────────────[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Faces[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global Search 'black,yellow'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mremove-hooks global show-search[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mhook -group show-search -always global NormalKey '/|<a-/>|\?|<a-\?>' %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  add-highlighter window/search ref search[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  # add-highlighter -override window/wrap wrap -word -marker '↪'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  hook -always -once window ModeChange 'pop:prompt:normal' %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    remove-highlighter window/search[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    # remove-highlighter window/wrap[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mhook -group show-search global RegisterModified '/' %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  try %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    add-highlighter -override shared/search regex "%reg{/}" 0:Search[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  } catch %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    remove-highlighter shared/search[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Internal variables[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdeclare-option -hidden range-specs selected_text_ranges[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global Search black,yellow+fg[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global SelectedText black,blue+fg[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdefine-command -override -hidden update-selected-text-ranges %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  # Reset ranges[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  unset-option window selected_text_ranges[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  try %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    evaluate-commands -draft -save-regs '^' %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m      execute-keys '<a-k>..<ret>'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m      execute-keys '<a-K>\A\h+\z<ret>'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m      # Initialize ranges[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m      set-option window selected_text_ranges %val{timestamp}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m      # Mark the main selection[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m      # Mark other selections[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m      evaluate-commands -draft %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        execute-keys '*%s<ret>'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        evaluate-commands -itersel %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m          set-option -add window selected_text_ranges "%val{selection_desc}|SelectedText"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m      }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m      evaluate-commands -itersel %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        set-option -remove window selected_text_ranges "%val{selection_desc}|SelectedText"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m      }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Initialization[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter -override global/selected-text ranges selected_text_ranges[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mremove-hooks global show-selected-text[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mhook -group show-selected-text -always global NormalIdle '' update-selected-text-ranges[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mhook -group show-selected-text -always global InsertIdle '' update-selected-text-ranges[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Initialization[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Crystal[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# https://crystal-lang.org[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# kakoune-crystal[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# This [Kakoune] extension provides support for the [Crystal] programming language.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# [Kakoune]: https://kakoune.org[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# [Crystal]: https://crystal-lang.org[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m## Features[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# - Syntax highlighting[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# - Auto-indentation[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Configuration ────────────────────────────────────────────────────────────────[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Word pattern[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# https://code.visualstudio.com/api/language-extensions/language-configuration-guide#word-pattern[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdeclare-option -docstring 'Crystal word pattern' str crystal_word_pattern '\w+[?!]?'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Reference[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m#[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# https://crystal-lang.org/reference/master/syntax_and_semantics/control_expressions.html[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m#[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# https://crystal-lang.org/reference/master/syntax_and_semantics/if.html[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m#[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# value = if some_condition[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# elsif some_other_condition[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# else[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# end[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m#[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# https://crystal-lang.org/reference/master/syntax_and_semantics/unless.html[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m#[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# value = unless some_condition[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# end[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m#[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# https://crystal-lang.org/reference/master/syntax_and_semantics/case.html[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m#[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# value = case expression[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# when value[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# end[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m#[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# value = case expression[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# in value[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# end[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m#[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# https://crystal-lang.org/reference/master/syntax_and_semantics/while.html[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m#[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# while some_condition[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# end[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m#[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# https://crystal-lang.org/reference/master/syntax_and_semantics/until.html[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m#[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# until some_condition[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# end[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m#[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# https://crystal-lang.org/reference/master/syntax_and_semantics/types_and_methods.html[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# https://crystal-lang.org/reference/master/syntax_and_semantics/visibility.html[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# https://crystal-lang.org/reference/master/syntax_and_semantics/virtual_and_abstract_types.html[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m#[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# https://crystal-lang.org/reference/master/syntax_and_semantics/classes_and_methods.html[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m#[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# class Person[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# end[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m#[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# private class Person[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# end[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m#[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# abstract class Person[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# end[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m#[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# private abstract class Person[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# end[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m#[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# def name[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# end[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m#[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# private def name[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# end[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m#[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# protected def name[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# end[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m#[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# https://crystal-lang.org/reference/master/syntax_and_semantics/modules.html[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m#[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# module JSON[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# end[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m#[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# private module JSON[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# end[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m#[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# https://crystal-lang.org/reference/master/syntax_and_semantics/structs.html[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m#[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# struct Point[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# end[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m#[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# private struct Point[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# end[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m#[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# abstract struct Point[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# end[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m#[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# private abstract struct Point[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# end[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m#[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# https://crystal-lang.org/reference/master/syntax_and_semantics/enum.html[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m#[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# enum Color[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# end[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m#[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# private enum Color[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# end[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m#[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# https://crystal-lang.org/reference/master/syntax_and_semantics/blocks_and_procs.html[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m#[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# loop do[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# end[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m#[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# https://crystal-lang.org/reference/master/syntax_and_semantics/exception_handling.html[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m#[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# begin[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# rescue exception[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# ensure[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# end[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m#[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# https://crystal-lang.org/reference/master/syntax_and_semantics/macros/[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m#[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# macro version[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# end[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m#[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# https://crystal-lang.org/reference/master/syntax_and_semantics/annotations/[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m#[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# annotation Link[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# end[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m#[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# https://crystal-lang.org/reference/master/syntax_and_semantics/c_bindings/[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# https://crystal-lang.org/reference/master/syntax_and_semantics/c_bindings/lib.html[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m#[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# lib C[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# end[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m#[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# private lib C[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# end[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Detection ────────────────────────────────────────────────────────────────────[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Sets Crystal filetype when opening `.cr` files.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mremove-hooks global crystal-detection[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mhook -group crystal-detection global BufCreate '.+\.cr' %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  set-option buffer filetype crystal[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Enables syntax highlighting for Crystal filetype.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mremove-hooks global crystal-highlight[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mhook -group crystal-highlight global WinSetOption filetype=crystal %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  add-highlighter -override window/crystal ref crystal[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  hook -always -once window WinSetOption 'filetype=.*' %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    remove-highlighter window/crystal[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Configures word selection and completion for Crystal filetype.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# `static_words` option is generated with `crystal-check-news`.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mremove-hooks global crystal-config[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mhook -group crystal-config global WinSetOption filetype=crystal %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  set-option window increase_indent_pattern '^\h*(if|elsif|else|unless|case|when|case|in|while|until|class|private\h+class|abstract\h+class|private\h+abstract\h+class|def|private\h+def|protected\h+def|module|private\h+module|struct|private\h+struct|abstract\h+struct|private\h+abstract\h+struct|enum|private\h+enum|begin|rescue|ensure|macro|annotation|lib|private\h+lib)[^;]*$|\h(do)[^;]*$|\w+\h*=\h*(if|unless|case|begin)[^;]*$'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  set-option window decrease_indent_pattern '^\h*(elsif|else|end|when|in|rescue|ensure)$'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  set-option window ignore_indent_pattern '^\h*#'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  set-option window line_comment_token '#'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  set-option buffer extra_word_chars '_' '?' '!'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  set-option window static_words 'abort' 'abstract' 'alias' 'annotation' 'as' 'as?' 'asm' 'at_exit' 'begin' 'break' 'caller' 'case' 'class' 'class_getter' 'class_getter!' 'class_getter?' 'class_property' 'class_property!' 'class_property?' 'class_setter' 'debugger' 'def' 'def_clone' 'def_equals' 'def_equals_and_hash' 'def_hash' 'delegate' 'do' 'else' 'elsif' 'end' 'ensure' 'enum' 'exit' 'extend' 'false' 'for' 'forward_missing_to' 'fun' 'gets' 'getter' 'getter!' 'getter?' 'if' 'in' 'include' 'instance_size→[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  hook -always -once window WinSetOption 'filetype=.*' %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    unset-option window line_comment_token[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    unset-option buffer extra_word_chars[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    unset-option window static_words[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Indentation ──────────────────────────────────────────────────────────────────[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Highlighters ─────────────────────────────────────────────────────────────────[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Creates the base regions[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter -override shared/crystal regions[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter -override shared/crystal/code default-region group[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Syntax and semantics ┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Classes[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Comments[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Constants[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Entities[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Functions/Methods[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Keywords[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Language Built-ins[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Punctuation[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Storage[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Strings[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Variables[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Scope Naming[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Naming conventions[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Sublime Text[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# TextMate[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# https://docs.helix-editor.com/themes.html#syntax-highlighting[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# https://macromates.com/manual/en/language_grammars[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# https://github.com/crystal-lang-tools/vscode-crystal-lang/blob/master/syntaxes/crystal.json[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# https://code.visualstudio.com/api/language-extensions/syntax-highlight-guide[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# https://sublimetext.com/docs/scope_naming.html[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Reference[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# https://crystal-lang.org/reference/master/syntax_and_semantics/[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Method definition and call ┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Reference[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# https://crystal-lang.org/reference/master/syntax_and_semantics/method_arguments.html[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter -override shared/crystal/code/instance-method-definition regex "\b(def)\h+(%opt{crystal_word_pattern})\b" 1:keyword 2:function[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter -override shared/crystal/code/class-method-definition regex "\b(def)\h+(self\.%opt{crystal_word_pattern})\b" 1:keyword 2:function[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter -override shared/crystal/code/method-call regex "\b(%opt{crystal_word_pattern})\(" 1:function[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Instance and class variables ┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Reference[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# https://crystal-lang.org/reference/master/syntax_and_semantics/methods_and_instance_variables.html[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# https://crystal-lang.org/reference/master/syntax_and_semantics/class_variables.html[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter -override shared/crystal/code/instance-and-class-variables regex '@@?\w+\b' 0:variable[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Keywords ┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Note:[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Generated with `crystal-check-news`.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter -override shared/crystal/code/keyword regex '\binstance_sizeof\b|\buninitialized\b|\bresponds_to\?|\bannotation\b|\bprotected\b|\bpointerof\b|\bverbatim\b|\boffsetof\b|\babstract\b|\brequire\b|\bprivate\b|\binclude\b|\bunless\b|\btypeof\b|\bstruct\b|\bsizeof\b|\bselect\b|\breturn\b|\brescue\b|\bmodule\b|\bextend\b|\bensure\b|\byield\b|\bwhile\b|\buntil\b|\bunion\b|\bsuper\b|\bmacro\b|\bis_a\?|\bfalse\b|\belsif\b|\bclass\b|\bbreak\b|\bbegin\b|\balias\b|\bwith\b|\bwhen\b|\btype\b|\btrue\b|\b→[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Built-in functions ┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Note:[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Generated with `crystal-check-news`.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter -override shared/crystal/code/support.function.kernel regex '\braise_without_backtrace\b|\btimeout_select_action\b|\binstance_sizeof\b|\bread_line\b|\bpointerof\b|\boffsetof\b|\bdebugger\b|\bsprintf\b|\bat_exit\b|\btypeof\b|\bsystem\b|\bsizeof\b|\brecord\b|\bprintf\b|\bcaller\b|\bspawn\b|\bsleep\b|\braise\b|\bprint\b|\babort\b|\brand\b|\bputs\b|\bmain\b|\bloop\b|\bgets\b|\bexit\b|\bpp!|\bpp\b|\bp!|\bp\b' 0:builtin[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter -override shared/crystal/code/support.function.object regex '\bdef_equals_and_hash\b|\bforward_missing_to\b|\bclass_property\?|\bclass_property!|\bclass_property\b|\bclass_getter\?|\bclass_getter!|\bclass_setter\b|\bclass_getter\b|\bdef_equals\b|\bproperty\?|\bproperty!|\bdef_clone\b|\bproperty\b|\bdelegate\b|\bdef_hash\b|\bgetter\?|\bgetter!|\bsetter\b|\bgetter\b' 0:builtin[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Punctuation ┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# punctuation.separator[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter -override shared/crystal/code/punctuation.separator regex '\.|::' 0:meta[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Operators ┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Reference[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# https://crystal-lang.org/reference/master/syntax_and_semantics/operators.html[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter -override shared/crystal/code/operator regex '[!%&*+/<=>^|~-]' 0:operator[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter -override shared/crystal/code/operator.range regex '\.\.\.?' 0:operator[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Constants ┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Reference[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# https://crystal-lang.org/reference/master/syntax_and_semantics/constants.html[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter -override shared/crystal/code/variable.constant regex '\b[A-Z]\w*\b' 0:value[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Numbers ┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Reference[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# https://crystal-lang.org/reference/master/syntax_and_semantics/literals/integers.html[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# https://crystal-lang.org/reference/master/syntax_and_semantics/literals/floats.html[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Examples:[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m#[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# decimal number ⇒ 1_000_000[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# float number ⇒ 1_000_000.111_111[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m#[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter -override shared/crystal/code/constant.numeric.integer.decimal regex '\b\d(_?\d+)*(_[iu](8|16|32|64|128))?\b' 0:value[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter -override shared/crystal/code/constant.numeric.float.decimal regex '\b\d(_?\d+)*\.\d(_?\d+)*(_(f32|f64))?\b' 0:value[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Examples:[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m#[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# binary number ⇒ 0b1101[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# octal number ⇒ 0o123[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# hexadecimal number ⇒ 0xfe012d[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m#[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter -override shared/crystal/code/constant.numeric.integer.binary regex '\b0b[0-1]+(_[iu](8|16|32|64|128))?\b' 0:value[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter -override shared/crystal/code/constant.numeric.integer.octal regex '\b0o[0-7]+(_[iu](8|16|32|64|128))?\b' 0:value[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter -override shared/crystal/code/constant.numeric.integer.hexadecimal regex '\b0x[0-9a-fA-F]+(_[iu](8|16|32|64|128))?\b' 0:value[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Comments ┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Reference[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# https://crystal-lang.org/reference/master/syntax_and_semantics/comments.html[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Note: Avoid string literals with interpolation.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m#[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Example:[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m#[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# puts "hello #{name}"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m#[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter -override shared/crystal/comment region '#(?!\{)' '$' group[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter -override shared/crystal/comment/fill fill comment[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Documenting code ┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Reference[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# https://crystal-lang.org/reference/master/syntax_and_semantics/documenting_code.html[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Example:[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m#[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# A unicorn is a **legendary animal**.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m#[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# To create a unicorn:[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m#[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# ```[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# unicorn = Unicorn.new[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# unicorn.speak[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# ```[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m#[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Check the number of horns with `#horns`.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m#[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter -override shared/crystal/comment/reference regex "`[#.]?%opt{crystal_word_pattern}`" 0:mono[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter -override shared/crystal/comment/parameter regex '\*\w+\*' 0:mono[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter -override shared/crystal/comment/code-block regex '```(\h*\w+)?$' 0:block[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter -override shared/crystal/comment/admonition regex '\h+([A-Z]+):\h+' 1:meta[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter -override shared/crystal/comment/directive regex ':\w+:' 0:meta[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Interpolation ┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Reference[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# https://crystal-lang.org/reference/master/syntax_and_semantics/literals/string.html#interpolation[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# https://crystal-lang.org/reference/master/syntax_and_semantics/literals/string.html#escaping[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Defines Crystal raw string.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m#[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Syntax:[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m#[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# define-crystal-string <region-name> <face-name> [<region-switches>] <opening-pattern> <closing-pattern>[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m#[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Example:[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m#[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# define-crystal-string raw-parenthesis-string string -recurse '\(' '%q\(' '\)'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m#[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# puts %q(hello world)[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m#[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdeclare-option -hidden str-list crystal_optional_arguments[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdefine-command -override -hidden define-crystal-string -params 4.. %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  set-option global crystal_optional_arguments %arg{@}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  set-option -remove global crystal_optional_arguments %arg{1} %arg{2}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  add-highlighter -override "shared/crystal/%arg{1}" region %opt{crystal_optional_arguments} regions[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  add-highlighter -override "shared/crystal/%arg{1}/content" default-region group[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  add-highlighter -override "shared/crystal/%arg{1}/content/fill" fill %arg{2}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  add-highlighter -override "shared/crystal/%arg{1}/content/escaped-character" regex '\\.' 0:meta[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  add-highlighter -override "shared/crystal/%arg{1}/content/escape-sequence" regex '\\(x[0-9a-fA-F]{2}|u[0-9a-fA-F]{4}|u\{[0-9a-fA-F]+\})' 0:meta[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Defines Crystal string interpolation.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m#[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Syntax:[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m#[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# define-crystal-interpolated-string <region-name> <face-name> [<region-switches>] <opening-pattern> <closing-pattern>[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m#[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Example:[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m#[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# define-crystal-interpolated-string parenthesis-string string -recurse '\(' '%\(' '\)'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m#[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# name = "world"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# puts %(hello #{name})[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m#[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdefine-command -override -hidden define-crystal-interpolated-string -params 4.. %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  define-crystal-string %arg{@}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  add-highlighter -override "shared/crystal/%arg{1}/interpolation" region -recurse '\{' '#\{' '\}' group # }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  add-highlighter -override "shared/crystal/%arg{1}/interpolation/delimiters" regex '(?<opening>..).+(?<closing>.)' opening:meta closing:meta[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  add-highlighter -override "shared/crystal/%arg{1}/interpolation/crystal" ref crystal[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Characters ┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Reference[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# https://crystal-lang.org/reference/master/syntax_and_semantics/literals/char.html[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Examples:[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m#[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# simple character ⇒ 'a'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# single quote ⇒ '\''[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# backslash ⇒ '\\'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m#[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter -override shared/crystal/string region "'" "(?<!\\)(\\\\)*'" regions[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter -override shared/crystal/string/content default-region group[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter -override shared/crystal/string/content/fill fill value[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter -override shared/crystal/string/content/escaped-character regex '\\.' 0:meta[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter -override shared/crystal/string/content/escape-sequence regex '\\(x[0-9a-fA-F]{2}|u[0-9a-fA-F]{4}|u\{[0-9a-fA-F]+\})' 0:meta[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# define-crystal-string string.character value "'" "(?<!\\)(\\\\)*'"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Strings ┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Reference[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# https://crystal-lang.org/reference/master/syntax_and_semantics/literals/string.html[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# String literal ┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Examples:[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m#[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# simple string ⇒ "hello world"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# double quote ⇒ "\""[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# backslash ⇒ "\\"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m#[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter -override shared/crystal/string.interpolated region '"' '(?<!\\)(\\\\)*"' regions[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter -override shared/crystal/string.interpolated/content default-region group[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter -override shared/crystal/string.interpolated/content/fill fill string[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter -override shared/crystal/string.interpolated/content/escaped-character ref crystal/string/content/escaped-character[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter -override shared/crystal/string.interpolated/content/escape-sequence ref crystal/string/content/escape-sequence[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter -override shared/crystal/string.interpolated/interpolation region -recurse '\{' '#\{' '\}' group[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter -override shared/crystal/string.interpolated/interpolation/delimiters regex '(?<opening>..).+(?<closing>.)' opening:meta closing:meta[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter -override shared/crystal/string.interpolated/interpolation/crystal ref crystal[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# define-crystal-interpolated-string string.quoted.double string '"' '(?<!\\)(\\\\)*"'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Percent string literals ┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Reference[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# https://crystal-lang.org/reference/master/syntax_and_semantics/literals/string.html#percent-string-literals[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Example:[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m#[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# name = "world"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# puts %Q(hello #{name})[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m#[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter -override shared/crystal/string.quoted.percent.parenthesis.interpolated region -recurse '\(' '%Q?\(' '\)' ref crystal/string.interpolated[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter -override shared/crystal/string.quoted.percent.bracket.interpolated region -recurse '\[' '%Q?\[' '\]' ref crystal/string.interpolated[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter -override shared/crystal/string.quoted.percent.brace.interpolated region -recurse '\{' '%Q?\{' '\}' ref crystal/string.interpolated[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter -override shared/crystal/string.quoted.percent.angle.interpolated region -recurse '<' '%Q?<' '>' ref crystal/string.interpolated[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter -override shared/crystal/string.quoted.percent.pipe.interpolated region '%Q?\|' '\|' ref crystal/string.interpolated[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Raw percent string literals ┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Reference[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# https://crystal-lang.org/reference/master/syntax_and_semantics/literals/string.html#percent-string-literals[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# https://crystal-lang.org/reference/master/syntax_and_semantics/literals/string.html#percent-string-array-literal[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# https://crystal-lang.org/reference/master/syntax_and_semantics/literals/symbol.html#percent-symbol-array-literal[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Example:[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m#[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# puts %q(hello world)[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m#[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter -override shared/crystal/string.quoted.percent.parenthesis region -recurse '\(' '%[qwi]\(' '\)' ref crystal/string[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter -override shared/crystal/string.quoted.percent.bracket region -recurse '\[' '%[qwi]\[' '\]' ref crystal/string[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter -override shared/crystal/string.quoted.percent.brace region -recurse '\{' '%[qwi]\{' '\}' ref crystal/string[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter -override shared/crystal/string.quoted.percent.angle region -recurse '<' '%[qwi]<' '>' ref crystal/string[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter -override shared/crystal/string.quoted.percent.pipe region '%[qwi]\|' '\|' ref crystal/string[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Here document ┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Reference[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# https://crystal-lang.org/reference/master/syntax_and_semantics/literals/string.html#heredoc[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Example:[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m#[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# <<-'EOF'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# EOF[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m#[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter -override shared/crystal/string.unquoted.heredoc.interpolated region -match-capture '<<-(\w+)' '^\h*(\w+)$' ref crystal/string.interpolated[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter -override shared/crystal/string.unquoted.heredoc.raw region -match-capture "<<-'(\w+)'" '^\h*(\w+)$' ref crystal/string[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Symbols ┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Reference[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# https://crystal-lang.org/reference/master/syntax_and_semantics/literals/symbol.html[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Symbol literal ┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Example:[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m#[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# :"quoted symbol"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m#[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter -override shared/crystal/code/constant.symbol regex ":%opt{crystal_word_pattern}" 0:value[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter -override shared/crystal/string.symbol region ':"' '(?<!\\)(\\\\)*"' ref crystal/string[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Regular expressions ┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Reference[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# https://crystal-lang.org/reference/master/syntax_and_semantics/literals/regex.html[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Regex literal ┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Example:[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m#[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# /foo/i.match("FOO")[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m#[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter -override shared/crystal/string.regexp.interpolated region '/' '(?<!\\)(\\\\)*/[imx]*' regions[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter -override shared/crystal/string.regexp.interpolated/content default-region group[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter -override shared/crystal/string.regexp.interpolated/content/fill fill meta[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter -override shared/crystal/string.regexp.interpolated/content/escaped-character ref crystal/string/content/escaped-character[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter -override shared/crystal/string.regexp.interpolated/content/escape-sequence ref crystal/string/content/escape-sequence[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter -override shared/crystal/string.regexp.interpolated/interpolation region -recurse '\{' '#\{' '\}' group[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter -override shared/crystal/string.regexp.interpolated/interpolation/delimiters ref crystal/string.interpolated/interpolation/delimiters[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter -override shared/crystal/string.regexp.interpolated/interpolation/crystal ref crystal[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Note: Avoid unterminated regular expression and floor division as regex.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m#[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Examples:[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m#[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# division ⇒ 1 / 2[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# floor division ⇒ 1 // 2[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m#[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter -override shared/crystal/division-as-region region ' //? ' '.\K' group[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter -override shared/crystal/division-as-region/operator regex '//?' 0:operator[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Percent regex literals ┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Example:[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m#[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# %r(foo|bar)[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m#[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter -override shared/crystal/string.regexp.percent.parenthesis.interpolated region -recurse '\(' '%r\(' '\)[imx]*' ref crystal/string.regexp.interpolated[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter -override shared/crystal/string.regexp.percent.bracket.interpolated region -recurse '\[' '%r\[' '\][imx]*' ref crystal/string.regexp.interpolated[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter -override shared/crystal/string.regexp.percent.brace.interpolated region -recurse '\{' '%r\{' '\}[imx]*' ref crystal/string.regexp.interpolated[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter -override shared/crystal/string.regexp.percent.angle.interpolated region -recurse '<' '%r<' '>[imx]*' ref crystal/string.regexp.interpolated[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter -override shared/crystal/string.regexp.percent.pipe.interpolated region '%r\|' '\|[imx]*' ref crystal/string.regexp.interpolated[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Command literal ┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Reference[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# https://crystal-lang.org/reference/master/syntax_and_semantics/literals/command.html[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Example:[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m#[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# `echo foo`[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m#[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter -override shared/crystal/string.command region '`' '(?<!\\)(\\\\)*`' ref crystal/string.regexp.interpolated[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Percent command literals ┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Example:[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m#[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# %x(echo foo)[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m#[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter -override shared/crystal/string.command.percent.parenthesis region -recurse '\(' '%x\(' '\)' ref crystal/string.regexp.interpolated[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter -override shared/crystal/string.command.percent.bracket region -recurse '\[' '%x\[' '\]' ref crystal/string.regexp.interpolated[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter -override shared/crystal/string.command.percent.brace region -recurse '\{' '%x\{' '\}' ref crystal/string.regexp.interpolated[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter -override shared/crystal/string.command.percent.angle region -recurse '<' '%x<' '>' ref crystal/string.regexp.interpolated[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter -override shared/crystal/string.command.percent.pipe region '%x\|' '\|' ref crystal/string.regexp.interpolated[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# What’s new ───────────────────────────────────────────────────────────────────[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Builds a ready for use `str-list` and `regex` with selections.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m#[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Usage:[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m#[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Fetch a document, select keywords and call `crystal-build-result keywords`.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m#[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdefine-command -override -hidden crystal-build-result -params 1 %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  # Initialization[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  execute-keys -save-regs '' 'y'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  edit -scratch[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  execute-keys '%<a-R>a<ret><esc>y%<a-R>%|sort -u<ret><a-s>_'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  echo -debug crystal %arg{1} as str-list:[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  echo -debug -quoting kakoune %val{selections}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  execute-keys '%|awk ''{ print length, $0 }'' | sort -n -r | cut -d " " -f 2-<ret><a-s>_'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  execute-keys -save-regs '' '*'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  echo -debug crystal %arg{1} as regex:[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  echo -debug -quoting kakoune %val{main_reg_slash}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  # Cleanup[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  delete-buffer[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  echo 'Open the *debug* buffer to see result.'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdefine-command -override -hidden crystal-build-result-with-static-words -params 1 %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  crystal-build-result %arg{1}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  set-option -add window static_words %val{selections}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdefine-command -override -hidden crystal-check-news %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  # Initialization[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  edit -scratch[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  set-option window static_words[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  # Keywords ⇒ https://github.com/crystal-lang/crystal/blob/master/src/compiler/crystal/syntax/lexer.cr[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  execute-keys '%|curl -sSL https://github.com/crystal-lang/crystal/raw/master/src/compiler/crystal/syntax/lexer.cr<ret>'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  execute-keys '%1<s>check_ident_or_keyword\(:(%opt{crystal_word_pattern}<a-!>),\h+\w+\)<ret>Z%1<s>@token\.value\h+=\h+:(%opt{crystal_word_pattern}<a-!>)<ret><a-z>a'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  crystal-build-result-with-static-words keywords[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  # Top Level Namespace[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  # https://crystal-lang.org/api/master/toplevel.html#method-summary[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  # https://crystal-lang.org/api/master/toplevel.html#macro-summary[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  execute-keys '%|curl -sSL https://crystal-lang.org/api/master/toplevel.html<ret>'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  execute-keys '%1<s>class="entry-detail"\h+id="(%opt{crystal_word_pattern}<a-!>)[^"]*-(method|macro)"<ret>'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  crystal-build-result-with-static-words top-level-namespace[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  # Object macros ⇒ https://crystal-lang.org/api/master/Object.html#macro-summary[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  execute-keys '%|curl -sSL https://crystal-lang.org/api/master/Object.html<ret>'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  execute-keys '%1<s>class="entry-detail"\h+id="(%opt{crystal_word_pattern}<a-!>)[^"]*-(macro)"<ret>'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  crystal-build-result-with-static-words object-macros[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  # Static words[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  set-register dquote %opt{static_words}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  execute-keys '%<a-R>'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  crystal-build-result static_words[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  # Cleanup[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  delete-buffer[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  echo 'Open the *debug* buffer to see result.'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# =====================================================[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# ~/.config/kak/autoload/mawww/asciidoc.kak[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# =====================================================[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# http://asciidoc.org/[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# ‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Detection[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# ‾‾‾‾‾‾‾‾‾[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mhook global BufCreate .+\.(a(scii)?doc|asc) %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    set-option buffer filetype asciidoc[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Initialization[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# ‾‾‾‾‾‾‾‾‾‾‾‾‾‾[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mhook -group asciidoc-highlight global WinSetOption filetype=asciidoc %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    require-module asciidoc[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    add-highlighter window/asciidoc ref asciidoc[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    hook -once -always window WinSetOption filetype=.* %{ remove-highlighter window/asciidoc }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mprovide-module asciidoc %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Highlighters[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# ‾‾‾‾‾‾‾‾‾‾‾‾[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/asciidoc group[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Titles and headers (multi-line style)[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/asciidoc/ regex (\A|\n\n)[^\n]+\n={2,}\h*$ 0:title[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/asciidoc/ regex (\A|\n\n)[^\n]+\n-{2,}\h*$ 0:header[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/asciidoc/ regex (\A|\n\n)[^\n]+\n~{2,}\h*$ 0:header[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/asciidoc/ regex (\A|\n\n)[^\n]+\n\^{2,}\h*$ 0:header[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Titles and headerss (one-line style)[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/asciidoc/ regex (\A|\n\n)=\h+[^\n]+$ 0:title[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/asciidoc/ regex (\A|\n\n)={2,}\h+[^\n]+$ 0:header[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Comments[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/asciidoc/ regex ^//(?:[^\n/][^\n]*|)$ 0:comment[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/asciidoc/ regex ^(/{4,}).*?\n(/{4,})$ 0:comment[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# List titles[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/asciidoc/ regex ^\.[^\h\W][^\n]*$ 0:title[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Bulleted lists[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/asciidoc/ regex ^\h*(?<bullet>[-\*])\h+[^\n]+$ 0:list bullet:bullet[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/asciidoc/ regex ^\h*(?<bullet>[-\*]+)\h+[^\n]+(\n\h+[^-\*\n]*)?$ 0:list bullet:bullet[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Delimited blocks[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# https://docs.asciidoctor.org/asciidoc/latest/blocks/delimited/[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/asciidoc/ regex ^(-{4,})\n[^\n\h].*?\n(-{4,})$ 0:block[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/asciidoc/ regex ^(={4,})\n[^\n\h].*?\n(={4,})$ 0:block[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/asciidoc/ regex ^(~{4,})\n[^\n\h].*?\n(~{4,})$ 0:block[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/asciidoc/ regex ^(\*{4,})\n[^\n\h].*?\n(\*{4,})$ 0:block[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Monospaced text[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/asciidoc/ regex \B(?:\+[^\n]+?\+|`[^\n]+?`)\B 0:mono[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Bolded text[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/asciidoc/ regex \s\*[^\n\*]+\*\B 0:+b[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/asciidoc/ regex \h\*[^\n\*]+\*\B 0:+b[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/asciidoc/ regex \*{2}(?!\h)[^\n\*]+\*{2} 0:+b[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/asciidoc/ regex \h\*{2}[^\n\*]+\*{2} 0:+b[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Italicized text[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# (these are simpler since they aren't able to _also_ be bullet characters.)[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/asciidoc/ regex \b_[^\n]+?_\b 0:+i[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/asciidoc/ regex __[^\n]+?__ 0:+i[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Attributes[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/asciidoc/ regex ^:(?:(?<neg>!?)[-\w]+|[-\w]+(?<neg>!?)): 0:meta neg:operator[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/asciidoc/ regex [^\\](\{[-\w]+\})[^\\]? 1:meta[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Options[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/asciidoc/ regex ^\[[^\n]+\]$ 0:operator[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Admonition pargraphs[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/asciidoc/ regex ^(NOTE|TIP|IMPORTANT|CAUTION|WARNING): 0:block[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/asciidoc/ regex ^\[(NOTE|TIP|IMPORTANT|CAUTION|WARNING)\]$ 0:block[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Links, inline macros[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/asciidoc/ regex \b((?:https?|ftp|irc://)[^\h\[]+)\[([^\n]*)?\] 1:link 2:+i[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/asciidoc/ regex (link|mailto):([^\n]+)(?:\[([^\n]*)\]) 1:keyword 2:link 3:+i[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/asciidoc/ regex (xref):([^\n]+)(?:\[([^\n]*)\]) 1:keyword 2:meta 3:+i[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/asciidoc/ regex (<<([^\n><]+)>>) 1:link 2:meta[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Commands[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# ‾‾‾‾‾‾‾‾[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# http://w3.org/Style/CSS[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# ‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Detection[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# ‾‾‾‾‾‾‾‾‾[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mhook global BufCreate .*[.](css) %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    set-option buffer filetype css[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Initialization[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# ‾‾‾‾‾‾‾‾‾‾‾‾‾‾[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mhook global WinSetOption filetype=css %[[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    require-module css[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    hook window ModeChange pop:insert:.* -group css-trim-indent css-trim-indent[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    hook window InsertChar \n -group css-insert css-insert-on-new-line[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    hook window InsertChar \n -group css-indent css-indent-on-new-line[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    hook window InsertChar \} -group css-indent css-indent-on-closing-curly-brace[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    set-option buffer extra_word_chars '_' '-'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    set-face global cssLogicalOperator +i@keyword[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    hook -once -always window WinSetOption filetype=.* %{ remove-hooks window css-.+ }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m][0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mhook -group css-highlight global WinSetOption filetype=css %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    add-highlighter window/css ref css[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    hook -once -always window WinSetOption filetype=.* %{ remove-highlighter window/css }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mprovide-module css %[[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Highlighters[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# ‾‾‾‾‾‾‾‾‾‾‾‾[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/css regions[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/css/code default-region group[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/css/attr_selector region \[ \] regions[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/css/double_string region '"'  (?<!\\)(\\\\)*" fill string[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/css/single_string region "'"  (?<!\\)(\\\\)*' fill string[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/css/comment    region /\* \*/ fill comment[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mevaluate-commands %sh{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  # html tags[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  # generated from the URL & <code> below[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  # includes elements that cannot be styled, which is fine.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  #[0m[7;35m [0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  # https://developer.mozilla.org/en-US/docs/Web/HTML/Element[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  html_tags='html body address article aside footer header h1 h2 h3 h4 h5 h6 main nav section blockquote dd div dl dt figcaption figure hr li ol p pre ul a abbr b bdi bdo br cite code data dfn em i kbd mark q rp rt ruby s samp small span strong sub sup time u var wbr area audio img map track video embed iframe object param picture portal source canvas noscript script del ins caption col colgroup table tbody td tfoot th thead tr button datalist fieldset form input label legend meter optgroup option output →[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  # Units[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  # ‾‾‾‾‾[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  # generated from the URL & <code> below[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  # includes #rgb, #rrggbb, #rrggbbaa as color values {3,8}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  #[0m[7;35m [0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  # https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_Values_and_Units[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  units='% cap ch cm deg dpcm dpi dppx em ex grad Hz ic in kHz lh mm ms pc pt px Q rad rem rlh s turn vb vh vi vmax vmin vw x'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  logical_ops='and not only from to'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  keywords='!important auto inherit initial unset none'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  media_types='all print screen speech'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  # easing_re='linear|ease(-(in-out|in|out))?|step-(start|end)'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  # combinators='+ > ~ ||'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  # attribute_op='= ~= |= ^= $= *='[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  join() { eval set -- $1; IFS="|"; echo "$*"; }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  # Selectors[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  # ‾‾‾‾‾‾‾‾‾[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  # universal: *, ns|*, *|*, |*[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  # class/id: .class, #id[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  # type: element[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  # attr: [attr=val][0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  # order below matters[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  printf %s "[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  add-highlighter shared/css/code/tag_selectors regex \b($(join "${html_tags}"))((:[a-z:])|[\h.#,]) 1:keyword[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  add-highlighter shared/css/code/functional_notation regex ([a-zA-Z0-9-_]+[a-zA-Z0-9])\( 1:keyword[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  add-highlighter shared/css/code/logical_operators regex (\b($(join "${logical_ops}"))\b|$(join "${keywords}")) 1:cssLogicalOperator[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  add-highlighter shared/css/code/media_types regex \b($(join "${media_types}"))\b 1:+i[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  # (after functional notation as they may contain paranthesis)[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  add-highlighter shared/css/code/pseudo regex (:{1,2})([a-z-]+) 0:attribute[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  add-highlighter shared/css/code/at_rules regex @[a-z-]+ 0:function[0m[7;35m [0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  add-highlighter shared/css/code/css_property regex ([A-Za-z][A-Za-z0-9_-]*)\h*:\h 1:operator 1:+a[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  add-highlighter shared/css/code/selectors regex (\*|[*]?[.][A-Za-z][A-Za-z0-9_-]+) 0:type[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  add-highlighter shared/css/code/selectors_id regex (\*|[*]?[#][A-Za-z][A-Za-z0-9_-]+) 0:type 0:+i[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  add-highlighter shared/css/code/hex_values regex (#[0-9A-Fa-f]{3,8})\b 0:value 0:+a[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  add-highlighter shared/css/code/units regex \b(\d*\.)?\d+($(join "${units}"))?\b 0:value 0:+a[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  "[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Attribute Selectors[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/css/attr_selector/base default-region group[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/css/attr_selector/base/ regex ([a-zA-Z0-9-]+) 1:attribute[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/css/attr_selector/base/ regex \h(i|s) 1:type[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/css/attr_selector/double_string region '"'  (?<!\\)(\\\\)*" fill string[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/css/attr_selector/single_string region "'"  (?<!\\)(\\\\)*' fill string[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Commands[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# ‾‾‾‾‾‾‾‾[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdefine-command -hidden css-trim-indent %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    # remove trailing white spaces[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    try %{ execute-keys -draft -itersel x s \h+$ <ret> d }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdefine-command -hidden css-indent-on-new-line %[[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    evaluate-commands -draft -itersel %[[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        execute-keys <semicolon>[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        try %<[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            # if previous line is part of a comment, do nothing[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            execute-keys -draft <a-?>/\*<ret> <a-K>^\h*[^/*\h]<ret>[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        > catch %<[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            # else if previous line closed a paren (possibly followed by words and a comment),[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            # copy indent of the opening paren line[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            execute-keys -draft kx 1s(\))(\h+\w+)*\h*(\;\h*)?(?://[^\n]+)?\n\z<ret> m<a-semicolon>J <a-S> 1<a-&>[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        > catch %<[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            # else indent new lines with the same level as the previous one[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            execute-keys -draft K <a-&>[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        >[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        # filter previous line[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        try %< execute-keys -draft k x <a-k>^\h+$<ret> Hd >[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        # indent after lines ending with with {[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        try %[ execute-keys -draft k x <a-k> \{$ <ret> j <a-gt> ][0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        # deindent closing brace when after cursor[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        try %[ execute-keys -draft x <a-k> ^\h*\} <ret> gh / \} <ret> m <a-S> 1<a-&> ][0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    ][0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m][0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdefine-command -hidden css-insert-on-new-line %[[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    evaluate-commands -draft -itersel %<[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    execute-keys <semicolon>[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    try %[[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        # if the previous line isn't within a comment scope, break[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        execute-keys -draft kx <a-k>^(\h*/\*|\h+\*(?!/))<ret>[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        # find comment opening, validate it was not closed, and check its using star prefixes[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        execute-keys -draft <a-?>/\*<ret><a-H> <a-K>\*/<ret> <a-k>\A\h*/\*([^\n]*\n\h*\*)*[^\n]*\n\h*.\z<ret>[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        try %[[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            # if the previous line is opening the comment, insert star preceeded by space[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            execute-keys -draft kx<a-k>^\h*/\*<ret>[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            execute-keys -draft i*<space><esc>[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        ] catch %[[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m           try %[[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                # if the next line is a comment line insert a star[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                execute-keys -draft jx<a-k>^\h+\*<ret>[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                execute-keys -draft i*<space><esc>[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            ] catch %[[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                try %[[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                    # if the previous line is an empty comment line, close the comment scope[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                    execute-keys -draft kx<a-k>^\h+\*\h+$<ret> x1s\*(\h*)<ret>c/<esc>[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                ] catch %[[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                    # if the previous line is a non-empty comment line, add a star[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                    execute-keys -draft i*<space><esc>[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                ][0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            ][0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        ][0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        # trim trailing whitespace on the previous line[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        try %[ execute-keys -draft s\h+$<ret> d ][0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        # align the new star with the previous one[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        execute-keys Kx1s^[^*]*(\*)<ret>&[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    ][0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    >[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m][0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdefine-command -hidden css-indent-on-closing-curly-brace %[[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    evaluate-commands -draft -itersel %[[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        # align to opening curly brace when alone on a line[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        try %[ execute-keys -draft <a-h> <a-k> ^\h+\}$ <ret> m s \A|.\z <ret> 1<a-&> ][0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    ][0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m][0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m][0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mhook global BufCreate .*\.(diff|patch) %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    set-option buffer filetype diff[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mhook global WinSetOption filetype=diff %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    require-module diff[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    map buffer normal <ret> :diff-jump<ret>[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mhook -group diff-highlight global WinSetOption filetype=diff %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    add-highlighter window/diff ref diff[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    hook -once -always window WinSetOption filetype=.* %{ remove-highlighter window/diff }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mprovide-module diff %§[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/diff group[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/diff/ regex "^\+[^\n]*\n" 0:green,default[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/diff/ regex "^-[^\n]*\n" 0:red,default[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/diff/ regex "^@@[^\n]*@@" 0:cyan,default[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# If any trailing whitespace was introduced in diff, show it with red background[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/diff/ regex "^\+[^\n]*?(\h+)\n" 1:default,red[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdefine-command diff-jump -params .. -docstring %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        diff-jump [<switches>] [<directory>]: edit the diff's source file at the cursor position.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        Paths are resolved relative to <directory>, or the current working directory if unspecified.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        Switches:[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            -       jump to the old file instead of the new file[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            -<num> strip <num> leading directory components, like -p<num> in patch(1). Defaults to 1 if there is a 'diff' line (as printed by 'diff -r'), or 0 otherwise.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    } %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    evaluate-commands -draft -save-regs ac| %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        # Save the column because we will move the cursor.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        set-register c %val{cursor_column}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        # If there is a "diff" line, we don't need to look further back.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        try %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            execute-keys %{<a-l><semicolon><a-?>^(?:> )*diff\b<ret>x}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        } catch %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            # A single file diff won't have a diff line. Start parsing from[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            # the buffer start, so we can tell if +++/--- lines are headers[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            # or content.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            execute-keys Gk[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        set-register a %arg{@}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        set-register | %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            [ -n "$kak_reg_a" ] && eval set -- $kak_quoted_reg_a[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            cmd=$(column=$kak_reg_c perl -we '[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                sub quote {[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                    $SQ = "'\''";[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                    $token = shift;[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                    $token =~ s/$SQ/$SQ$SQ/g;[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                    return "$SQ$token$SQ";[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                sub fail {[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                    $reason = shift;[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                    print "fail " . quote("diff-jump: $reason");[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                    exit;[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                $version = "+", $other_version = "-";[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                $strip = undef;[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                $directory = $ENV{PWD};[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                $seen_ddash = 0;[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                foreach (@ARGV) {[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                    if ($seen_ddash or !m{^-}) {[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                        $directory = $_;[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                    } elsif ($_ eq "-") {[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                        $version = "-", $other_version = "+";[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                    } elsif (m{^-(\d+)$}) {[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                        $strip = $1;[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                    } elsif ($_ eq "--") {[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                        $seen_ddash = 1;[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                    } else {[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                        fail "unknown option: $_";[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                    }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                $have_diff_line = 0;[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                $state = "header";[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                while (<STDIN>) {[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                    s/^(> )*//g;[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                    $last_line = $_;[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                    if (m{^diff\b}) {[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                        $state = "header";[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                        $have_diff_line = 1;[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                        if (m{^diff -\S* (\S+) (\S+)$}) {[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                            $fallback_file = $version eq "+" ? $2 : $1;[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                        }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                        next;[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                    }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                    if ($state eq "header") {[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                        if (m{^[$version]{3} ([^\t\n]+)}) {[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                            $file = $1;[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                            next;[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                        }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                        if (m{^[$other_version]{3} ([^\t\n]+)}) {[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                            $fallback_file = $1;[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                            next;[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                        }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                    }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                    if (m{^@@ -(\d+)(?:,\d+)? \+(\d+)(?:,\d+)? @@}) {[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                        $state = "contents";[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                        $line = ($version eq "+" ? $2 : $1) - 1;[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                    } elsif (m{^[ $version]}) {[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                        $line++ if defined $line;[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                    }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                if (not defined $file) {[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                    $file = $fallback_file;[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                if (not defined $file) {[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                    fail "missing diff header";[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                if (not defined $strip) {[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                    # A "diff -r" or "git diff" adds "diff" lines to[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                    # the output.  If no such line is present, we have[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                    # a plain diff between files (not directories), so[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                    # there should be no need to strip the directory.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                    $strip = $have_diff_line ? 1 : 0;[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                if ($file !~ m{^/}) {[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                    $file =~ s,^([^/]+/+){$strip},, or fail "directory prefix underflow";[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                    $file = "$directory/$file";[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                if (defined $line) {[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                    $column = $ENV{column} - 1; # Account for [ +-] diff prefix.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                    # If the cursor was on a hunk header, go to the section header if possible.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                    if ($last_line =~ m{^(@@ -\d+(?:,\d+)? \+\d+(?:,\d+) @@ )([^\n]*)}) {[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                        $hunk_header_prefix = $1;[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                        $hunk_header_from_userdiff = $2;[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                        open FILE, "<", $file or fail "failed to open file: $!: $file";[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                        @lines = <FILE>;[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                        for (my $i = $line - 1; $i >= 0 && $i < scalar @lines; $i--) {[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                            if ($lines[$i] !~ m{\Q$hunk_header_from_userdiff}) {[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                                next;[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                            }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                            $line = $i + 1;[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                            # Re-add 1 because the @@ line does not have a [ +-] diff prefix.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                            $column = $column + 1 - length $hunk_header_prefix;[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                            last;[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                        }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                    }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                printf "edit -existing -- %s $line $column", quote($file);[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            ' -- "$@")[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            echo "set-register c $cmd" >"$kak_command_fifo"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        execute-keys <a-|><ret>[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        evaluate-commands -client %val{client} %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            evaluate-commands -try-client %opt{jumpclient} %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                %reg{c}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mcomplete-command diff-jump file[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m§[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdefine-command \[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    -docstring %{diff-select-file: Select surrounding patch file} \[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    -params 0 \[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    diff-select-file %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                evaluate-commands -itersel -save-regs 'ose/' %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        try %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            execute-keys '"oZgl<a-?>^diff <ret>;"sZ' 'Ge"eZ'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            try %{ execute-keys '"sz?\n(?=diff )<ret>"e<a-Z><lt>' }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            execute-keys '"ez'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        } catch %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            execute-keys '"oz'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            fail 'Not in a diff file'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdefine-command \[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    -docstring %{diff-select-hunk: Select surrounding patch hunk} \[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    -params 0 \[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    diff-select-hunk %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    evaluate-commands -itersel -save-regs 'ose/' %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        try %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            execute-keys '"oZgl<a-?>^@@ <ret>;"sZ' 'Ge"eZ'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            try %{ execute-keys '"sz?\n(?=diff )<ret>"e<a-Z><lt>' }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            try %{ execute-keys '"sz?\n(?=@@ )<ret>"e<a-Z><lt>' }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            execute-keys '"ez'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        } catch %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            execute-keys '"oz'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            fail 'Not in a diff hunk'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdeclare-option -docstring "name of the client in which documentation is to be displayed" \[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    str docsclient[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdeclare-option -hidden range-specs doc_render_ranges[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdeclare-option -hidden range-specs doc_links[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdeclare-option -hidden range-specs doc_anchors[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdefine-command -hidden -params 4 doc-render-regex %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    evaluate-commands -draft %{ try %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        execute-keys <percent> s %arg{1} <ret>[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        execute-keys -draft s %arg{2} <ret> d[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        execute-keys "%arg{3}"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        evaluate-commands %sh{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            face="$4"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            eval "set -- $kak_quoted_selections_desc"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            ranges=""[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            for desc in "$@"; do ranges="$ranges '$desc|$face'"; done[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            echo "update-option buffer doc_render_ranges"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            echo "set-option -add buffer doc_render_ranges $ranges"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    } }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdefine-command -hidden doc-parse-links %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    evaluate-commands -draft %{ try %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        execute-keys <percent> s <lt><lt>(.*?),.*?<gt><gt> <ret>[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        execute-keys -draft s <lt><lt>.*,|<gt><gt> <ret> d[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        execute-keys H[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        set-option buffer doc_links %val{timestamp}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        update-option buffer doc_render_ranges[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        evaluate-commands -itersel %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            set-option -add buffer doc_links "%val{selection_desc}|%reg{1}"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            set-option -add buffer doc_render_ranges "%val{selection_desc}|default+u"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    } }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdefine-command -hidden doc-parse-anchors %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    evaluate-commands -draft %{ try %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        set-option buffer doc_anchors %val{timestamp}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        # Find sections as add them as imlicit anchors[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        execute-keys <percent> s ^={2,}\h+([^\n]+)$ <ret>[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        evaluate-commands -itersel %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            set-option -add buffer doc_anchors "%val{selection_desc}|%sh{printf '%s' ""$kak_main_reg_1"" | tr '[A-Z ]' '[a-z-]'}"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        # Parse explicit anchors and remove their text[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        execute-keys <percent> s \[\[(.*?)\]\]\s* <ret>[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        evaluate-commands -itersel %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            set-option -add buffer doc_anchors "%val{selection_desc}|%reg{1}"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        execute-keys d[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        update-option buffer doc_anchors[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    } }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdefine-command -hidden doc-jump-to-anchor -params 1 %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    update-option buffer doc_anchors[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    evaluate-commands %sh{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        anchor="$1"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        eval "set -- $kak_quoted_opt_doc_anchors"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        shift[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        for range in "$@"; do[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            if [ "${range#*|}" = "$anchor" ]; then[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                printf '%s\n'  "select '${range%|*}'; execute-keys vv"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                exit[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            fi[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        done[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        printf "fail No such anchor '%s'\n" "${anchor}"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdefine-command -hidden doc-follow-link %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    update-option buffer doc_links[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    evaluate-commands %sh{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        eval "set -- $kak_quoted_opt_doc_links"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        for link in "$@"; do[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            printf '%s\n' "$link"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        done | awk -v FS='[.,|#]' '[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            BEGIN {[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                l=ENVIRON["kak_cursor_line"];[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                c=ENVIRON["kak_cursor_column"];[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            l >= $1 && c >= $2 && l <= $3 && c <= $4 {[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                if (NF == 6) {[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                    print "doc " $5[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                    if ($6 != "") {[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                        print "doc-jump-to-anchor %{" $6 "}"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                    }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                } else {[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                    print "doc-jump-to-anchor %{" $5 "}"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                exit[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        '[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdefine-command -params 1 -hidden doc-render %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    edit! -scratch "*doc-%sh{basename $1 .asciidoc}*"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    execute-keys "!cat %arg{1}<ret>gg"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    doc-parse-anchors[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    # Join paragraphs together[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    try %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        execute-keys -draft '%S\n{2,}|(?<lt>=\+)\n|^[^\n]+::\n|^\h*[*-]\h+<ret>' \[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            <a-K>^\h*-{2,}(\n|\z)<ret> S\n\z<ret> <a-k>\n<ret> <a-j>[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    # Remove some line end markers[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    try %{ execute-keys -draft <percent> s \h*(\+|:{2,})$ <ret> d }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    # Setup the doc_render_ranges option[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    set-option buffer doc_render_ranges %val{timestamp}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    doc-render-regex \B(?<!\\)\*(?=\S)[^\n]+?(?<=\S)(?<!\\)\*\B \A|.\z 'H' default+b[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    doc-render-regex \b(?<!\\)_(?=\S)[^\n]+?(?<=\S)(?<!\\)_\b \A|.\z 'H' default+i[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    doc-render-regex \B(?<!\\)`(?=\S)[^\n]+?(?<=\S)`\B \A|.\z 'H' mono[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    doc-render-regex ^=\h+[^\n]+ ^=\h+ '~' title[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    doc-render-regex ^={2,}\h+[^\n]+ ^={2,}\h+ '' header[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    doc-render-regex ^\h*-{2,}\n\h*.*?^\h*-{2,}\n ^\h*-{2,}\n '' block[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    doc-parse-links[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    # Remove escaping of * and `[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    try %{ execute-keys -draft <percent> s \\((?=\*)|(?=`)) <ret> d }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    # Go to beginning of file[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    execute-keys 'gg'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    set-option buffer readonly true[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    add-highlighter buffer/ ranges doc_render_ranges[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    add-highlighter buffer/ wrap -word -indent[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    map buffer normal <ret> :doc-follow-link<ret>[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdefine-command doc -params 0..2 -menu -docstring %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        doc <topic> [<keyword>]: open a buffer containing documentation about a given topic[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        An optional keyword argument can be passed to the function, which will be automatically selected in the documentation[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        See `:doc doc` for details.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    } %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    evaluate-commands %sh{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        topic="doc"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        if [ $# -ge 1 ]; then[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            topic="$1"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        fi[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        page=$([0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            find -L \[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                "${kak_config}/autoload/" \[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                "${kak_runtime}/doc/" \[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                "${kak_runtime}/rc/" \[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                -type f -name "$topic.asciidoc" 2>/dev/null |[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                head -1[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        )[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        if [ -f "${page}" ]; then[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            jump_cmd=""[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            if [ $# -eq 2 ]; then[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                jump_cmd="doc-jump-to-anchor '$2'"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            fi[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            printf %s\\n "evaluate-commands -try-client %opt{docsclient} %{ doc-render ${page}; ${jump_cmd} }"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        else[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            printf 'fail No such doc file: %s\n' "$topic.asciidoc"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        fi[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mcomplete-command doc shell-script-candidates %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    case "$kak_token_to_complete" in[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        0)[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            find -L \[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                "${kak_config}/autoload/" \[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                "${kak_runtime}/doc/" \[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                "${kak_runtime}/rc/" \[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                -type f -name "*.asciidoc" 2>/dev/null |[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                sed 's,.*/,,; s/\.[^.]*$//';;[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        1)[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            page=$([0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                find -L \[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                    "${kak_config}/autoload/" \[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                    "${kak_runtime}/doc/" \[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                    "${kak_runtime}/rc/" \[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                    -type f -name "$1.asciidoc" 2>/dev/null |[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                    head -1[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            )[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            if [ -f "${page}" ]; then[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                awk '[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                    /^==+ +/ { sub(/^==+ +/, ""); print }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                    /^\[\[[^\]]+\]\]/ { sub(/^\[\[/, ""); sub(/\]\].*/, ""); print }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                ' < $page | tr '[A-Z ]' '[a-z-]'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            fi;;[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    esac[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51malias global help doc[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mhook global BufCreate .*(COMMIT_EDITMSG|MERGE_MSG) %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    set-option buffer filetype git-commit[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mhook global BufCreate .*/NOTES_EDITMSG %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    set-option buffer filetype git-notes[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mhook global BufCreate .*(\.git(config|modules)|git/config) %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    set-option buffer filetype ini[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mhook global BufCreate .*\.gitignore %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    set-option buffer filetype git-ignore[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mhook global BufCreate .*git-rebase-todo %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    set-option buffer filetype git-rebase[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mhook global WinSetOption filetype=git-(commit|ignore|notes|rebase) %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    require-module "git-%val{hook_param_capture_1}"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mhook -group git-commit-highlight global WinSetOption filetype=git-commit %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    add-highlighter window/git-commit ref git-commit[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    hook -once -always window WinSetOption filetype=.* %{ remove-highlighter window/git-commit }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mhook -group git-ignore-highlight global WinSetOption filetype=git-ignore %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    add-highlighter window/git-ignore ref git-ignore[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    hook -once -always window WinSetOption filetype=.* %{ remove-highlighter window/git-ignore }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mhook -group git-notes-highlight global WinSetOption filetype=git-notes %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    add-highlighter window/git-notes ref git-notes[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    hook -once -always window WinSetOption filetype=.* %{ remove-highlighter window/git-notes }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mhook -group git-rebase-highlight global WinSetOption filetype=git-rebase %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    add-highlighter window/git-rebase ref git-rebase[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    hook -once -always window WinSetOption filetype=.* %{ remove-highlighter window/git-rebase }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mprovide-module git-commit %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mrequire-module diff[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/git-commit regions[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/git-commit/diff region '^diff --git' '^(?=diff --git)' ref diff # highlight potential diffs from the -v option[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/git-commit/comments region ^# $ group[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/git-commit/comments/ fill comment[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/git-commit/comments/ regex "\b(?:(modified)|(deleted)|(new file)|(renamed|copied)):([^\n]*)$" 1:yellow 2:red 3:green 4:blue 5:magenta[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mprovide-module git-ignore %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/git-ignore group[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/git-ignore/glob regex '(?<!\\)(?:\\\\)*\K(\*\*?|\?|\[.*?(?<!\\)(?:\\\\)*\])' 0:operator[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/git-ignore/negate regex '^!' 0:operator[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/git-ignore/comments regex '^#.*?$' 0:comment[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mprovide-module git-notes %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/git-notes regex ^#[^\n]*$ 0:comment[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mprovide-module git-rebase %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/git-rebase group[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/git-rebase/ regex "^\h*#[^\n]*\n" 0:comment[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/git-rebase/ regex "^(?:(pick|p)|(edit|reword|squash|fixup|exec|break|drop|label|reset|merge|[ersfxbdltm])) (\w+)" 1:keyword 2:value 3:meta[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# http://w3.org/html[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# ‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Detection[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# ‾‾‾‾‾‾‾‾‾[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mhook global BufCreate .*\.html %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    set-option buffer filetype html[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mhook global BufCreate .*\.xml %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    set-option buffer filetype xml[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Initialization[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# ‾‾‾‾‾‾‾‾‾‾‾‾‾‾[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mhook global WinSetOption filetype=(html|xml) %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    require-module html[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    hook window ModeChange pop:insert:.* -group "%val{hook_param_capture_1}-trim-indent"  html-trim-indent[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    hook window InsertChar '>' -group "%val{hook_param_capture_1}-indent" html-indent-on-greater-than[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    hook window InsertChar \n -group "%val{hook_param_capture_1}-indent" html-indent-on-new-line[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    hook -once -always window WinSetOption "filetype=.*" "[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        remove-hooks window ""%val{hook_param_capture_1}-.+""[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    "[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mhook -group html-highlight global WinSetOption filetype=(html|xml) %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    add-highlighter "window/%val{hook_param_capture_1}" ref html[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    hook -once -always window WinSetOption "filetype=.*" "[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        remove-highlighter ""window/%val{hook_param_capture_1}""[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    "[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mprovide-module html %[[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mtry %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    require-module css[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    require-module javascript[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Highlighters[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# ‾‾‾‾‾‾‾‾‾‾‾‾[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/html regions[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/html/comment region <!--     -->                  fill comment[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/html/tag     region <          >                  regions[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/html/style   region <style\b.*?>\K  (?=</style>)  ref css[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/html/script  region <script\b.*?>\K (?=</script>) ref javascript[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/html/tag/base default-region group[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/html/tag/ region '"' (?<!\\)(\\\\)*"      fill string[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/html/tag/ region "'" "'"                  fill string[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/html/tag/base/ regex \b([a-zA-Z0-9_-]+)=? 1:attribute[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/html/tag/base/ regex </?(\w+) 1:keyword[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/html/tag/base/ regex <(!DOCTYPE(\h+\w+)+) 1:meta[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Commands[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# ‾‾‾‾‾‾‾‾[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdefine-command -hidden html-trim-indent %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    # remove trailing white spaces[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    try %{ execute-keys -draft -itersel x s \h+$ <ret> d }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdefine-command -hidden html-indent-on-greater-than %[[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    evaluate-commands -draft -itersel %[[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        # align closing tag to opening when alone on a line[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        try %[ execute-keys -draft , <a-h> s ^\h+<lt>/(\w+)<gt>$ <ret> {c<lt><c-r>1,<lt>/<c-r>1<gt> <ret> s \A|.\z <ret> 1<a-&> ][0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    ][0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m][0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdefine-command -hidden html-indent-on-new-line %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    evaluate-commands -draft -itersel %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        # preserve previous line indent[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        try %{ execute-keys -draft <semicolon> K <a-&> }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        # filter previous line[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        try %{ execute-keys -draft k : html-trim-indent <ret> }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        # indent after lines ending with opening tag except when it starts with a closing tag[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        try %{ execute-keys -draft k x <a-k> <lt>(?!area)(?!base)(?!br)(?!col)(?!command)(?!embed)(?!hr)(?!img)(?!input)(?!keygen)(?!link)(?!menuitem)(?!meta)(?!param)(?!source)(?!track)(?!wbr)(?!/)(?!>)[a-zA-Z0-9_-]+[^>]*?>$ <ret>jx<a-K>^\s*<lt>/<ret><a-gt> } }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m][0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mhook global BufCreate .+\.ini %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    set-option buffer filetype ini[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mhook global WinSetOption filetype=ini %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    require-module ini[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mhook -group ini-highlight global WinSetOption filetype=ini %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    add-highlighter window/ini ref ini[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    hook -once -always window WinSetOption filetype=.* %{ remove-highlighter window/ini }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mprovide-module ini %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/ini regions[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/ini/code default-region group[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/ini/comment region '(^|\h)\K[#;]' $ fill comment[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/ini/code/ regex "(?S)^\h*(\[.+?\])\h*$" 1:title[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/ini/code/ regex "^\h*([^\[][^=\n]*)=([^\n]*)" 1:variable 2:value[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Detection[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# ‾‾‾‾‾‾‾‾‾[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mhook global BufCreate .*[.][cm]?(js)x? %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    set-option buffer filetype javascript[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mhook global BufCreate .*[.][cm]?(ts)x? %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    set-option buffer filetype typescript[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Initialization[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# ‾‾‾‾‾‾‾‾‾‾‾‾‾‾[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mhook global WinSetOption filetype=(javascript|typescript) %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    require-module javascript[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    hook window ModeChange pop:insert:.* -group "%val{hook_param_capture_1}-trim-indent" javascript-trim-indent[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    hook window InsertChar .* -group "%val{hook_param_capture_1}-indent" javascript-indent-on-char[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    hook window InsertChar \n -group "%val{hook_param_capture_1}-insert" javascript-insert-on-new-line[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    hook window InsertChar \n -group "%val{hook_param_capture_1}-indent" javascript-indent-on-new-line[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    hook -once -always window WinSetOption filetype=.* "[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        remove-hooks window %val{hook_param_capture_1}-.+[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    "[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mhook -group javascript-highlight global WinSetOption filetype=javascript %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    add-highlighter window/javascript ref javascript[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    hook -once -always window WinSetOption filetype=.* %{ remove-highlighter window/javascript }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mhook -group typescript-highlight global WinSetOption filetype=typescript %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    add-highlighter window/typescript ref typescript[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    hook -once -always window WinSetOption filetype=.* %{ remove-highlighter window/typescript }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mprovide-module javascript %§[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Commands[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# ‾‾‾‾‾‾‾‾[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdefine-command -hidden javascript-trim-indent %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    # remove trailing white spaces[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    try %{ execute-keys -draft x 1s^(\h+)$<ret> d }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdefine-command -hidden javascript-indent-on-char %<[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    evaluate-commands -draft -itersel %<[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        # align closer token to its opener when alone on a line[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        try %/ execute-keys -draft <a-h> <a-k> ^\h+[\]}]$ <ret> m s \A|.\z <ret> 1<a-&> /[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    >[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m>[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdefine-command -hidden javascript-insert-on-new-line %<[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    evaluate-commands -draft -itersel %<[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    execute-keys <semicolon>[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    try %[[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        evaluate-commands -draft -save-regs '/"' %[[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            # copy the commenting prefix[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            execute-keys -save-regs '' k x1s^\h*(//+\h*)<ret> y[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            try %[[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                # if the previous comment isn't empty, create a new one[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                execute-keys x<a-K>^\h*//+\h*$<ret> jxs^\h*<ret>P[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            ] catch %[[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                # if there is no text in the previous comment, remove it completely[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                execute-keys d[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            ][0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        ][0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    ][0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    try %[[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        # if the previous line isn't within a comment scope, break[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        execute-keys -draft kx <a-k>^(\h*/\*|\h+\*(?!/))<ret>[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        # find comment opening, validate it was not closed, and check its using star prefixes[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        execute-keys -draft <a-?>/\*<ret><a-H> <a-K>\*/<ret> <a-k>\A\h*/\*([^\n]*\n\h*\*)*[^\n]*\n\h*.\z<ret>[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        try %[[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            # if the previous line is opening the comment, insert star preceeded by space[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            execute-keys -draft kx<a-k>^\h*/\*<ret>[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            execute-keys -draft i*<space><esc>[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        ] catch %[[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m           try %[[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                # if the next line is a comment line insert a star[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                execute-keys -draft jx<a-k>^\h+\*<ret>[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                execute-keys -draft i*<space><esc>[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            ] catch %[[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                try %[[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                    # if the previous line is an empty comment line, close the comment scope[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                    execute-keys -draft kx<a-k>^\h+\*\h+$<ret> x1s\*(\h*)<ret>c/<esc>[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                ] catch %[[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                    # if the previous line is a non-empty comment line, add a star[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                    execute-keys -draft i*<space><esc>[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                ][0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            ][0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        ][0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        # trim trailing whitespace on the previous line[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        try %[ execute-keys -draft s\h+$<ret> d ][0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        # align the new star with the previous one[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        execute-keys Kx1s^[^*]*(\*)<ret><a-(><a-&>[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    ][0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    >[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m>[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdefine-command -hidden javascript-indent-on-new-line %<[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    evaluate-commands -draft -itersel %<[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    execute-keys <semicolon>[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    try %<[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        # if previous line is part of a comment, do nothing[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        execute-keys -draft <a-?>/\*<ret> <a-K>^\h*[^/*\h]<ret>[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    > catch %<[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        # else if previous line closed a paren (possibly followed by words and a comment),[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        # copy indent of the opening paren line[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        execute-keys -draft kx 1s(\))(\h+\w+)*\h*(\;\h*)?(?://[^\n]+)?\n\z<ret> m<a-semicolon>J <a-S> 1<a-&>[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    > catch %<[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        # else indent new lines with the same level as the previous one[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        execute-keys -draft K <a-&>[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    >[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    # remove previous empty lines resulting from the automatic indent[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    try %< execute-keys -draft k x <a-k>^\h+$<ret> Hd >[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    # indent after an opening brace or parenthesis at end of line[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    try %< execute-keys -draft k x <a-k>[{(]\h*$<ret> j <a-gt> >[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    # indent after a label (works for case statements)[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    try %< execute-keys -draft k x s[a-zA-Z0-9_-]+:\h*$<ret> j <a-gt> >[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    # indent after a statement not followed by an opening brace[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    try %< execute-keys -draft k x s\)\h*(?://[^\n]+)?\n\z<ret> \[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                               <a-semicolon>mB <a-k>\A\b(if|for|while)\b<ret> <a-semicolon>j <a-gt> >[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    try %< execute-keys -draft k x s \belse\b\h*(?://[^\n]+)?\n\z<ret> \[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                               j <a-gt> >[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    # deindent after a single line statement end[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    try %< execute-keys -draft K x <a-k>\;\h*(//[^\n]+)?$<ret> \[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                               K x s\)(\h+\w+)*\h*(//[^\n]+)?\n([^\n]*\n){2}\z<ret> \[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                               MB <a-k>\A\b(if|for|while)\b<ret> <a-S>1<a-&> >[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    try %< execute-keys -draft K x <a-k>\;\h*(//[^\n]+)?$<ret> \[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                               K x s \belse\b\h*(?://[^\n]+)?\n([^\n]*\n){2}\z<ret> \[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                               <a-S>1<a-&> >[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    # deindent closing brace(s) when after cursor[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    try %< execute-keys -draft x <a-k> ^\h*[})] <ret> gh / [})] <esc> m <a-S> 1<a-&> >[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    # align to the opening parenthesis or opening brace (whichever is first)[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    # on a previous line if its followed by text on the same line[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    try %< evaluate-commands -draft %<[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        # Go to opening parenthesis and opening brace, then select the most nested one[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        try %< execute-keys [c [({],[)}] <ret> >[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        # Validate selection and get first and last char[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        execute-keys <a-k>\A[{(](\h*\S+)+\n<ret> <a-K>"(([^"]*"){2})*<ret> <a-K>'(([^']*'){2})*<ret> <a-:><a-semicolon>L <a-S>[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        # Remove possibly incorrect indent from new line which was copied from previous line[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        try %< execute-keys -draft , <a-h> s\h+<ret> d >[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        # Now indent and align that new line with the opening parenthesis/brace[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        execute-keys 1<a-&> &[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m     > >[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    >[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m>[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Highlighting and hooks bulder for JavaScript and TypeScript[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# ‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdefine-command -hidden init-javascript-filetype -params 1 %~[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    # Highlighters[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    # ‾‾‾‾‾‾‾‾‾‾‾‾[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    add-highlighter "shared/%arg{1}" regions[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    add-highlighter "shared/%arg{1}/code" default-region group[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    add-highlighter "shared/%arg{1}/double_string" region '"'  (?<!\\)(\\\\)*"         fill string[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    add-highlighter "shared/%arg{1}/single_string" region "'"  (?<!\\)(\\\\)*'         fill string[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    add-highlighter "shared/%arg{1}/literal"       region "`"  (?<!\\)(\\\\)*`         group[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    add-highlighter "shared/%arg{1}/comment_line"  region //   '$'                     fill comment[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    add-highlighter "shared/%arg{1}/comment"       region /\*  \*/                     fill comment[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    add-highlighter "shared/%arg{1}/shebang"       region ^#!  $                       fill meta[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    add-highlighter "shared/%arg{1}/division" region '[\w\)\]]\K(/|(\h+/\s+))' '(?=\w)' group # Help Kakoune to better detect /…/ literals[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    add-highlighter "shared/%arg{1}/regex"         region /    (?<!\\)(\\\\)*/[gimuy]* fill meta[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    add-highlighter "shared/%arg{1}/jsx"           region -recurse (?<![\w<])<[a-zA-Z>][\w:.-]* (?<![\w<])<[a-zA-Z>][\w:.-]*(?!\hextends)(?=[\s/>])(?!>\()) (</.*?>|/>) regions[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    # Regular expression flags are: g → global match, i → ignore case, m → multi-lines, u → unicode, y → sticky[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    # https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/RegExp[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    add-highlighter "shared/%arg{1}/literal/"       fill string[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    add-highlighter "shared/%arg{1}/literal/"       regex \$\{.*?\} 0:value[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    add-highlighter "shared/%arg{1}/code/" regex (?:^|[^$_])\b(document|false|null|parent|self|this|true|undefined|window)\b 1:value[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    add-highlighter "shared/%arg{1}/code/" regex "-?\b[0-9]*\.?[0-9]+" 0:value[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    add-highlighter "shared/%arg{1}/code/" regex \b(Array|Boolean|Date|Function|Number|Object|RegExp|String|Symbol)\b 0:type[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    # jsx: In well-formed xml the number of opening and closing tags match up regardless of tag name.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    #[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    # We inline a small XML highlighter here since it anyway need to recurse back up to the starting highlighter.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    # To make things simple we assume that jsx is always enabled.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    add-highlighter "shared/%arg{1}/jsx/tag"  region -recurse <  <(?=[/a-zA-Z>]) (?<!=)> regions[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    add-highlighter "shared/%arg{1}/jsx/expr" region -recurse \{ \{             \}      ref %arg{1}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    add-highlighter "shared/%arg{1}/jsx/tag/base" default-region group[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    add-highlighter "shared/%arg{1}/jsx/tag/double_string" region =\K" (?<!\\)(\\\\)*" fill string[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    add-highlighter "shared/%arg{1}/jsx/tag/single_string" region =\K' (?<!\\)(\\\\)*' fill string[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    add-highlighter "shared/%arg{1}/jsx/tag/expr" region -recurse \{ \{   \}           group[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    add-highlighter "shared/%arg{1}/jsx/tag/base/" regex (\w+) 1:attribute[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    add-highlighter "shared/%arg{1}/jsx/tag/base/" regex </?([\w-$]+) 1:keyword[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    add-highlighter "shared/%arg{1}/jsx/tag/base/" regex (</?|/?>) 0:meta[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    add-highlighter "shared/%arg{1}/jsx/tag/expr/"   ref %arg{1}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    # Keywords are collected at[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    # https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Lexical_grammar#Keywords[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    # https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions/get[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    # https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions/set[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    add-highlighter "shared/%arg{1}/code/" regex \b(async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|export|extends|finally|for|function|get|if|import|in|instanceof|let|new|of|return|set|static|super|switch|throw|try|typeof|var|void|while|with|yield)\b 0:keyword[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m~[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51minit-javascript-filetype javascript[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51minit-javascript-filetype typescript[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Highlighting specific to TypeScript[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# ‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/typescript/code/ regex \b(array|boolean|date|number|object|regexp|string|symbol)\b 0:type[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Keywords grabbed from https://github.com/Microsoft/TypeScript/issues/2536[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/typescript/code/ regex \b(as|constructor|declare|enum|from|implements|interface|module|namespace|package|private|protected|public|readonly|static|type)\b 0:keyword[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m§[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Aliases[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# ‾‾‾‾‾‾‾[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mprovide-module typescript %{ require-module javascript }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# http://json.org[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# ‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Detection[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# ‾‾‾‾‾‾‾‾‾[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mhook global BufCreate .*[.](json) %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    set-option buffer filetype json[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Initialization[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# ‾‾‾‾‾‾‾‾‾‾‾‾‾‾[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mhook global WinSetOption filetype=json %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    require-module json[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    hook window ModeChange pop:insert:.* -group json-trim-indent json-trim-indent[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    hook window InsertChar .* -group json-indent json-indent-on-char[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    hook window InsertChar \n -group json-indent json-indent-on-new-line[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    hook -once -always window WinSetOption filetype=.* %{ remove-hooks window json-.+ }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mhook -group json-highlight global WinSetOption filetype=json %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    add-highlighter window/json ref json[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    hook -once -always window WinSetOption filetype=.* %{ remove-highlighter window/json }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mprovide-module json %([0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Highlighters[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# ‾‾‾‾‾‾‾‾‾‾‾‾[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/json regions[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/json/code default-region group[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/json/string region '"' (?<!\\)(\\\\)*" fill string[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/json/code/ regex \b(true|false|null|\d+(?:\.\d+)?(?:[eE][+-]?\d*)?)\b 0:value[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Commands[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# ‾‾‾‾‾‾‾‾[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdefine-command -hidden json-trim-indent %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    # remove trailing white spaces[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    try %{ execute-keys -draft -itersel x s \h+$ <ret> d }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdefine-command -hidden json-indent-on-char %<[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    evaluate-commands -draft -itersel %<[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        # align closer token to its opener when alone on a line[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        try %< execute-keys -draft <a-h> <a-k> ^\h+[\]}]$ <ret> m <a-S> 1<a-&> >[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    >[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m>[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdefine-command -hidden json-indent-on-new-line %<[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    evaluate-commands -draft -itersel %<[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        # preserve previous line indent[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        try %{ execute-keys -draft <semicolon> K <a-&> }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        # filter previous line[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        try %{ execute-keys -draft k : json-trim-indent <ret> }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        # indent after lines ending with opener token[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        try %< execute-keys -draft k x <a-k> [[{]\h*$ <ret> j <a-gt> >[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        # deindent closer token(s) when after cursor[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        try %< execute-keys -draft x <a-k> ^\h*[}\]] <ret> gh / [}\]] <ret> m <a-S> 1<a-&> >[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    >[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m>[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m)[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# http://kakoune.org[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# ‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Detection[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# ‾‾‾‾‾‾‾‾‾[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mhook global BufCreate (.*/)?(kakrc|.*\.kak) %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    set-option buffer filetype kak[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Initialization[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# ‾‾‾‾‾‾‾‾‾‾‾‾‾‾[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mhook global WinSetOption filetype=kak %~[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    require-module kak[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    set-option window static_words %opt{kak_static_words}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    hook window InsertChar \n -group kak-insert kak-insert-on-new-line[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    hook window InsertChar \n -group kak-indent kak-indent-on-new-line[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    hook window InsertChar [>)}\]] -group kak-indent kak-indent-on-closing-matching[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    hook window InsertChar (?![[{(<>)}\]])[^\s\w] -group kak-indent kak-indent-on-closing-char[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    # cleanup trailing whitespaces on current line insert end[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    hook window ModeChange pop:insert:.* -group kak-trim-indent %{ try %{ execute-keys -draft <semicolon> x s ^\h+$ <ret> d } }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    set-option buffer extra_word_chars '_' '-'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    hook -once -always window WinSetOption filetype=.* %{ remove-hooks window kak-.+ }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m~[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mhook -group kak-highlight global WinSetOption filetype=kak %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    add-highlighter window/kakrc ref kakrc[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    hook -once -always window WinSetOption filetype=.* %{ remove-highlighter window/kakrc }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mprovide-module kak %§[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mrequire-module sh[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Highlighters & Completion[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# ‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/kakrc regions[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/kakrc/code default-region group[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/kakrc/comment region (^|\h)\K# $ fill comment[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/kakrc/double_string region -recurse %{(?<!")("")+(?!")} %{(^|\h)\K"} %{"(?!")} group[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/kakrc/single_string region -recurse %{(?<!')('')+(?!')} %{(^|\h)\K'} %{'(?!')} group[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/kakrc/shell1 region -recurse '\{' '(^|\h)\K%?%sh\{' '\}' ref sh[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/kakrc/shell2 region -recurse '\(' '(^|\h)\K%?%sh\(' '\)' ref sh[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/kakrc/shell3 region -recurse '\[' '(^|\h)\K%?%sh\[' '\]' ref sh[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/kakrc/shell4 region -recurse '<'  '(^|\h)\K%?%sh<'  '>'  ref sh[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/kakrc/shell5 region -recurse '\{' '(^|\h)\K-?shell-script-(completion|candidates)\h+%\{' '\}' ref sh[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/kakrc/shell6 region -recurse '\(' '(^|\h)\K-?shell-script-(completion|candidates)\h+%\(' '\)' ref sh[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/kakrc/shell7 region -recurse '\[' '(^|\h)\K-?shell-script-(completion|candidates)\h+%\[' '\]' ref sh[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/kakrc/shell8 region -recurse '<'  '(^|\h)\K-?shell-script-(completion|candidates)\h+%<'  '>'  ref sh[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mevaluate-commands %sh{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    # Grammar[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    keywords="add-highlighter alias arrange-buffers buffer buffer-next buffer-previous catch[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m              change-directory colorscheme debug declare-option declare-user-mode define-command complete-command[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m              delete-buffer delete-buffer! echo edit edit! enter-user-mode evaluate-commands execute-keys[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m              fail hook info kill kill! map menu nop on-key prompt provide-module quit quit![0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m              remove-highlighter remove-hooks rename-buffer rename-client rename-session require-module[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m              select set-face set-option set-register source trigger-user-hook try[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m              unalias unmap unset-face unset-option update-option[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m              write write! write-all write-all-quit write-quit write-quit!"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    attributes="global buffer window current[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                normal insert menu prompt goto view user object[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                number-lines show-matching show-whitespaces fill regex dynregex group flag-lines[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                ranges line column wrap ref regions region default-region replace-ranges"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    types="int bool str regex int-list str-list completions line-specs range-specs str-to-str-map"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    values="default black red green yellow blue magenta cyan white yes no false true"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    join() { sep=$2; eval set -- $1; IFS="$sep"; echo "$*"; }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    # Add the language's grammar to the static completion list[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    printf %s\\n "declare-option str-list kak_static_words $(join "${keywords} ${attributes} ${types} ${values}" ' ')'"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    # Highlight keywords (which are always surrounded by whitespace)[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    printf '%s\n' "add-highlighter shared/kakrc/code/keywords regex (?:\s|\A)\K($(join "${keywords}" '|'))(?:(?=\s)|\z) 0:keyword[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                   add-highlighter shared/kakrc/code/attributes regex (?:\s|\A)\K($(join "${attributes}" '|'))(?:(?=\s)|\z) 0:attribute[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                   add-highlighter shared/kakrc/code/types regex (?:\s|\A)\K($(join "${types}" '|'))(?:(?=\s)|\z) 0:type[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                   add-highlighter shared/kakrc/code/values regex (?:\s|\A)\K($(join "${values}" '|'))(?:(?=\s)|\z) 0:value"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/kakrc/code/colors regex \b(rgb:[0-9a-fA-F]{6}|rgba:[0-9a-fA-F]{8})\b 0:value[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/kakrc/code/numbers regex \b\d+\b 0:value[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/kakrc/double_string/fill fill string[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/kakrc/double_string/escape regex '""' 0:default+b[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/kakrc/single_string/fill fill string[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/kakrc/single_string/escape regex "''" 0:default+b[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/kak ref kakrc[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Commands[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# ‾‾‾‾‾‾‾‾[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdefine-command -hidden kak-insert-on-new-line %~[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    evaluate-commands -draft -itersel %=[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        # copy '#' comment prefix and following white spaces[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        try %{ execute-keys -draft k x s ^\h*#\h* <ret> y jgh P }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    =[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m~[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdefine-command -hidden kak-indent-on-new-line %~[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    evaluate-commands -draft -itersel %=[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        # preserve previous line indent[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        try %{ execute-keys -draft <semicolon> K <a-&> }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        # cleanup trailing whitespaces from previous line[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        try %{ execute-keys -draft k x s \h+$ <ret> d }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        # indent after line ending with %\w*[^\s\w][0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        try %{ execute-keys -draft k x <a-k> \%\w*[^\s\w]$ <ret> j <a-gt> }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        # deindent closing brace when after cursor[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        try %_ execute-keys -draft -itersel x <a-k> ^\h*([>)}\]]) <ret> gh / <c-r>1 <ret> m <a-S> 1<a-&> _[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        # deindent closing char(s)[0m[7;35m [0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        try %{ execute-keys -draft -itersel x <a-k> ^\h*([^\s\w]) <ret> gh / <c-r>1 <ret> <a-?> <c-r>1 <ret> <a-T>% <a-k> \w*<c-r>1$ <ret> <a-S> 1<a-&> }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    =[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m~[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdefine-command -hidden kak-indent-on-closing-matching %~[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    # align to opening matching brace when alone on a line[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    try %= execute-keys -draft -itersel <a-h><a-k>^\h*\Q %val{hook_param} \E$<ret> mGi s \A|.\z<ret> 1<a-&> =[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m~[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdefine-command -hidden kak-indent-on-closing-char %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    # align to opening matching character when alone on a line[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    try %{ execute-keys -draft -itersel <a-h><a-k>^\h*\Q %val{hook_param} \E$<ret>gi<a-f> %val{hook_param} <a-T>%<a-k>\w*\Q %val{hook_param} \E$<ret> s \A|.\z<ret> gi 1<a-&> }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m§[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# http://lua.org[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# ‾‾‾‾‾‾‾‾‾‾‾‾‾‾[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Detection[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# ‾‾‾‾‾‾‾‾‾[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mhook global BufCreate .*[.](lua|rockspec) %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    set-option buffer filetype lua[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Initialization[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# ‾‾‾‾‾‾‾‾‾‾‾‾‾‾[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mhook global WinSetOption filetype=lua %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    require-module lua[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    hook window ModeChange pop:insert:.* -group lua-trim-indent lua-trim-indent[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    hook window InsertChar .* -group lua-indent lua-indent-on-char[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    hook window InsertChar \n -group lua-indent lua-indent-on-new-line[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    hook window InsertChar \n -group lua-insert lua-insert-on-new-line[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    alias window alt lua-alternative-file[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    hook -once -always window WinSetOption filetype=.* %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        remove-hooks window lua-.+[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        unalias window alt lua-alternative-file[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mhook -group lua-highlight global WinSetOption filetype=lua %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    add-highlighter window/lua ref lua[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    hook -once -always window WinSetOption filetype=.* %{ remove-highlighter window/lua }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mprovide-module lua %§[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Highlighters[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# ‾‾‾‾‾‾‾‾‾‾‾‾[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/lua regions[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/lua/code default-region group[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/lua/raw_string  region -match-capture   '\[(=*)\[' '\](=*)\]' fill string[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/lua/raw_comment region -match-capture '--\[(=*)\[' '\](=*)\]' fill comment[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/lua/double_string region '"'   (?<!\\)(?:\\\\)*" fill string[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/lua/single_string region "'"   (?<!\\)(?:\\\\)*' fill string[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/lua/comment       region '--'  $                 fill comment[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/lua/code/function_declaration regex \b(?:function\h+)(?:\w+\h*\.\h*)*([a-zA-Z_]\w*)\( 1:function[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/lua/code/function_call regex \b([a-zA-Z_]\w*)\h*(?=[\(\{]) 1:function[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/lua/code/keyword regex \b(break|do|else|elseif|end|for|function|goto|if|in|local|repeat|return|then|until|while)\b 0:keyword[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/lua/code/value regex \b(false|nil|true|[0-9]+(:?\.[0-9])?(:?[eE]-?[0-9]+)?|0x[0-9a-fA-F])\b 0:value[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/lua/code/symbolic_operator regex (\+|-|\*|/|%|\^|==?|~=|<=?|>=?|\.\.|\.\.\.|#) 0:operator[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/lua/code/keyword_operator regex \b(and|or|not)\b 0:operator[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/lua/code/module regex \b(_G|_ENV)\b 0:module[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/lua/code/attribute regex \B(<[a-zA-Z_]\w*>)\B 0:attribute[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Commands[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# ‾‾‾‾‾‾‾‾[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdefine-command lua-alternative-file -docstring 'Jump to the alternate file (implementation ↔ test)' %{ evaluate-commands %sh{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    case $kak_buffile in[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        *spec/*_spec.lua)[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            altfile=$(eval printf %s\\n $(printf %s\\n $kak_buffile | sed s+spec/+'*'/+';'s/_spec//))[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            [ ! -f $altfile ] && echo "fail 'implementation file not found'" && exit[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        ;;[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        *.lua)[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            altfile=""[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            altdir=""[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            path=$kak_buffile[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            dirs=$(while [ $path ]; do printf %s\\n $path; path=${path%/*}; done | tail -n +2)[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            for dir in $dirs; do[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                altdir=$dir/spec[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                if [ -d $altdir ]; then[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                    altfile=$altdir/$(realpath $kak_buffile --relative-to $dir | sed s+[^/]'*'/++';'s/.lua$/_spec.lua/)[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                    break[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                fi[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            done[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            [ ! -d "$altdir" ] && echo "fail 'spec/ not found'" && exit[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        ;;[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        *)[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            echo "fail 'alternative file not found'" && exit[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        ;;[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    esac[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    printf %s\\n "edit $altfile"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdefine-command -hidden lua-trim-indent %[[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    # remove trailing whitespaces[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    try %[ execute-keys -draft -itersel x s \h+$ <ret> d ][0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m][0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdefine-command -hidden lua-indent-on-char %[[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    evaluate-commands -no-hooks -draft -itersel %[[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        # unindent middle and end structures[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        try %[ execute-keys -draft \[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            <a-h><a-k>^\h*(\b(end|else|elseif|until)\b|[)}])$<ret> \[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            :lua-indent-on-new-line<ret> \[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            <a-lt>[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        ][0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    ][0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m][0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdefine-command -hidden lua-indent-on-new-line %[[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    evaluate-commands -no-hooks -draft -itersel %[[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        # remove trailing white spaces from previous line[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        try %[ execute-keys -draft k : lua-trim-indent <ret> ][0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        # preserve previous non-empty line indent[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        try %[ execute-keys -draft ,gh<a-?>^[^\n]+$<ret>s\A|.\z<ret>)<a-&> ][0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        # add one indentation level if the previous line is not a comment and:[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        #     - starts with a block keyword that is not closed on the same line,[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        #     - or contains an unclosed function expression,[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        #     - or ends with an enclosed '(' or '{'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        try %[ execute-keys -draft \[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            , Kx \[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            <a-K>\A\h*--<ret> \[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            <a-K>\A[^\n]*\b(end|until)\b<ret> \[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            <a-k>\A(\h*\b(do|else|elseif|for|function|if|repeat|while)\b|[^\n]*[({]$|[^\n]*\bfunction\b\h*[(])<ret> \[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            <a-:><semicolon><a-gt>[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        ][0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    ][0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m][0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdefine-command -hidden lua-insert-on-new-line %[[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    evaluate-commands -no-hooks -draft -itersel %[[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        # copy -- comment prefix and following white spaces[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        try %[ execute-keys -draft kxs^\h*\K--\h*<ret> y gh j x<semicolon> P ][0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        # wisely add end structure[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        evaluate-commands -save-regs x %[[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            # save previous line indent in register x[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            try %[ execute-keys -draft kxs^\h+<ret>"xy ] catch %[ reg x '' ][0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            try %[[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                # check that starts with a block keyword that is not closed on the same line[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                execute-keys -draft \[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                    kx \[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                    <a-k>^\h*\b(else|elseif|do|for|function|if|while)\b|[^\n]\bfunction\b\h*[(]<ret> \[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                    <a-K>\bend\b<ret>[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                # check that the block is empty and is not closed on a different line[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                execute-keys -draft <a-a>i <a-K>^[^\n]+\n[^\n]+\n<ret> jx <a-K>^<c-r>x\b(else|elseif|end)\b<ret>[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                # auto insert end[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                execute-keys -draft o<c-r>xend<esc>[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                # auto insert ) for anonymous function[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                execute-keys -draft kx<a-k>\([^)\n]*function\b<ret>jjA)<esc>[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            ][0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        ][0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    ][0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m][0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m§[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdeclare-option -docstring "shell command run to build the project" \[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    str makecmd make[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdeclare-option -docstring "pattern that describes lines containing information about errors in the output of the `makecmd` command" \[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    str make_error_pattern " (?:fatal )?error:"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdeclare-option -docstring "name of the client in which utilities display information" \[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    str toolsclient[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdeclare-option -hidden int make_current_error_line[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdefine-command -params .. \[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    -docstring %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        make [<arguments>]: make utility wrapper[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        All the optional arguments are forwarded to the make utility[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m     } make %{ evaluate-commands %sh{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m     output=$(mktemp -d "${TMPDIR:-/tmp}"/kak-make.XXXXXXXX)/fifo[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m     mkfifo ${output}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m     ( eval "${kak_opt_makecmd}" "$@" > ${output} 2>&1 & ) > /dev/null 2>&1 < /dev/null[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m     printf %s\\n "evaluate-commands -try-client '$kak_opt_toolsclient' %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m               edit! -fifo ${output} -scroll *make*[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m               set-option buffer filetype make[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m               set-option buffer make_current_error_line 0[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m               hook -always -once buffer BufCloseFifo .* %{ nop %sh{ rm -r $(dirname ${output}) } }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m           }"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/make group[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/make/ regex "^((?:\w:)?[^:\n]+):(\d+):(?:(\d+):)?\h+(?:((?:fatal )?error)|(warning)|(note)|(required from(?: here)?))?.*?$" 1:cyan 2:green 3:green 4:red 5:yellow 6:blue 7:yellow[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/make/ regex "^\h*(~*(?:(\^)~*)?)$" 1:green 2:cyan+b[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/make/ line '%opt{make_current_error_line}' default+b[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mhook -group make-highlight global WinSetOption filetype=make %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    add-highlighter window/make ref make[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    hook -once -always window WinSetOption filetype=.* %{ remove-highlighter window/make }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mhook global WinSetOption filetype=make %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    hook buffer -group make-hooks NormalKey <ret> make-jump[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    hook -once -always window WinSetOption filetype=.* %{ remove-hooks buffer make-hooks }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdeclare-option -docstring "name of the client in which all source code jumps will be executed" \[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    str jumpclient[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdefine-command -hidden make-open-error -params 4 %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    evaluate-commands -try-client %opt{jumpclient} %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        edit -existing "%arg{1}" %arg{2} %arg{3}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        echo -markup "{Information}{\}%arg{4}"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        try %{ focus }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdefine-command -hidden make-jump %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    evaluate-commands %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        try %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            execute-keys gl<a-?> "Entering directory" <ret><a-:>[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            # Try to parse the error into capture groups, failing on absolute paths[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            execute-keys s "Entering directory [`']([^']+)'.*\n([^:/][^:]*):(\d+):(?:(\d+):)?([^\n]+)\z" <ret>l[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            set-option buffer make_current_error_line %val{cursor_line}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            make-open-error "%reg{1}/%reg{2}" "%reg{3}" "%reg{4}" "%reg{5}"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        } catch %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            execute-keys <a-h><a-l> s "((?:\w:)?[^:]+):(\d+):(?:(\d+):)?([^\n]+)\z" <ret>l[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            set-option buffer make_current_error_line %val{cursor_line}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            make-open-error "%reg{1}" "%reg{2}" "%reg{3}" "%reg{4}"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdefine-command make-next-error -docstring 'Jump to the next make error' %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    evaluate-commands -try-client %opt{jumpclient} %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        buffer '*make*'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        execute-keys "%opt{make_current_error_line}ggl" "/^(?:\w:)?[^:\n]+:\d+:(?:\d+:)?%opt{make_error_pattern}<ret>"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        make-jump[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    try %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        evaluate-commands -client %opt{toolsclient} %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            buffer '*make*'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            execute-keys %opt{make_current_error_line}g[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdefine-command make-previous-error -docstring 'Jump to the previous make error' %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    evaluate-commands -try-client %opt{jumpclient} %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        buffer '*make*'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        execute-keys "%opt{make_current_error_line}g" "<a-/>^(?:\w:)?[^:\n]+:\d+:(?:\d+:)?%opt{make_error_pattern}<ret>"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        make-jump[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    try %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        evaluate-commands -client %opt{toolsclient} %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            buffer '*make*'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            execute-keys %opt{make_current_error_line}g[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Detection[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# ‾‾‾‾‾‾‾‾‾[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mhook global BufCreate .*(/?[mM]akefile|\.mk|\.make) %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    set-option buffer filetype makefile[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Initialization[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# ‾‾‾‾‾‾‾‾‾‾‾‾‾‾[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mhook global WinSetOption filetype=makefile %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    require-module makefile[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    set-option window static_words %opt{makefile_static_words}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    hook window ModeChange pop:insert:.* -group makefile-trim-indent makefile-trim-indent[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    hook window InsertChar \n -group makefile-indent makefile-indent-on-new-line[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    hook -once -always window WinSetOption filetype=.* %{ remove-hooks window makefile-.+ }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mhook -group makefile-highlight global WinSetOption filetype=makefile %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    add-highlighter window/makefile ref makefile[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    hook -once -always window WinSetOption filetype=.* %{ remove-highlighter window/makefile }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mprovide-module makefile %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Highlighters[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# ‾‾‾‾‾‾‾‾‾‾‾‾[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/makefile regions[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/makefile/content default-region group[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/makefile/comment region (?<!\\)(?:\\\\)*(?:^|\h)\K# '$' fill comment[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/makefile/evaluate-commands region -recurse \( (?<!\$)(?:\$\$)*\K\$\( \) fill value[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/makefile/content/ regex ^\S.*?(::|:|!)\s 0:variable[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/makefile/content/ regex [+?:]= 0:operator[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mevaluate-commands %sh{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    # Grammar[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    keywords="ifeq|ifneq|ifdef|ifndef|else|endif|define|endef"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    # Add the language's grammar to the static completion list[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    printf %s\\n "declare-option str-list makefile_static_words ${keywords}" | tr '|' ' '[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    # Highlight keywords[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    printf %s "add-highlighter shared/makefile/content/ regex \b(${keywords})\b 0:keyword"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Commands[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# ‾‾‾‾‾‾‾‾[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdefine-command -hidden makefile-trim-indent %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    evaluate-commands -no-hooks -draft -itersel %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        execute-keys x[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        # remove trailing white spaces[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        try %{ execute-keys -draft s \h + $ <ret> d }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdefine-command -hidden makefile-indent-on-new-line %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    evaluate-commands -draft -itersel %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        # preserve previous line indent[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        try %{ execute-keys -draft <semicolon>K<a-&> }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        ## If the line above is a target indent with a tab[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        try %{ execute-keys -draft Z kx <a-k>^\S.*?(::|:|!)\s<ret> z i<tab> }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        # cleanup trailing white space son previous line[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        try %{ execute-keys -draft kx s \h+$ <ret>d }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        # indent after some keywords[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        try %{ execute-keys -draft Z kx <a-k> ^\h*(ifeq|ifneq|ifdef|ifndef|else|define)\b<ret> z <a-gt> }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdeclare-option -docstring "name of the client in which documentation is to be displayed" \[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    str docsclient[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdeclare-option -hidden str-list manpage[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mhook -group man-highlight global WinSetOption filetype=man %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    add-highlighter window/man-highlight group[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    # Sections[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    add-highlighter window/man-highlight/ regex ^\S.*?$ 0:title[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    # Subsections[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    add-highlighter window/man-highlight/ regex '^ {3}\S.*?$' 0:default+b[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    # Command line options[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    add-highlighter window/man-highlight/ regex '^ {7}-[^\s,]+(,\s+-[^\s,]+)*' 0:list[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    # References to other manpages[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    add-highlighter window/man-highlight/ regex [-a-zA-Z0-9_.]+\([a-z0-9]+\) 0:header[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    map window normal <ret> :man-jump<ret>[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    hook -once -always window WinSetOption filetype=.* %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m      remove-highlighter window/man-highlight[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m      unmap window normal <ret>[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mhook global WinSetOption filetype=man %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    hook -group man-hooks window WinResize .* %{ man-impl %opt{manpage} }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    hook -once -always window WinSetOption filetype=.* %{ remove-hooks window man-hooks }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdefine-command -hidden -params ..3 man-impl %{ evaluate-commands %sh{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    buffer_name="$1"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    if [ -z "${buffer_name}" ]; then[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        exit[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    fi[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    shift[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    manout=$(mktemp "${TMPDIR:-/tmp}"/kak-man.XXXXXX)[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    manerr=$(mktemp "${TMPDIR:-/tmp}"/kak-man.XXXXXX)[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    colout=$(mktemp "${TMPDIR:-/tmp}"/kak-man.XXXXXX)[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    env MANWIDTH=${kak_window_range##* } man "$@" > "$manout" 2> "$manerr"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    retval=$?[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    if command -v col >/dev/null; then[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        col -b -x > ${colout} < ${manout}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    else[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        sed 's/.//g' > ${colout} < ${manout}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    fi[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    rm ${manout}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    if [ "${retval}" -eq 0 ]; then[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        printf %s\\n "[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                edit -scratch %{*$buffer_name ${*}*}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                execute-keys '%|cat<space>${colout}<ret>gk'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                nop %sh{ rm ${colout}; rm ${manerr} }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                set-option buffer filetype man[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                set-option window manpage $buffer_name $*[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        "[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    else[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        printf '[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            fail %%{%s}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            nop %%sh{ rm "%s"; rm "%s" }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        ' "$(cat "$manerr")" "${colout}" "${manerr}"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    fi[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m} }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdefine-command -params ..1 \[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    -shell-script-candidates %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        find /usr/share/man/ $(printf %s "${MANPATH}" | sed 's/:/ /') -name '*.[1-8]*' | sed 's,^.*/\(.*\)\.\([1-8][a-zA-Z]*\).*$,\1(\2),'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    } \[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    -docstring %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        man [<page>]: manpage viewer wrapper[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        If no argument is passed to the command, the selection will be used as page[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        The page can be a word, or a word directly followed by a section number between parenthesis, e.g. kak(1)[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    } man %{ evaluate-commands %sh{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    subject=${1-$kak_selection}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    ## The completion suggestions display the page number, strip them if present[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    case "${subject}" in[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        *\([1-8]*\))[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            pagenum="${subject##*\(}"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            pagenum="${pagenum%\)}"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            subject="${subject%%\(*}"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            ;;[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        *)[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            pagenum=""[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            ;;[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    esac[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    printf %s\\n "evaluate-commands -try-client %opt{docsclient} man-impl man $pagenum $subject"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m} }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# The following section of code enables a user[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# to go to next or previous man page links and to follow man page links,[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# for example, apropos(1), that would normally appear in SEE ALSO sections.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# The user would position the cursor on any character of the link[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# and then press <ret> to change to a buffer showing the man page.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Regex pattern defining a man page link.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Used for determining if a selection, which may just be a link, is a link.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdeclare-option -hidden regex man_link1 \[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  [\w_.:-]+\(\d[a-z]*\)[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Same as above but with lookbehind and lookahead patterns.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Used for searching for a man page link.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdeclare-option -hidden regex man_link2 \[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  "(?:^|(?<=\W))%opt{man_link1}(?=\W)"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Define a useful command sequence for searching a given regex[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# and a given sequence of search keys.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdefine-command -hidden man-search -params 2 %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    set-register / %arg[1][0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    try %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        execute-keys %arg[2][0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    } catch %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        fail "Could not find man page link"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdefine-command -docstring 'Go to next man page link' \[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mman-link-next %{ man-search %opt[man_link2] n }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdefine-command -docstring 'Go to previous man page link' \[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mman-link-prev %{ man-search %opt[man_link2] <a-n> }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdefine-command -docstring 'Try to jump to a man page' \[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mman-jump %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  try %{ execute-keys <a-a><a-w> s %opt[man_link1] <ret> } catch %{ fail 'Not a valid man page link' }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  try %{ man } catch %{ fail 'No man page link to follow' }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Suggested keymaps for a user mode[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdeclare-user-mode man[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mmap global man 'g' -docstring 'Jump to a man page using selected man page link' :man-jump<ret>[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mmap global man 'j' -docstring 'Go to next man page link'                        :man-link-next<ret>[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mmap global man 'k' -docstring 'Go to previous man page link'                    :man-link-prev<ret>[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mmap global man 'm' -docstring 'Look up a man page'                              :man<space>[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# http://daringfireball.net/projects/markdown[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# ‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Detection[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# ‾‾‾‾‾‾‾‾‾[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mhook global BufCreate .*[.](markdown|md|mkd) %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    set-option buffer filetype markdown[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Initialization[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# ‾‾‾‾‾‾‾‾‾‾‾‾‾‾[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mhook global WinSetOption filetype=markdown %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    require-module markdown[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    hook window ModeChange pop:insert:.* -group markdown-trim-indent markdown-trim-indent[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    hook window InsertChar \n -group markdown-insert markdown-insert-on-new-line[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    hook window InsertChar \n -group markdown-indent markdown-indent-on-new-line[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    hook -once -always window WinSetOption filetype=.* %{ remove-hooks window markdown-.+ }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mhook -group markdown-load-languages global WinSetOption filetype=markdown %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    markdown-load-languages '%'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mhook -group markdown-load-languages global WinSetOption filetype=markdown %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    hook -group markdown-load-languages window NormalIdle .* %{markdown-load-languages gtGbGl}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    hook -group markdown-load-languages window InsertIdle .* %{markdown-load-languages gtGbGl}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mhook -group markdown-highlight global WinSetOption filetype=markdown %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    add-highlighter window/markdown ref markdown[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    hook -once -always window WinSetOption filetype=.* %{ remove-highlighter window/markdown }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mprovide-module markdown %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Highlighters[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# ‾‾‾‾‾‾‾‾‾‾‾‾[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/markdown regions[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/markdown/inline default-region regions[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/markdown/inline/text default-region group[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/markdown/listblock region ^\h*[-*]\s ^(?=\S) regions[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/markdown/listblock/g default-region group[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/markdown/listblock/g/ ref markdown/inline[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/markdown/listblock/g/marker regex ^\h*([-*])\s 1:bullet[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/markdown/codeblock region -match-capture \[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    ^(\h*)```\h* \[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    ^(\h*)```\h*$ \[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    regions[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/markdown/codeblock/ default-region fill meta[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/markdown/listblock/codeblock region -match-capture \[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    ^(\h*)```\h* \[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    ^(\h*)```\h*$ \[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    regions[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/markdown/listblock/codeblock/ default-region fill meta[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/markdown/codeline region "^( {4}|\t)" "$" fill meta[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# https://spec.commonmark.org/0.29/#link-destination[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/markdown/angle_bracket_url region (?<=<)([a-z]+://|(mailto|magnet|xmpp):) (?!\\).(?=>)|\n fill link[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/markdown/inline/url region -recurse \( (\b[a-z]+://|(mailto|magnet|xmpp):) (?!\\).(?=\))|\s fill link[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/markdown/listblock/angle_bracket_url region (?<=<)(\b[a-z]+://|(mailto|magnet|xmpp):) (?!\\).(?=>)|\n fill link[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mtry %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    require-module html[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    add-highlighter shared/markdown/inline/tag region (?i)</?[a-z][a-z0-9-]*\s*([a-z_:]|(?=>)) > ref html/tag[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/markdown/inline/code region -match-capture (`+) (`+) fill mono[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Setext-style header[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/markdown/inline/text/ regex (\A|^\n)[^\n]+\n={2,}\h*\n\h*$ 0:title[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/markdown/inline/text/ regex (\A|^\n)[^\n]+\n-{2,}\h*\n\h*$ 0:header[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Atx-style header[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/markdown/inline/text/ regex ^#[^\n]* 0:header[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/markdown/inline/text/ regex (?<!\*)(\*([^\s*]|([^\s*](\n?[^\n*])*[^\s*]))\*)(?!\*) 1:+i[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/markdown/inline/text/ regex (?<!_)(_([^\s_]|([^\s_](\n?[^\n_])*[^\s_]))_)(?!_) 1:+i[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/markdown/inline/text/ regex (?<!\*)(\*\*([^\s*]|([^\s*](\n?[^\n*])*[^\s*]))\*\*)(?!\*) 1:+b[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/markdown/inline/text/ regex (?<!_)(__([^\s_]|([^\s_](\n?[^\n_])*[^\s_]))__)(?!_) 1:+b[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/markdown/inline/text/ regex ^\h*(>\h*)+ 0:comment[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/markdown/inline/text/ regex "\H( {2,})$" 1:+r@meta[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Commands[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# ‾‾‾‾‾‾‾‾[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdefine-command markdown-load-languages -params 1 %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    evaluate-commands -draft %{ try %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        execute-keys "%arg{1}s```\h*\{?[.=]?\K\w+<ret>" # }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        evaluate-commands -itersel %{ try %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            require-module %val{selection}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            add-highlighter "shared/markdown/codeblock/%val{selection}" region -match-capture "^(\h*)```\h*(%val{selection}\b|\{[.=]?%val{selection}\})" ^(\h*)``` regions[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            add-highlighter "shared/markdown/codeblock/%val{selection}/" default-region fill meta[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            add-highlighter "shared/markdown/codeblock/%val{selection}/inner" region \A\h*```[^\n]*\K (?=```) ref %val{selection}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            add-highlighter "shared/markdown/listblock/codeblock/%val{selection}" region -match-capture "^(\h*)```\h*(%val{selection}\b|\{[.=]?%val{selection}\})" ^(\h*)``` regions[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            add-highlighter "shared/markdown/listblock/codeblock/%val{selection}/" default-region fill meta[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            add-highlighter "shared/markdown/listblock/codeblock/%val{selection}/inner" region \A\h*```[^\n]*\K (?=```) ref %val{selection}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        }}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    }}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdefine-command -hidden markdown-trim-indent %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    evaluate-commands -no-hooks -draft -itersel %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        execute-keys x[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        # remove trailing white spaces[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        try %{ execute-keys -draft s \h + $ <ret> d }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdefine-command -hidden markdown-insert-on-new-line %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    try %{ execute-keys -draft -itersel k x s ^\h*\K((>\h*)+([*+-]\h)?|(>\h*)*[*+-]\h)\h* <ret> y gh j P }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdefine-command -hidden markdown-indent-on-new-line %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    evaluate-commands -draft -itersel %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        # preserve previous line indent[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        try %{ execute-keys -draft <semicolon> K <a-&> }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        # remove trailing white spaces[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        try %{ execute-keys -draft k x s \h+$ <ret> d }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# http://ruby-lang.org[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# ‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Detection[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# ‾‾‾‾‾‾‾‾‾[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mhook global BufCreate .*(([.](rb))|(irbrc)|(pryrc)|(Brewfile)|(Capfile|[.]cap)|(Gemfile|[.]gemspec)|(Guardfile)|(Rakefile|[.]rake)|(Thorfile|[.]thor)|(Vagrantfile)) %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    set-option buffer filetype ruby[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Initialization[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# ‾‾‾‾‾‾‾‾‾‾‾‾‾‾[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mhook global WinSetOption filetype=ruby %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    require-module ruby[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    set-option window static_words %opt{ruby_static_words}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    hook window ModeChange pop:insert:.* -group ruby-trim-indent ruby-trim-indent[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    hook window InsertChar .* -group ruby-indent ruby-indent-on-char[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    hook window InsertChar \n -group ruby-indent ruby-indent-on-new-line[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    hook window InsertChar \n -group ruby-insert ruby-insert-on-new-line[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    alias window alt ruby-alternative-file[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    hook -once -always window WinSetOption filetype=.* %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        remove-hooks window ruby-.+[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        unalias window alt ruby-alternative-file[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mhook -group ruby-highlight global WinSetOption filetype=ruby %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    add-highlighter window/ruby ref ruby[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    hook -once -always window WinSetOption filetype=.* %{ remove-highlighter window/ruby }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mprovide-module ruby %§[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Highlighters[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# ‾‾‾‾‾‾‾‾‾‾‾‾[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/ruby regions[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/ruby/code default-region group[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/ruby/double_symbol region ':"' (?<!\\)(\\\\)*"                regions[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/ruby/single_symbol region ":'" (?<!\\)(\\\\)*'                fill variable[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/ruby/double_string region '"' (?<!\\)(\\\\)*"                 regions[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/ruby/single_string region "'" (?<!\\)(\\\\)*'                 fill string[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/ruby/backtick      region '(?<![$:])`' (?<!\\)(\\\\)*`        regions[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/ruby/regex         region '(?<![$:])/' (?<!\\)(\\\\)*/[imox]* regions[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/ruby/              region '#' '$'                             fill comment[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/ruby/              region ^=begin ^=end                       fill comment[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/ruby/              region -recurse \( '%[qwQW]?\(' \)         fill string[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/ruby/              region -recurse \{ '%[qwQW]?\{' \}         fill string[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/ruby/              region -recurse \[ '%[qwQW]?\[' \]         fill string[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/ruby/              region -recurse  < '%[qwQW]?<'   >         fill string[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/ruby/              region -recurse \( '%[isIS]\('  \)         fill variable[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/ruby/              region -recurse \{ '%[isIS]\{'  \}         fill variable[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/ruby/              region -recurse \[ '%[isIS]\['  \]         fill variable[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/ruby/              region -recurse  < '%[isIS]<'    >         fill variable[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/ruby/              region -recurse \( '%[rxRX]\('  \)         fill meta[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/ruby/              region -recurse \{ '%[rxRX]\{'  \}         fill meta[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/ruby/              region -recurse \[ '%[rxRX]\['  \]         fill meta[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/ruby/              region -recurse  < '%[rxRX]<'    >         fill meta[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/ruby/              region -match-capture '%[qwQW]?([^\s0-9A-Za-z\(\{\[<>\]\}\)])' ([^\s0-9A-Za-z\(\{\[<>\]\}\)]) fill string[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/ruby/              region -match-capture '%[isIS]([^\s0-9A-Za-z\(\{\[<>\]\}\)])' ([^\s0-9A-Za-z\(\{\[<>\]\}\)]) fill variable[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/ruby/              region -match-capture '%[rxRX]([^\s0-9A-Za-z\(\{\[<>\]\}\)])' ([^\s0-9A-Za-z\(\{\[<>\]\}\)]) fill meta[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/ruby/heredoc region -match-capture '<<[-~]?(?!self)(\w+)'      '^\h*(\w+)$' fill string[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/ruby/division region '[\w\)\]]\K(/|(\h+/\h+))' '\w' group # Help Kakoune to better detect /…/ literals[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Regular expression flags are: i → ignore case, m → multi-lines, o → only interpolate #{} blocks once, x → extended mode (ignore white spaces)[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Literals are: i → array of symbols, q → string, r → regular expression, s → symbol, w → array of words, x → capture shell result[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/ruby/double_string/ default-region fill string[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/ruby/double_string/interpolation region -recurse \{ \Q#{ \} fill meta[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/ruby/double_symbol/ default-region fill variable[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/ruby/double_symbol/interpolation region -recurse \{ \Q#{ \} fill meta[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/ruby/backtick/ default-region fill meta[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/ruby/backtick/interpolation region -recurse \{ \Q#{ \} fill meta[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/ruby/regex/ default-region fill meta[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/ruby/regex/interpolation region -recurse \{ \Q#{ \} fill meta[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mevaluate-commands %sh{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    # Grammar[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    # Keywords are collected searching for keywords at[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    # https://github.com/ruby/ruby/blob/trunk/parse.y[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    keywords="alias|and|begin|break|case|class|def|defined|do|else|elsif|end"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    keywords="${keywords}|ensure|false|for|if|in|module|next|nil|not|or|private|protected|public|redo"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    keywords="${keywords}|rescue|retry|return|self|super|then|true|undef|unless|until|when|while|yield"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    attributes="attr_reader|attr_writer|attr_accessor"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    values="false|true|nil"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    meta="require|require_relative|include|extend"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    # Add the language's grammar to the static completion list[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    printf %s\\n "declare-option str-list ruby_static_words ${keywords} ${attributes} ${values} ${meta}" | tr '|' ' '[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    # Highlight keywords[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    printf %s "[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        add-highlighter shared/ruby/code/ regex \b(${keywords})[^0-9A-Za-z_!?] 1:keyword[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        add-highlighter shared/ruby/code/ regex \b(${attributes})\b 0:attribute[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        add-highlighter shared/ruby/code/ regex \b(${values})\b 0:value[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        add-highlighter shared/ruby/code/ regex \b(${meta})\b 0:meta[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    "[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/ruby/code/ regex \b(\w+:(?!:))|(:?(\$(-[0FIKWadilpvw]|["'`/~&+=!$*,:.\;<>?@\\])|(\$|@@?)\w+))|((?<!:):(![~=]|=~|>[=>]?|<((=>?)|<)?|[+\-]@?|\*\*?|===?|[/`%&!^|~]|(\w+[=?!]?)|(\[\]=?)))|([A-Z]\w*|^|\h)\K::(?=[A-Z]) 0:variable[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Commands[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# ‾‾‾‾‾‾‾‾[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdefine-command ruby-alternative-file -docstring 'Jump to the alternate file (implementation ↔ test)' %{ evaluate-commands %sh{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    case $kak_buffile in[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        *spec/*_spec.rb)[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            altfile=$(eval echo $(echo $kak_buffile | sed s+spec/+'*'/+';'s/_spec//))[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            [ ! -f $altfile ] && echo "fail 'implementation file not found'" && exit[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        ;;[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        *test/*_test.rb)[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            altfile=$(eval echo $(echo $kak_buffile | sed s+test/+'*'/+';'s/_test//))[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            [ ! -f $altfile ] && echo "fail 'implementation file not found'" && exit[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        ;;[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        *.rb)[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            altfile=""[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            altdir=""[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            path=$kak_buffile[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            dirs=$(while [ $path ]; do echo $path; path=${path%/*}; done | tail -n +2)[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            for dir in $dirs; do[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                altdir=$dir/spec && suffix=spec[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                [ ! -d $altdir ] && altdir=$dir/test && suffix=test[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                if [ -d $altdir ]; then[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                    altfile=$altdir/$(realpath $kak_buffile --relative-to $dir | sed s+[^/]'*'/++';'s/.rb$/_${suffix}.rb/)[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                    break[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                fi[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            done[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            [ ! -d "$altdir" ] && echo "fail 'spec/ and test/ not found'" && exit[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        ;;[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        *)[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            echo "fail 'alternative file not found'" && exit[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        ;;[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    esac[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    echo "edit $altfile"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdefine-command -hidden ruby-trim-indent %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    evaluate-commands -no-hooks -draft -itersel %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        execute-keys x[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        # remove trailing white spaces[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        try %{ execute-keys -draft s \h + $ <ret> d }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdefine-command -hidden ruby-indent-on-char %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    evaluate-commands -no-hooks -draft -itersel %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        # align middle and end structures to start[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        try %{ execute-keys -draft x <a-k> ^ \h * (else)   $ <ret> <a-a> i <a-semicolon> <a-?> ^ \h * (if|case)                                               <ret> <a-S> 1<a-&> }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        try %{ execute-keys -draft x <a-k> ^ \h * (elsif)  $ <ret> <a-a> i <a-semicolon> <a-?> ^ \h * (if)                                                    <ret> <a-S> 1<a-&> }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        try %{ execute-keys -draft x <a-k> ^ \h * (when)   $ <ret> <a-a> i <a-semicolon> <a-?> ^ \h * (case)                                                  <ret> <a-S> 1<a-&> }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        try %{ execute-keys -draft x <a-k> ^ \h * (rescue) $ <ret> <a-a> i <a-semicolon> <a-?> ^ \h * (begin|def)                                             <ret> <a-S> 1<a-&> }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdefine-command -hidden ruby-indent-on-new-line %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    evaluate-commands -no-hooks -draft -itersel %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        # preserve previous line indent[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        try %{ execute-keys -draft K <a-&> }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        # filter previous line[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        try %{ execute-keys -draft k : ruby-trim-indent <ret> }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        # indent after start structure[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        try %{ execute-keys -draft k x <a-k> ^ \h * (begin|case|class|def|else|elsif|ensure|for|if|module|rescue|unless|until|when|while|.+\bdo$|.+\bdo\h\|.+(?=\|)) [^0-9A-Za-z_!?] <ret> j <a-gt> }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdefine-command -hidden ruby-insert-on-new-line %[[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    evaluate-commands -no-hooks -draft -itersel %[[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        # copy _#_ comment prefix and following white spaces[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        try %{ execute-keys -draft k x s ^\h*\K#\h* <ret> y jgi P }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        # wisely add end structure[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        evaluate-commands -save-regs x %[[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            try %{ execute-keys -draft k x s ^ \h + <ret> \" x y } catch %{ reg x '' }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            try %[[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                evaluate-commands -draft %[[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                    # Check if previous line opens a block[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                    execute-keys -draft kx <a-k>^<c-r>x(begin|case|class|def|for|if|module|unless|until|while|.+\bdo$|.+\bdo\h\|.+(?=\|))[^0-9A-Za-z_!?]<ret>[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                    # Check that we do not already have an end for this indent level which is first set via `ruby-indent-on-new-line` hook[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                    execute-keys -draft }i J x <a-K> ^<c-r>x(end|else|elsif|rescue|when)[^0-9A-Za-z_!?]<ret>[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                ][0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                execute-keys -draft o<c-r>xend<esc> # insert a new line with containing end[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            ][0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        ][0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    ][0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m][0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m§[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mhook global BufCreate .*\.((z|ba|c|k|mk)?sh(rc|_profile)?|profile) %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    set-option buffer filetype sh[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mhook global WinSetOption filetype=sh %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    require-module sh[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    set-option window static_words %opt{sh_static_words}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    hook window ModeChange pop:insert:.* -group sh-trim-indent sh-trim-indent[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    hook window InsertChar \n -group sh-insert sh-insert-on-new-line[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    hook window InsertChar \n -group sh-indent sh-indent-on-new-line[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    hook -once -always window WinSetOption filetype=.* %{ remove-hooks window sh-.+ }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mhook -group sh-highlight global WinSetOption filetype=sh %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    add-highlighter window/sh ref sh[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    hook -once -always window WinSetOption filetype=.* %{ remove-highlighter window/sh }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# using non-ascii characters here so that we can use the '[' command[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mprovide-module sh %§[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/sh regions[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/sh/code default-region group[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/sh/arithmetic region -recurse \(.*?\( (\$|(?<=for)\h*)\(\( \)\) group[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/sh/double_string region  %{(?<!\\)(?:\\\\)*\K"} %{(?<!\\)(?:\\\\)*"} group[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/sh/single_string region %{(?<!\\)(?:\\\\)*\K'} %{'} fill string[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/sh/expansion region -recurse (?<!\\)(?:\\\\)*\K\$\{ (?<!\\)(?:\\\\)*\K\$\{ \}|\n fill value[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/sh/comment region (?<!\\)(?:\\\\)*(?:^|\h)\K# '$' fill comment[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/sh/heredoc region -match-capture '<<-?\h*''?(\w+)''?' '^\t*(\w+)$' fill string[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/sh/arithmetic/expansion ref sh/double_string/expansion[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/sh/double_string/fill fill string[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mevaluate-commands %sh{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    # Grammar[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    # Generated with `compgen -k` in bash[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    keywords="if then else elif fi case esac for select while until do done in[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m             function time coproc"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    # Generated with `compgen -b` in bash[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    builtins="alias bg bind break builtin caller cd command compgen complete[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m             compopt continue declare dirs disown echo enable eval exec[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m             exit export false fc fg getopts hash help history jobs kill[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m             let local logout mapfile popd printf pushd pwd read readarray[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m             readonly return set shift shopt source suspend test times trap[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m             true type typeset ulimit umask unalias unset wait"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    join() { sep=$2; eval set -- $1; IFS="$sep"; echo "$*"; }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    # Add the language's grammar to the static completion list[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    printf %s\\n "declare-option str-list sh_static_words $(join "${keywords}" ' ') $(join "${builtins}" ' ')"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    # Highlight keywords[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    printf %s\\n "add-highlighter shared/sh/code/ regex (?<!-)\b($(join "${keywords}" '|'))\b(?!-) 0:keyword"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    # Highlight builtins[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    printf %s "add-highlighter shared/sh/code/builtin regex (?<!-)\b($(join "${builtins}" '|'))\b(?!-) 0:builtin"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/sh/code/operators regex [\[\]\(\)&|]{1,2} 0:operator[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/sh/code/variable regex ((?<![-:])\b\w+)= 1:variable[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/sh/code/alias regex \balias(\h+[-+]\w)*\h+([\w-.]+)= 2:variable[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/sh/code/function regex ^\h*(\S+(?<!=))\h*\(\) 1:function[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/sh/code/unscoped_expansion regex (?<!\\)(?:\\\\)*\K\$(\w+|#|@|\?|\$|!|-|\*) 0:value[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/sh/double_string/expansion regex (?<!\\)(?:\\\\)*\K\$(\w+|#|@|\?|\$|!|-|\*|\{.+?\}) 0:value[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Commands[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# ‾‾‾‾‾‾‾‾[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdefine-command -hidden sh-trim-indent %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    # remove trailing white spaces[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    try %{ execute-keys -draft -itersel x s \h+$ <ret> d }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# This is at best an approximation, since shell syntax is very complex.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Also note that this targets plain sh syntax, not bash - bash adds a whole[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# other level of complexity. If your bash code is fairly portable this will[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# probably work.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m#[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Of necessity, this is also fairly opinionated about indentation styles.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Doing it "properly" would require far more context awareness than we can[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# bring to this kind of thing.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdefine-command -hidden sh-insert-on-new-line %[[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    evaluate-commands -draft -itersel %[[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        # copy '#' comment prefix and following white spaces[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        try %{ execute-keys -draft k x s ^\h*\K#\h* <ret> y gh j P }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    ][0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m][0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Use custom object matching to copy indentation for the various logical[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# blocks.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m#[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Note that we're using a weird non-ascii character instead of [ or { here[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# because the '[' and '{' characters need to be available for the commands.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdefine-command -hidden sh-indent-on-new-line %¶[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    evaluate-commands -draft -itersel %@[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        # preserve previous line indent[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        try %{ execute-keys -draft <semicolon> K <a-&> }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        # filter previous line[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        try %{ execute-keys -draft k : sh-trim-indent <ret> }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        # Indent loop syntax, e.g.:[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        # for foo in bar; do[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        #       things[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        # done[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        #[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        # or:[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        #[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        # while foo; do[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        #       things[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        # done[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        #[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        # or equivalently:[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        #[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        # while foo[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        # do[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        #       things[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        # done[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        #[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        # indent after do[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        try %{ execute-keys -draft , k x <a-k> \bdo$ <ret> j <a-gt> }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        # copy the indentation of the matching for/when - matching on the do[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        # statement, so we don't need to duplicate this for the two loop[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        # structures.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        try %{ execute-keys -draft , k x <a-k> \bdone$ <ret> gh [c\bdo\b,\bdone\b <ret> x <a-S> 1<a-&> , j K <a-&> }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        # Indent if/then/else syntax, e.g.:[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        # if [ $foo = $bar ]; then[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        #       things[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        # else[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        #       other_things[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        # fi[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        #[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        # or equivalently:[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        # if [ $foo = $bar ][0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        # then[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        #       things[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        # else[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        #       other_things[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        # fi[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        #[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        # indent after then[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        try %{ execute-keys -draft , k x <a-k> \bthen$ <ret> j <a-gt> }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        # copy the indentation of the matching if[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        try %{ execute-keys -draft , k x <a-k> \bfi$ <ret> gh [c\bif\b,\bfi\b <ret> x <a-S> 1<a-&> , j K <a-&> }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        # copy the indentation of the matching if, and then re-indent afterwards[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        try %{ execute-keys -draft , k x <a-k> \belse$ <ret> gh [c\bif\b,\bfi\b <ret> x <a-S> 1<a-&> , j K <a-&> j <a-gt> }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        # Indent case syntax, e.g.:[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        # case "$foo" in[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        #       bar) thing1;;[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        #       baz)[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        #               things[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        #               ;;[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        #       *)[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        #               default_things[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        #               ;;[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        # esac[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        #[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        # or equivalently:[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        # case "$foo"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        # in[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        #       bar) thing1;;[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        # esac[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        #[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        # indent after in[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        try %{ execute-keys -draft , k x <a-k> \bin$ <ret> j <a-gt> }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        # copy the indentation of the matching case[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        try %{ execute-keys -draft , k x <a-k> \besac$ <ret> gh [c\bcase\b,\besac\b <ret> x <a-S> 1<a-&> , j K <a-&> }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        # indent after )[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        try %{ execute-keys -draft , k x <a-k> ^\s*\(?[^(]+[^)]\)$ <ret> j <a-gt> }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        # deindent after ;;[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        try %{ execute-keys -draft , k x <a-k> ^\s*\;\;$ <ret> j <a-lt> }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        # Indent compound commands as logical blocks, e.g.:[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        # {[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        #       thing1[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        #       thing2[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        # }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        #[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        # or in a function definition:[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        # foo () {[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        #       thing1[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        #       thing2[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        # }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        #[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        # We don't handle () delimited compond commands - these are technically very[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        # similar, but the use cases are quite different and much less common.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        #[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        # Note that in this context the '{' and '}' characters are reserved[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        # words, and hence must be surrounded by a token separator - typically[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        # white space (including a newline), though technically it can also be[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        # ';'. Only vertical white space makes sense in this context, though,[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        # since the syntax denotes a logical block, not a simple compound command.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        try %= execute-keys -draft , k x <a-k> (\s|^)\{$ <ret> j <a-gt> =[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        # deindent closing }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        try %= execute-keys -draft , k x <a-k> ^\s*\}$ <ret> <a-lt> j K <a-&> =[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        # deindent closing } when after cursor[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        try %= execute-keys -draft x <a-k> ^\h*\} <ret> gh / \} <ret> m <a-S> 1<a-&> =[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    @[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m¶[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m§[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdeclare-option -hidden range-specs spell_regions[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdeclare-option -hidden str spell_last_lang[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdeclare-option -docstring "default language to use when none is passed to the spell-check command" str spell_lang[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdefine-command -params ..1 -docstring %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    spell [<language>]: spell check the current buffer[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    The first optional argument is the language against which the check will be performed (overrides `spell_lang`)[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    Formats of language supported:[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m      - ISO language code, e.g. 'en'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m      - language code above followed by a dash or underscore with an ISO country code, e.g. 'en-US'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    } spell %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    try %{ add-highlighter window/ ranges 'spell_regions' }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    evaluate-commands %sh{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        use_lang() {[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            if ! printf %s "$1" | grep -qE '^[a-z]{2,3}([_-][A-Z]{2})?$'; then[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                echo "fail 'Invalid language code (examples of expected format: en, en_US, en-US)'"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                exit 1[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            else[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                options="-l '$1'"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                printf 'set-option buffer spell_last_lang %s\n' "$1"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            fi[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        if [ $# -ge 1 ]; then[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            use_lang "$1"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        elif [ -n "${kak_opt_spell_lang}" ]; then[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            use_lang "${kak_opt_spell_lang}"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        fi[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        printf 'eval -no-hooks write %s\n' "${kak_response_fifo}" > $kak_command_fifo[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        {[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            sed 's/^/^/' | eval "aspell --byte-offsets -a $options" 2>&1 | awk '[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                BEGIN {[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                    line_num = 1[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                    regions = ENVIRON["kak_timestamp"][0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                    server_command = sprintf("kak -p \"%s\"", ENVIRON["kak_session"])[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                {[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                    if (/^@\(#\)/) {[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                        # drop the identification message[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                    }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                    else if (/^\*/) {[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                        # nothing[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                    }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                    else if (/^[+-]/) {[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                        # required to ignore undocumented aspell functionality[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                    }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                    else if (/^$/) {[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                        line_num++[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                    }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                    else if (/^[#&]/) {[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                        word_len = length($2)[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                        word_pos = substr($0, 1, 1) == "&" ? substr($4, 1, length($4) - 1) : $3;[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                        regions = regions " " line_num "." word_pos "+" word_len "|DiagnosticError"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                    }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                    else {[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                        line = $0[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                        gsub(/"/, "&&", line)[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                        command = "fail \"" line "\""[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                        exit[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                    }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                END {[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                    if (!length(command))[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                        command = "set-option \"buffer=" ENVIRON["kak_bufname"] "\" spell_regions " regions[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                    print command | server_command[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                    close(server_command)[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            '[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        } <$kak_response_fifo >/dev/null 2>&1 &[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdefine-command spell-clear %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    unset-option buffer spell_regions[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdefine-command spell-next %{ evaluate-commands %sh{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    anchor_line="${kak_selection_desc%%.*}"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    anchor_col="${kak_selection_desc%%,*}"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    anchor_col="${anchor_col##*.}"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    start_first="${kak_opt_spell_regions%%|*}"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    start_first="${start_first#* }"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    # Make sure properly formatted selection descriptions are in `%opt{spell_regions}`[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    if ! printf %s "${start_first}" | grep -qE '^[0-9]+\.[0-9]+,[0-9]+\.[0-9]+$'; then[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        exit[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    fi[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    printf %s "${kak_opt_spell_regions#* }" | awk -v start_first="${start_first}" \[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                                                  -v anchor_line="${anchor_line}" \[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                                                  -v anchor_col="${anchor_col}" '[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        BEGIN {[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            anchor_line = int(anchor_line)[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            anchor_col = int(anchor_col)[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        {[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            for (i = 1; i <= NF; i++) {[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                sel = $i[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                sub(/\|.+$/, "", sel)[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                start_line = sel[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                sub(/\..+$/, "", start_line)[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                start_line = int(start_line)[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                start_col = sel[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                sub(/,.+$/, "", start_col)[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                sub(/^.+\./, "", start_col)[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                start_col = int(start_col)[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                if (start_line < anchor_line \[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                    || (start_line == anchor_line && start_col <= anchor_col))[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                    continue[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                target_sel = sel[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                break[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        END {[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            if (!target_sel)[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                target_sel = start_first[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            printf "select %s\n", target_sel[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        }'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m} }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdefine-command \[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    -docstring "Suggest replacement words for the current selection, against the last language used by the spell-check command" \[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    spell-replace %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    prompt \[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        -shell-script-candidates %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            options=""[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            if [ -n "$kak_opt_spell_last_lang" ]; then[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                options="-l '$kak_opt_spell_last_lang'"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            fi[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            printf %s "$kak_selection" |[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                eval "aspell -a $options" |[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                sed -n -e '/^&/ { s/^[^:]*: //; s/, /\n/g; p }'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        } \[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        "Replace with: " \[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            evaluate-commands -save-regs a %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                set-register a %val{text}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m                execute-keys c <c-r>a <esc>[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m            }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdefine-command -params 0.. \[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    -docstring "Add the current selection to the dictionary" \[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    spell-add %{ evaluate-commands %sh{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    options=""[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    if [ -n "$kak_opt_spell_last_lang" ]; then[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        options="-l '$kak_opt_spell_last_lang'"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    fi[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    if [ $# -eq 0 ]; then[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        # use selections[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        eval set -- "$kak_quoted_selections"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    fi[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    while [ $# -gt 0 ]; do[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        word="$1"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        if ! printf '*%s\n#\n' "${word}" | eval "aspell -a $options" >/dev/null; then[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m           printf 'fail "Unable to add word: %s"' "$(printf %s "${word}" | sed 's/"/&&/g')"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m           exit 1[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        fi[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        shift[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    done[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# https://www.w3schools.com/sql/default.asp[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# ‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Detection[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# ‾‾‾‾‾‾‾‾‾[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mhook global BufCreate .*/?(?i)sql %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    set-option buffer filetype sql[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Initialization[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# ‾‾‾‾‾‾‾‾‾‾‾‾‾‾[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mhook global WinSetOption filetype=sql %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    require-module sql[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    set-option window static_words %opt{sql_static_words}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mhook -group sql-highlight global WinSetOption filetype=sql %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    add-highlighter window/sql ref sql[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    hook -once -always window WinSetOption filetype=.* %{ remove-highlighter window/sql }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mprovide-module sql %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Highlighters[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# ‾‾‾‾‾‾‾‾‾‾‾‾[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/sql regions[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/sql/code default-region group[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/sql/double_string region '"' (?<!\\)(\\\\)*" fill string[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/sql/single_string region "'" (?<!\\)(\\\\)*' fill string[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/sql/comment1 region '--' '$' fill comment[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/sql/comment2 region '#' '$' fill comment[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/sql/comment3 region '/\*' '\*/' fill comment[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mevaluate-commands %sh{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    # Keywords[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    keywords="ALTER|AS|ASC|AUTO_INCREMENT|CHECK|CONSTRAINT|CREATE|DATABASE|DEFAULT|DELETE|DESC|DISTINCT|DROP"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    keywords="${keywords}|EXISTS|FOREIGN KEY|FROM|FULL JOIN|FULL OUTER JOIN|GROUP BY|HAVING|INDEX|INNER JOIN"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    keywords="${keywords}|INSERT INTO|INTO|JOIN|LEFT JOIN|LEFT OUTER JOIN|LIMIT|MODIFY|NOT NULL|ON|ORDER BY|PRIMARY KEY"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    keywords="${keywords}|REFERENCES|RIGHT JOIN|RIGHT OUTER JOIN|SELECT|SELECT TOP|SET|TABLE|TRUNCATE|UNION|UNIQUE"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    keywords="${keywords}|UPDATE|VALUES|VIEW|WHERE"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    # Operators[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    operators="ALL|AND|ANY|BETWEEN|EXISTS|IN|IS|LIKE|NOT|OR|SOME"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    # MySQL functions[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    functions="ABS|ACOS|ADDDATE|ADDTIME|ASCII|ASIN|ATAN|AVG|BIN|BINARY|CASE|CAST|CEIL|CEILING"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    functions="${functions}|CHARACTER_LENGTH|CHAR_LENGTH|COALESCE|CONCAT|CONCAT_WS|CONNECTION_ID|CONV|CONVERT"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    functions="${functions}|COS|COT|COUNT|CURDATE|CURRENT_DATE|CURRENT_TIME|CURRENT_TIMESTAMP|CURRENT_USER"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    functions="${functions}|CURTIME|DATABASE|DATE|DATE_ADD|DATEDIFF|DATE_FORMAT|DATE_SUB|DAY|DAYNAME"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    functions="${functions}|DAYOFMONTH|DAYOFWEEK|DAYOFYEAR|DEGREES|DIV|EXP|EXTRACT|FIELD|FIND_IN_SET|FLOOR"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    functions="${functions}|FORMAT|FROM_DAYS|GREATEST|HOUR|IF|IFNULL|INSERT|INSTR|ISNULL|LAST_DAY"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    functions="${functions}|LAST_INSERT_ID|LCASE|LEAST|LEFT|LENGTH|LN|LOCALTIME|LOCALTIMESTAMP|LOCATE|LOG"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    functions="${functions}|LOWER|LPAD|LTRIM|MAKEDATE|MAKETIME|MAX|MICROSECOND|MID|MIN|MINUTE|MOD|MONTH"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    functions="${functions}|MONTHNAME|NOW|NULLIF|PERIOD_ADD|PERIOD_DIFF|PI|POSITION|POW|POWER|QUARTER|RADIANS"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    functions="${functions}|RAND|REPEAT|REPLACE|REVERSE|RIGHT|ROUND|RPAD|RTRIM|SECOND|SEC_TO_TIME|SESSION_USER"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    functions="${functions}|SIGN|SIN|SPACE|SQRT|STRCMP|STR_TO_DATE|SUBDATE|SUBSTR|SUBSTRING|SUBSTRING_INDEX"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    functions="${functions}|SUBTIME|SUM|SYSDATE|SYSTEM_USER|TAN|TIME|TIMEDIFF|TIME_FORMAT|TIMESTAMP"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    functions="${functions}|TIME_TO_SEC|TO_DAYS|TRIM|TRUNCATE|UCASE|UPPER|USER|VERSION|WEEK|WEEKDAY|WEEKOFYEAR"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    functions="${functions}|YEAR|YEARWEEK"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    # SQL Server functions[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    functions="${functions}|CHAR|CHARINDEX|DATALENGTH|DATEADD|DATENAME|DATEPART|GETDATE|GETUTCDATE|ISDATE"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    functions="${functions}|ISNUMERIC|LEN|NCHAR|PATINDEX|SESSIONPROPERTY|STR|STUFF|USER_NAME"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    # MS Access functions[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    functions="${functions}|Abs|Asc|Atn|Avg|Chr|Cos|Count|CurDir|CurrentUser|Date|DateAdd|DateDiff|DatePart"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    functions="${functions}|DateSerial|DateValue|Day|Environ|Exp|Fix|Format|Hour|InStr|InstrRev|Int|IsDate"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    functions="${functions}|IsNull|IsNumeric|LCase|Left|Len|LTrim|Max|Mid|Min|Minute|Month|MonthName|Now"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    functions="${functions}|Randomize|Replace|Right|Rnd|Round|RTrim|Second|Sgn|Space|Split|Sqr|Str|StrComp"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    functions="${functions}|StrConv|StrReverse|Sum|Time|TimeSerial|TimeValue|Trim|UCase|Val|Weekday"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    functions="${functions}|WeekdayName|Year"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    # Oracle functions[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    functions="${functions}|ADD_MONTHS|ASCIISTR|BITAND|CHR|COMPOSE|COSH|DBTIMEZONE|DECOMPOSE|DUMP|INITCAP|INSTRB"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    functions="${functions}|INSTRC|LENGTHB|LENGTHC|MEDIAN|MONTHS_BETWEEN|NCHR|NEW_TIME|NEXT_DAY|REGEXP_COUNT"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    functions="${functions}|REGEXP_INSTR|REGEXP_REPLACE|REGEXP_SUBSTR|REMAINDER|ROWNUM|SESSIONTIMEZONE|SOUNDEX"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    functions="${functions}|SYSTIMESTAMP|TANH|TRANSLATE|TRUNC|TZ_OFFSET|VSIZE"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    # MySQL data types[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    data_types="LONGBLOB|LONGTEXT|MEDIUMBLOB|MEDIUMTEXT|SET|TEXT|TINYTEXT"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    data_types_fn="BIGINT|BLOB|CHAR|DATE|DATETIME|DECIMAL|DOUBLE|ENUM|FLOAT|INT"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    data_types_fn="${data_types_fn}|MEDIUMINT|SMALLINT|TIME|TIMESTAMP|TINYINT|VARCHAR|YEAR"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    # SQL Server data types[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    data_types="${data_types}|bigint|bit|cursor|date|datetime|datetime2|datetimeoffset|image|int|money|nchar|ntext"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    data_types="${data_types}|nvarchar|real|smalldatetime|smallint|smallmoney|sql_variant|table|text|time"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    data_types="${data_types}|timestamp|tinyint|uniqueidentifier|varbinary|xml"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    data_types_fn="${data_types_fn}|binary|char|decimal|float|numeric|nvarchar|varbinary|varchar|varchar"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    # MS Access data types[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    data_types="${data_types}|Text|Memo|Byte|Integer|Long|Single|Double|Currency|AutoNumber|Date"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    data_types="${data_types}|Time|Ole Object|Hyperlink|Lookup Wizard"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    # Add the language's grammar to the static completion list[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    printf %s\\n "declare-option str-list sql_static_words ${keywords} ${operators} ${functions} ${data_types} ${data_types_fn} NULL" | tr '|' ' '[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    # Highlight keywords[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    printf %s "[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        add-highlighter shared/sql/code/ regex '(?i)\b(${functions})\(.*?\)' 0:function[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        add-highlighter shared/sql/code/ regex '(?i)\b(${data_types_fn})\(.*?\)' 0:type[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        add-highlighter shared/sql/code/ regex '(?i)\b(${keywords})\b' 0:keyword[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        add-highlighter shared/sql/code/ regex '(?i)\b(${operators})\b' 0:operator[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        add-highlighter shared/sql/code/ regex '(?i)\b(${data_types})\b' 0:type[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    "[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/sql/code/ regex '\+|-|\*|/|%|&|\||^|=|>|<|>=|<=|<>|\+=|-=|\*=|/=|%=|&=|^-=|\|\*=' 0:operator[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/sql/code/ regex \bNULL\b 0:value[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/sql/code/ regex \b\d+(?:\.\d+)?\b 0:value[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# http://yaml.org[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# ‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Detection[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# ‾‾‾‾‾‾‾‾‾[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mhook global BufCreate .*[.](ya?ml) %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    set-option buffer filetype yaml[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Initialization[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# ‾‾‾‾‾‾‾‾‾‾‾‾‾‾[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mhook global WinSetOption filetype=yaml %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    require-module yaml[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    hook window ModeChange pop:insert:.* -group yaml-trim-indent yaml-trim-indent[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    hook window InsertChar \n -group yaml-insert yaml-insert-on-new-line[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    hook window InsertChar \n -group yaml-indent yaml-indent-on-new-line[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    hook -once -always window WinSetOption filetype=.* %{ remove-hooks window yaml-.+ }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mhook -group yaml-highlight global WinSetOption filetype=yaml %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    add-highlighter window/yaml ref yaml[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    hook -once -always window WinSetOption filetype=.* %{ remove-highlighter window/yaml }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mprovide-module yaml %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Highlighters[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# ‾‾‾‾‾‾‾‾‾‾‾‾[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/yaml regions[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/yaml/code      default-region group[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/yaml/double_string region '"' (?<!\\)(\\\\)*"       fill string[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/yaml/single_string region "'" "'"                   fill string[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/yaml/comment       region '(?:^| )#' $              fill comment[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/yaml/code/ regex ^(---|\.\.\.)$ 0:meta[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/yaml/code/ regex ^(\h*:\w*) 0:keyword[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/yaml/code/ regex \b(true|false|null)\b 0:value[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter shared/yaml/code/ regex ^\h*-?\h*(\S+): 1:attribute[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Commands[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# ‾‾‾‾‾‾‾‾[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdefine-command -hidden yaml-trim-indent %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    # remove trailing white spaces[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    try %{ execute-keys -draft -itersel x s \h+$ <ret> d }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdefine-command -hidden yaml-insert-on-new-line %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    evaluate-commands -draft -itersel %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        # copy '#' comment prefix and following white spaces[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        try %{ execute-keys -draft k x s ^\h*\K#\h* <ret> y gh j P }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdefine-command -hidden yaml-indent-on-new-line %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    evaluate-commands -draft -itersel %{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        # preserve previous line indent[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        try %{ execute-keys -draft <semicolon> K <a-&> }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        # filter previous line[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        try %{ execute-keys -draft k : yaml-trim-indent <ret> }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        # indent after :[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        try %{ execute-keys -draft , k x <a-k> :$ <ret> j <a-gt> }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        # indent after -[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        try %{ execute-keys -draft , k x <a-k> ^\h*- <ret> j <a-gt> }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# ~/.config/kak/colors/dracula.kak[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Dracula theme for Kakoune[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# https://draculatheme.com/kakoune[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m#[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Color palette[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# https://spec.draculatheme.com[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m#[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Template[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# https://github.com/mawww/kakoune/blob/master/colors/default.kak[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m#[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Faces[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# https://github.com/mawww/kakoune/blob/master/doc/pages/faces.asciidoc[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m#[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# A fully spec‐compliant theme implementation:[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# https://draculatheme.com/visual-studio-code[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# https://github.com/dracula/visual-studio-code/blob/master/src/dracula.yml[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m#[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# A list of files to open in Kakoune and VS Code:[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# C++ ⇒ https://github.com/mawww/kakoune/tree/master/src[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# AsciiDoc ⇒ https://github.com/mawww/kakoune/tree/master/doc[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Color palette ────────────────────────────────────────────────────────────────[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Standard[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdeclare-option str background '282a36'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdeclare-option str foreground 'f8f8f2'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdeclare-option str selection '44475a'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdeclare-option str comment '6272a4'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdeclare-option str red 'ff5555'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdeclare-option str orange 'ffb86c'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdeclare-option str yellow 'f1fa8c'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdeclare-option str green '50fa7b'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdeclare-option str purple 'bd93f9'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdeclare-option str cyan '8be9fd'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdeclare-option str pink 'ff79c6'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# ANSI[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdeclare-option str black '21222c'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdeclare-option str red 'ff5555'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdeclare-option str green '50fa7b'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdeclare-option str yellow 'f1fa8c'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdeclare-option str blue 'bd93f9'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdeclare-option str magenta 'ff79c6'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdeclare-option str cyan '8be9fd'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdeclare-option str white 'f8f8f2'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdeclare-option str bright_black '6272a4'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdeclare-option str bright_red 'ff6e6e'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdeclare-option str bright_green '69ff94'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdeclare-option str bright_yellow 'ffffa5'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdeclare-option str bright_blue 'd6acff'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdeclare-option str bright_magenta 'ff92df'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdeclare-option str bright_cyan 'a4ffff'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdeclare-option str bright_white 'ffffff'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Alpha blending[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdeclare-option str cursor_alpha '99'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdeclare-option str selection_alpha '80'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# UI variants[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# <https://github.com/dracula/visual-studio-code/blob/master/src/dracula.yml#:~:text=UI Variants>[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdeclare-option str background_lighter '424450'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdeclare-option str background_light '343746'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdeclare-option str background_dark '21222c'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdeclare-option str background_darker '191a21'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Other[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# https://github.com/dracula/visual-studio-code/blob/master/src/dracula.yml#:~:text=other[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdeclare-option str non_text "%opt{background_light}"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Template ─────────────────────────────────────────────────────────────────────[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# For code[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global value "rgb:%opt{purple}" # C++ ⇒ int number = [42];[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global type "rgb:%opt{pink}" # C++ ⇒ [int] main() { ... }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global variable "rgb:%opt{cyan}" # Makefile ⇒ [install]:[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global module "rgb:%opt{yellow}" # C++ ⇒ #include [<stdio.h>][0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global function "rgb:%opt{green}" # https://spec.draculatheme.com#FunctionNames[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global string "rgb:%opt{yellow}" # https://spec.draculatheme.com#String[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global keyword "rgb:%opt{pink}" # https://spec.draculatheme.com#Keyword[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global operator "rgb:%opt{pink}" # Shell ⇒ true [&&] false[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global attribute "rgb:%opt{pink}" # C++ ⇒ [enum] Color { ... };[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global comment "rgb:%opt{comment}" # https://spec.draculatheme.com#Comment[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global documentation comment # Rust ⇒ /// Returns `true`.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global meta "rgb:%opt{pink}" # C++ ⇒ [#include] <stdio.h>[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global builtin "rgb:%opt{cyan}+i" # https://spec.draculatheme.com#Support[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Diffs[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# https://spec.draculatheme.com#sec-Diffs[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global DiffText "rgb:%opt{comment}"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global DiffHeader "rgb:%opt{comment}"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global DiffInserted "rgb:%opt{green},rgba:%opt{green}20" # https://github.com/dracula/visual-studio-code/blob/master/src/dracula.yml#:~:text=diffEditor.insertedTextBackground[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global DiffDeleted "rgb:%opt{red},rgba:%opt{red}50" # https://github.com/dracula/visual-studio-code/blob/master/src/dracula.yml#:~:text=diffEditor.removedTextBackground[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global DiffChanged "rgb:%opt{orange}"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# For markup[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global title "rgb:%opt{purple}+b" # AsciiDoc ⇒ = Document title — https://spec.draculatheme.com#MarkupHeading[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global header "rgb:%opt{purple}+b" # AsciiDoc ⇒ == Section title — https://spec.draculatheme.com#MarkupHeading[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global mono "rgb:%opt{green}" # AsciiDoc ⇒ `code` — https://spec.draculatheme.com#MarkupInlineCode[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global block "rgb:%opt{orange}" # AsciiDoc ⇒ [----][code][----] — https://spec.draculatheme.com#MarkupCodeBlockWithoutSyntax[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global link "rgb:%opt{cyan}" # Markdown ⇒ <https://draculatheme.com> — https://spec.draculatheme.com#MarkupLinkUrl[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global bullet "rgb:%opt{cyan}" # https://spec.draculatheme.com#MarkupListBulletOrNumber[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global list "rgb:%opt{foreground}" # AsciiDoc ⇒ - [item][0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Builtin faces[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global Default "rgb:%opt{foreground},rgb:%opt{background}" # Editor background[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global PrimarySelection "default,rgba:%opt{pink}%opt{selection_alpha}" # Pink (alpha-blended)[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global SecondarySelection "default,rgba:%opt{purple}%opt{selection_alpha}" # Purple (alpha-blended)[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global PrimaryCursor "default,rgba:%opt{pink}%opt{cursor_alpha}" # Pink (alpha-blended)[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global SecondaryCursor "default,rgba:%opt{purple}%opt{cursor_alpha}" # Purple (alpha-blended)[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global PrimaryCursorEol "rgb:%opt{background},rgb:%opt{foreground}+fg" # White (full block)[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global SecondaryCursorEol "rgb:%opt{background},rgb:%opt{foreground}+fg" # White (full block)[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global MenuForeground "rgb:%opt{foreground},rgb:%opt{selection}" # https://github.com/dracula/visual-studio-code/blob/master/src/dracula.yml#:~:text=editorSuggestWidget.selectedBackground[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global MenuBackground "rgb:%opt{foreground},rgb:%opt{background_dark}" # https://github.com/dracula/visual-studio-code/blob/master/src/dracula.yml#:~:text=editorSuggestWidget.background[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global MenuInfo "rgb:%opt{comment}" # IntelliSense suggestions[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global Information Default # Contextual help blends with the editor background.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global Error "rgb:%opt{foreground},rgb:%opt{red}" # https://spec.draculatheme.com#Invalid[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global DiagnosticError "rgb:%opt{red}" # https://github.com/dracula/visual-studio-code/blob/master/src/dracula.yml#:~:text=editorError.foreground[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global DiagnosticWarning "rgb:%opt{cyan}" # https://github.com/dracula/visual-studio-code/blob/master/src/dracula.yml#:~:text=editorWarning.foreground[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global StatusLine "rgb:%opt{foreground},rgb:%opt{background_dark}" # Prefer background dark here — https://github.com/dracula/visual-studio-code/blob/master/src/dracula.yml#:~:text=statusBar.background[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global StatusLineMode "rgb:%opt{green}" # [insert][0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global StatusLineInfo "rgb:%opt{purple}" # 1 sel[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global StatusLineValue "rgb:%opt{green}" # 1 sel param=[42] reg=[y][0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global StatusCursor "rgb:%opt{background},rgb:%opt{foreground}" # Cursor in command mode[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global Prompt StatusLine # Same as the status line, since they live at the same place.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global BufferPadding "rgb:%opt{non_text}" # Kakoune ⇒ set-option global ui_options terminal_padding_fill=yes[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Builtin highlighter faces[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global LineNumbers "rgb:%opt{non_text}" # Kakoune ⇒ add-highlighter -override global/number-lines number-lines — Prefer non-text here — https://github.com/dracula/visual-studio-code/blob/master/src/dracula.yml#:~:text=editorLineNumber[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global LineNumberCursor "rgb:%opt{foreground}" # Kakoune ⇒ add-highlighter -override global/number-lines number-lines -hlcursor[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global LineNumbersWrapped "rgb:%opt{background}" # Kakoune ⇒ add-highlighter -override global/number-lines number-lines; add-highlighter -override global/wrap wrap[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global MatchingChar "rgb:%opt{green}+uf" # Kakoune ⇒ add-highlighter -override global/show-matching show-matching — https://github.com/dracula/vim/blob/master/colors/dracula.vim#:~:text=MatchParen[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global Whitespace "rgb:%opt{non_text}+f" # Kakoune ⇒ add-highlighter -override global/show-whitespaces show-whitespaces[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global WrapMarker "rgb:%opt{non_text}" # Kakoune ⇒ add-highlighter -override global/wrap wrap -marker '↪'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# ~/.config/kak/colors/dracula.kak[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m##[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m## base16.kak by lenormf[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m##[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mevaluate-commands %sh{[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    black_lighterer='rgb:383838'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    black_lighter='rgb:2D2D2D'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    black_light='rgb:1C1C1C'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    cyan_light='rgb:7CB0FF'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    green_dark='rgb:A1B56C'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    grey_dark='rgb:585858'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    grey_light='rgb:D8D8D8'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    magenta_dark='rgb:AB4642'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    magenta_light='rgb:AB4434'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    orange_dark='rgb:DC9656'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    orange_light='rgb:F7CA88'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    purple_dark='rgb:BA8BAF'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    ## code[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    echo "[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        face global value ${orange_dark}+b[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        face global type ${orange_light}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        face global variable ${magenta_dark}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        face global module ${green_dark}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        face global function ${cyan_light}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        face global string ${green_dark}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        face global keyword ${purple_dark}+b[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        face global operator ${cyan_light}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        face global attribute ${orange_dark}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        face global comment ${grey_dark}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        face global documentation comment[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        face global meta ${orange_light}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        face global builtin default+b[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    "[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    ## markup[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    echo "[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        face global title blue[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        face global header ${cyan_light}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        face global mono ${green_dark}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        face global block ${orange_dark}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        face global link blue[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        face global bullet ${magenta_light}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        face global list ${magenta_dark}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    "[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    ## builtin[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    echo "[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        face global Default ${grey_light},${black_lighter}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        face global PrimarySelection white,blue+fg[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        face global SecondarySelection black,blue+fg[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        face global PrimaryCursor black,white+fg[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        face global SecondaryCursor black,white+fg[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        face global PrimaryCursorEol black,${cyan_light}+fg[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        face global SecondaryCursorEol black,${cyan_light}+fg[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        face global LineNumbers ${grey_light},${black_lighter}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        face global LineNumberCursor ${grey_light},rgb:282828+b[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        face global MenuForeground ${grey_light},blue[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        face global MenuBackground blue,${grey_light}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        face global MenuInfo ${cyan_light}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        face global Information ${black_light},${cyan_light}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        face global Error ${grey_light},${magenta_light}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        face global DiagnosticError ${magenta_light}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        face global DiagnosticWarning ${cyan_light}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        face global StatusLine ${grey_light},${black_lighterer}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        face global StatusLineMode ${orange_dark}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        face global StatusLineInfo ${cyan_light}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        face global StatusLineValue ${green_dark}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        face global StatusCursor ${black_lighterer},${cyan_light}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        face global Prompt ${black_light},${cyan_light}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        face global MatchingChar ${cyan_light},${black_light}+b[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        face global BufferPadding ${cyan_light},${black_lighter}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m        face global Whitespace ${grey_dark}+f[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m    "[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m}[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Kakoune default color scheme[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# For Code[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mface global value red[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mface global type yellow[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mface global variable green[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mface global module green[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mface global function cyan[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mface global string magenta[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mface global keyword blue[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mface global operator yellow[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mface global attribute green[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mface global comment cyan[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mface global documentation comment[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mface global meta magenta[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mface global builtin default+b[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# For markup[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mface global title blue[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mface global header cyan[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mface global mono green[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mface global block magenta[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mface global link cyan[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mface global bullet cyan[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mface global list yellow[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# builtin faces[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mface global Default default,default[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mface global PrimarySelection white,blue+fg[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mface global SecondarySelection black,blue+fg[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mface global PrimaryCursor black,white+fg[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mface global SecondaryCursor black,white+fg[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mface global PrimaryCursorEol black,cyan+fg[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mface global SecondaryCursorEol black,cyan+fg[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mface global LineNumbers default,default[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mface global LineNumberCursor default,default+r[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mface global MenuForeground white,blue[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mface global MenuBackground blue,white[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mface global MenuInfo cyan[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mface global Information black,yellow[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mface global Error black,red[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mface global DiagnosticError red[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mface global DiagnosticWarning yellow[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mface global StatusLine cyan,default[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mface global StatusLineMode yellow,default[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mface global StatusLineInfo blue,default[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mface global StatusLineValue green,default[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mface global StatusCursor black,cyan[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mface global Prompt yellow,default[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mface global MatchingChar default,default+b[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mface global Whitespace default,default+fd[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mface global BufferPadding blue,default[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# ~/.config/kak/colors/dracula.kak[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51msource "%val{runtime}/colors/default.kak"[0m[48;2;208;255;208m[0K[0m

[33mcommit 2c54588a9ed95caded08387aee98f57803848d1e[m
Author: Mathieu Ablasou <taupiqueur.kanto@gmail.com>
Date:   2023-04-12 01:06:24 +0200

    2023-04-12 01:06:23


[34madded: .config/kak/autoload/sensible.asciidoc[0m
[34m────────────────────────────────────────────────────────────────────────────────[0m

[34m───[0m[34m┐[0m
[34m1[0m: [34m│[0m
[34m───[0m[34m┘[0m
[48;2;208;255;208;38;2;51;51;51m= Search[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mSearch command.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m== Usage[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mEnter [38;2;24;54;145m`search`[38;2;51;51;51m and start typing to search.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mPress [38;2;24;54;145m`Tab`[38;2;51;51;51m to skim through the occurrences.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mShow search with [38;2;24;54;145m`show-search`[38;2;51;51;51m or enter search mode then [38;2;24;54;145m`Escape`[38;2;51;51;51m.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m== Configuration[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mShow search:[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m== add-cursor-character-unicode-expansion[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mShow Unicode value in the status line.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mRun [38;2;24;54;145m`add-cursor-character-unicode-expansion`[38;2;51;51;51m and add [38;2;24;54;145m`%opt{[38;2;0;134;179mcursor_character_unicode[38;2;24;54;145m}`[38;2;51;51;51m expansion to your status line.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;0;134;179m--------------------------------------------------------------------------------[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-cursor-character-unicode-expansion[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-option global modelinefmt '%opt{cursor_character_unicode}'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;0;134;179m--------------------------------------------------------------------------------[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd [38;2;24;54;145m`%opt{[38;2;0;134;179mcursor_character_unicode[38;2;24;54;145m}`[38;2;51;51;51m expansion.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m== show-selected-text[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;0;134;179m--------------------------------------------------------------------------------[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mshow-selected-text[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;0;134;179m--------------------------------------------------------------------------------[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mBlue (alpha-blended) face:[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;0;134;179m--------------------------------------------------------------------------------[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global SelectedText "default,rgba:%opt{blue}%opt{selection_alpha}" # Blue (alpha-blended)[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;0;134;179m--------------------------------------------------------------------------------[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m== hide-selected-text[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;0;134;179m--------------------------------------------------------------------------------[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mshow-search[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;0;134;179m--------------------------------------------------------------------------------[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mEnter search mode:[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;0;134;179m--------------------------------------------------------------------------------[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mmap -docstring 'search' global normal f ':search<ret>'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;0;134;179m--------------------------------------------------------------------------------[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mEnter a specific search mode:[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;0;134;179m--------------------------------------------------------------------------------[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mmap -docstring 'search (replace)' global normal f ':search<ret>r'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mmap -docstring 'search (extend)' global normal F ':search<ret>e'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mmap -docstring 'search (append)' global normal <a-f> ':search<ret>a'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;0;134;179m--------------------------------------------------------------------------------[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mWhite (alpha-blended) faces:[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;0;134;179m--------------------------------------------------------------------------------[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global Search "default,rgba:%opt{white}%opt{selection_alpha}" # White (alpha-blended)[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global SearchBackground 'white'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global SearchOccurrence 'yellow+b'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;0;134;179m--------------------------------------------------------------------------------[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m== Commands[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;0;134;179m-[38;2;51;51;51m [38;2;24;54;145m`search`[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;0;134;179m-[38;2;51;51;51m [38;2;24;54;145m`show-search`[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;0;134;179m-[38;2;51;51;51m [38;2;24;54;145m`hide-search`[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m== Prompt commands[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;0;134;179m-[38;2;51;51;51m [38;2;24;54;145m`Tab`[38;2;51;51;51m ⇒ Next[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;0;134;179m-[38;2;51;51;51m [38;2;24;54;145m`Shift+Tab`[38;2;51;51;51m ⇒ Previous[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;0;134;179m-[38;2;51;51;51m [38;2;24;54;145m`Control+T`[38;2;51;51;51m ⇒ Window top[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;0;134;179m-[38;2;51;51;51m [38;2;24;54;145m`Control+B`[38;2;51;51;51m ⇒ Window bottom[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m== Faces[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;0;134;179m-[38;2;51;51;51m [38;2;24;54;145m`Search`[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;0;134;179m-[38;2;51;51;51m [38;2;24;54;145m`SearchBackground`[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;0;134;179m-[38;2;51;51;51m [38;2;24;54;145m`SearchOccurrence`[0m[48;2;208;255;208m[0K[0m

[33mcommit 8f6c179fe263c7ae9ee324c5ca415d798bf94906[m
Author: Mathieu Ablasou <taupiqueur.kanto@gmail.com>
Date:   2023-04-12 00:40:19 +0200

    2023-04-12 00:40:19


[34madded: .config/kak/colors/dracula.kak[0m
[34m────────────────────────────────────────────────────────────────────────────────[0m

[34m───[0m[34m┐[0m
[34m1[0m: [34m│[0m
[34m───[0m[34m┘[0m
[48;2;208;255;208;38;2;51;51;51m# Dracula theme for Kakoune[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# https://draculatheme.com/kakoune[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m#[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Color palette[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# https://spec.draculatheme.com[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m#[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Template[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# https://github.com/mawww/kakoune/blob/master/colors/default.kak[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m#[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Faces[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# https://github.com/mawww/kakoune/blob/master/doc/pages/faces.asciidoc[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m#[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# A fully spec‐compliant theme implementation:[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# https://draculatheme.com/visual-studio-code[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# https://github.com/dracula/visual-studio-code/blob/master/src/dracula.yml[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m#[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# A list of files to open in Kakoune and VS Code:[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# C++ ⇒ https://github.com/mawww/kakoune/tree/master/src[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# AsciiDoc ⇒ https://github.com/mawww/kakoune/tree/master/doc[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Color palette ────────────────────────────────────────────────────────────────[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Standard[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdeclare-option str background '282a36'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdeclare-option str foreground 'f8f8f2'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdeclare-option str selection '44475a'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdeclare-option str comment '6272a4'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdeclare-option str red 'ff5555'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdeclare-option str orange 'ffb86c'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdeclare-option str yellow 'f1fa8c'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdeclare-option str green '50fa7b'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdeclare-option str purple 'bd93f9'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdeclare-option str cyan '8be9fd'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdeclare-option str pink 'ff79c6'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# ANSI[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdeclare-option str black '21222c'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdeclare-option str red 'ff5555'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdeclare-option str green '50fa7b'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdeclare-option str yellow 'f1fa8c'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdeclare-option str blue 'bd93f9'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdeclare-option str magenta 'ff79c6'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdeclare-option str cyan '8be9fd'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdeclare-option str white 'f8f8f2'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdeclare-option str bright_black '6272a4'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdeclare-option str bright_red 'ff6e6e'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdeclare-option str bright_green '69ff94'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdeclare-option str bright_yellow 'ffffa5'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdeclare-option str bright_blue 'd6acff'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdeclare-option str bright_magenta 'ff92df'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdeclare-option str bright_cyan 'a4ffff'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdeclare-option str bright_white 'ffffff'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Alpha blending[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdeclare-option str cursor_alpha '99'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdeclare-option str selection_alpha '80'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# UI variants[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# <https://github.com/dracula/visual-studio-code/blob/master/src/dracula.yml#:~:text=UI Variants>[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdeclare-option str background_lighter '424450'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdeclare-option str background_light '343746'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdeclare-option str background_dark '21222c'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdeclare-option str background_darker '191a21'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Other[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# https://github.com/dracula/visual-studio-code/blob/master/src/dracula.yml#:~:text=other[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mdeclare-option str non_text "%opt{background_light}"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Template ─────────────────────────────────────────────────────────────────────[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# For code[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global value "rgb:%opt{purple}" # C++ ⇒ int number = [42];[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global type "rgb:%opt{pink}" # C++ ⇒ [int] main() { ... }[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global variable "rgb:%opt{cyan}" # Makefile ⇒ [install]:[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global module "rgb:%opt{yellow}" # C++ ⇒ #include [<stdio.h>][0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global function "rgb:%opt{green}" # https://spec.draculatheme.com#FunctionNames[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global string "rgb:%opt{yellow}" # https://spec.draculatheme.com#String[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global keyword "rgb:%opt{pink}" # https://spec.draculatheme.com#Keyword[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global operator "rgb:%opt{pink}" # Shell ⇒ true [&&] false[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global attribute "rgb:%opt{pink}" # C++ ⇒ [enum] Color { ... };[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global comment "rgb:%opt{comment}" # https://spec.draculatheme.com#Comment[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global documentation comment # Rust ⇒ /// Returns `true`.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global meta "rgb:%opt{pink}" # C++ ⇒ [#include] <stdio.h>[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global builtin "rgb:%opt{cyan}+i" # https://spec.draculatheme.com#Support[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Diffs[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# https://spec.draculatheme.com#sec-Diffs[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global DiffText "rgb:%opt{comment}"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global DiffHeader "rgb:%opt{comment}"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global DiffInserted "rgb:%opt{green},rgba:%opt{green}20" # https://github.com/dracula/visual-studio-code/blob/master/src/dracula.yml#:~:text=diffEditor.insertedTextBackground[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global DiffDeleted "rgb:%opt{red},rgba:%opt{red}50" # https://github.com/dracula/visual-studio-code/blob/master/src/dracula.yml#:~:text=diffEditor.removedTextBackground[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global DiffChanged "rgb:%opt{orange}"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# For markup[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global title "rgb:%opt{purple}+b" # AsciiDoc ⇒ = Document title — https://spec.draculatheme.com#MarkupHeading[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global header "rgb:%opt{purple}+b" # AsciiDoc ⇒ == Section title — https://spec.draculatheme.com#MarkupHeading[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global mono "rgb:%opt{green}" # AsciiDoc ⇒ `code` — https://spec.draculatheme.com#MarkupInlineCode[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global block "rgb:%opt{orange}" # AsciiDoc ⇒ [----][code][----] — https://spec.draculatheme.com#MarkupCodeBlockWithoutSyntax[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global link "rgb:%opt{cyan}" # Markdown ⇒ <https://draculatheme.com> — https://spec.draculatheme.com#MarkupLinkUrl[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global bullet "rgb:%opt{cyan}" # https://spec.draculatheme.com#MarkupListBulletOrNumber[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global list "rgb:%opt{foreground}" # AsciiDoc ⇒ - [item][0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Builtin faces[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global Default "rgb:%opt{foreground},rgb:%opt{background}" # Editor background[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global PrimarySelection "default,rgba:%opt{pink}%opt{selection_alpha}" # Pink (alpha-blended)[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global SecondarySelection "default,rgba:%opt{purple}%opt{selection_alpha}" # Purple (alpha-blended)[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global PrimaryCursor "default,rgba:%opt{pink}%opt{cursor_alpha}" # Pink (alpha-blended)[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global SecondaryCursor "default,rgba:%opt{purple}%opt{cursor_alpha}" # Purple (alpha-blended)[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global PrimaryCursorEol "rgb:%opt{background},rgb:%opt{foreground}+fg" # White (full block)[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global SecondaryCursorEol "rgb:%opt{background},rgb:%opt{foreground}+fg" # White (full block)[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global MenuForeground "rgb:%opt{foreground},rgb:%opt{selection}" # https://github.com/dracula/visual-studio-code/blob/master/src/dracula.yml#:~:text=editorSuggestWidget.selectedBackground[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global MenuBackground "rgb:%opt{foreground},rgb:%opt{background_dark}" # https://github.com/dracula/visual-studio-code/blob/master/src/dracula.yml#:~:text=editorSuggestWidget.background[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global MenuInfo "rgb:%opt{comment}" # IntelliSense suggestions[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global Information Default # Contextual help blends with the editor background.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global Error "rgb:%opt{foreground},rgb:%opt{red}" # https://spec.draculatheme.com#Invalid[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global DiagnosticError "rgb:%opt{red}" # https://github.com/dracula/visual-studio-code/blob/master/src/dracula.yml#:~:text=editorError.foreground[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global DiagnosticWarning "rgb:%opt{cyan}" # https://github.com/dracula/visual-studio-code/blob/master/src/dracula.yml#:~:text=editorWarning.foreground[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global StatusLine "rgb:%opt{foreground},rgb:%opt{background_dark}" # Prefer background dark here — https://github.com/dracula/visual-studio-code/blob/master/src/dracula.yml#:~:text=statusBar.background[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global StatusLineMode "rgb:%opt{green}" # [insert][0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global StatusLineInfo "rgb:%opt{purple}" # 1 sel[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global StatusLineValue "rgb:%opt{green}" # 1 sel param=[42] reg=[y][0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global StatusCursor "rgb:%opt{background},rgb:%opt{foreground}" # Cursor in command mode[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global Prompt StatusLine # Same as the status line, since they live at the same place.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global BufferPadding "rgb:%opt{non_text}" # Kakoune ⇒ set-option global ui_options terminal_padding_fill=yes[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Builtin highlighter faces[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global LineNumbers "rgb:%opt{non_text}" # Kakoune ⇒ add-highlighter -override global/number-lines number-lines — Prefer non-text here — https://github.com/dracula/visual-studio-code/blob/master/src/dracula.yml#:~:text=editorLineNumber[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global LineNumberCursor "rgb:%opt{foreground}" # Kakoune ⇒ add-highlighter -override global/number-lines number-lines -hlcursor[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global LineNumbersWrapped "rgb:%opt{background}" # Kakoune ⇒ add-highlighter -override global/number-lines number-lines; add-highlighter -override global/wrap wrap[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global MatchingChar "rgb:%opt{green}+uf" # Kakoune ⇒ add-highlighter -override global/show-matching show-matching — https://github.com/dracula/vim/blob/master/colors/dracula.vim#:~:text=MatchParen[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global Whitespace "rgb:%opt{non_text}+f" # Kakoune ⇒ add-highlighter -override global/show-whitespaces show-whitespaces[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global WrapMarker "rgb:%opt{non_text}" # Kakoune ⇒ add-highlighter -override global/wrap wrap -marker '↪'[0m[48;2;208;255;208m[0K[0m

[33mcommit f1474e60db5e8d5cd693254af9def90dec986875[m
Author: Mathieu Ablasou <taupiqueur.kanto@gmail.com>
Date:   2023-04-07 21:22:24 +0200

    2023-04-07 21:22:25


[34m.config/foot/foot.ini[0m
[34m────────────────────────────────────────────────────────────────────────────────[0m

[34m───[0m[34m┐[0m
[34m1[0m: [34m│[0m
[34m───[0m[34m┘[0m
[38;2;150;152;150m# https://codeberg.org/dnkl/foot[0m
[38;2;150;152;150m# https://codeberg.org/dnkl/foot/src/branch/master/foot.ini[0m
[38;2;150;152;150m# https://codeberg.org/dnkl/foot/src/branch/master/doc/foot.ini.5.scd[0m
[48;2;255;224;224minclude=/usr/share/foot/themes/[48;2;255;192;192mmodus-operandi[0m[48;2;255;224;224m[0K[0m
[48;2;208;255;208;38;2;167;29;93minclude[38;2;51;51;51m=[38;2;24;54;145m/usr/share/foot/themes/[48;2;160;239;160monedark[0m[48;2;208;255;208m[0K[0m
[38;2;167;29;93mfont[38;2;51;51;51m=[38;2;24;54;145mJetBrainsMono Nerd Font:size=14[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;150;152;150m# Add a bit of transparency to reduce eye strain.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m[[38;2;121;93;163mcolors[38;2;51;51;51m][0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;167;29;93malpha[38;2;51;51;51m = [38;2;24;54;145m0.9[0m[48;2;208;255;208m[0K[0m

[33mcommit 8f06def474453d0ca5fac7a873bccd83615b3bc4[m
Author: Mathieu Ablasou <taupiqueur.kanto@gmail.com>
Date:   2023-04-01 20:15:07 +0200

    2023-04-01 20:15:07


[34m.config/foot/foot.ini[0m
[34m────────────────────────────────────────────────────────────────────────────────[0m

[34m───[0m[34m┐[0m
[34m3[0m: [34m│[0m
[34m───[0m[34m┘[0m
[38;2;150;152;150m# https://codeberg.org/dnkl/foot/src/branch/master/doc/foot.ini.5.scd[0m
[38;2;167;29;93minclude[38;2;51;51;51m=[38;2;24;54;145m/usr/share/foot/themes/modus-operandi[0m
[38;2;167;29;93mfont[38;2;51;51;51m=[38;2;24;54;145mJetBrains Mono:size=14[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Add a bit of transparency to reduce eye strain.[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[colors][0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224malpha = 0.9[0m[48;2;255;224;224m[0K[0m

[33mcommit e80f99a3b95b39fd4b2e3f613012c36baa678bd1[m
Author: Mathieu Ablasou <taupiqueur.kanto@gmail.com>
Date:   2023-02-22 21:11:28 +0100

    2023-02-22 21:11:28


[34m.config/foot/foot.ini[0m
[34m────────────────────────────────────────────────────────────────────────────────[0m

[34m───[0m[34m┐[0m
[34m1[0m: [34m│[0m
[34m───[0m[34m┘[0m
[38;2;150;152;150m# https://codeberg.org/dnkl/foot[0m
[38;2;150;152;150m# https://codeberg.org/dnkl/foot/src/branch/master/foot.ini[0m
[38;2;150;152;150m# https://codeberg.org/dnkl/foot/src/branch/master/doc/foot.ini.5.scd[0m
[48;2;255;224;224minclude=/usr/share/foot/themes/[48;2;255;192;192mmodus-operandi[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mfont=Iosevka Fixed SS14:size=12[0m[48;2;255;224;224m[0K[0m
[48;2;208;255;208;38;2;167;29;93minclude[38;2;51;51;51m=[38;2;24;54;145m/usr/share/foot/themes/[48;2;160;239;160monedark[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;167;29;93mfont[38;2;51;51;51m=[38;2;24;54;145mJetBrains Mono:size=14[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;150;152;150m# Add a bit of transparency to reduce eye strain.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m[[38;2;121;93;163mcolors[38;2;51;51;51m][0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;167;29;93malpha[38;2;51;51;51m = [38;2;24;54;145m0.9[0m[48;2;208;255;208m[0K[0m

[33mcommit b7ba6023d50d646f939eb22aeab6c3c28833a506[m
Author: Mathieu Ablasou <taupiqueur.kanto@gmail.com>
Date:   2023-02-18 16:41:59 +0100

    2023-02-18 16:41:59


[34m.config/foot/foot.ini[0m
[34m────────────────────────────────────────────────────────────────────────────────[0m

[34m───[0m[34m┐[0m
[34m2[0m: [34m│[0m
[34m───[0m[34m┘[0m
[38;2;150;152;150m# https://codeberg.org/dnkl/foot/src/branch/master/foot.ini[0m
[38;2;150;152;150m# https://codeberg.org/dnkl/foot/src/branch/master/doc/foot.ini.5.scd[0m
[38;2;167;29;93minclude[38;2;51;51;51m=[38;2;24;54;145m/usr/share/foot/themes/modus-operandi[0m
[48;2;255;224;224mfont=JetBrains Mono:size=14[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[colors][0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224malpha = 0.9[0m[48;2;255;224;224m[0K[0m
[48;2;208;255;208;38;2;167;29;93mfont[38;2;51;51;51m=[38;2;24;54;145mIosevka Fixed SS14:size=12[0m[48;2;208;255;208m[0K[0m

[33mcommit aaa4bc69f38f53f7e038861541ace5b44ca72354[m
Author: Mathieu Ablasou <taupiqueur.kanto@gmail.com>
Date:   2022-11-27 20:00:03 +0100

    2022-11-27 20:00:03


[34m.config/foot/foot.ini[0m
[34m────────────────────────────────────────────────────────────────────────────────[0m

[34m───[0m[34m┐[0m
[34m1[0m: [34m│[0m
[34m───[0m[34m┘[0m
[38;2;150;152;150m# https://codeberg.org/dnkl/foot[0m
[38;2;150;152;150m# https://codeberg.org/dnkl/foot/src/branch/master/foot.ini[0m
[38;2;150;152;150m# https://codeberg.org/dnkl/foot/src/branch/master/doc/foot.ini.5.scd[0m
[48;2;208;255;208;38;2;167;29;93minclude[38;2;51;51;51m=[38;2;24;54;145m/usr/share/foot/themes/selenized-dark[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[38;2;167;29;93mfont[38;2;51;51;51m=[38;2;24;54;145mJetBrains Mono:size=16[0m
[48;2;255;224;224minclude=/usr/share/foot/themes/selenized-white[0m[48;2;255;224;224m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m[[38;2;121;93;163mcolors[38;2;51;51;51m][0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;167;29;93malpha[38;2;51;51;51m = [38;2;24;54;145m0.9[0m[48;2;208;255;208m[0K[0m

[33mcommit d89129080b161372c6d3ca3338d2d99523e5e84e[m
Author: Mathieu Ablasou <taupiqueur.kanto@gmail.com>
Date:   2022-09-08 00:18:35 +0200

    2022-09-08 00:18:35


[34mremoved: .config/wayfire.ini[0m
[34m────────────────────────────────────────────────────────────────────────────────[0m

[34m───[0m[34m┐[0m
[34m0[0m: [34m│[0m
[34m───[0m[34m┘[0m
[48;2;255;224;224m# Wayfire[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# https://wayfire.org[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# https://github.com/WayfireWM/wayfire/blob/master/wayfire.ini[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m#[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Options: https://github.com/WayfireWM/wayfire/tree/master/metadata[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Keys: https://git.kernel.org/pub/scm/linux/kernel/git/stable/linux.git/tree/include/uapi/linux/input-event-codes.h[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Input configuration ----------------------------------------------------------[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[input][0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mxkb_layout = us,fr[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mxkb_options = grp:caps_toggle[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Core options -----------------------------------------------------------------[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[core][0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# List of plugins to be enabled.[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mplugins = \[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  alpha \[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  animate \[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  autostart \[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  command \[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  cube \[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  expo \[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  grid \[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  idle \[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  move \[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  oswitch \[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  place \[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  resize \[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  switcher \[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  vswitch \[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  window-rules \[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  wm-actions \[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  wobbly \[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  zoom[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Close focused window.[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mclose_top_view = <super> KEY_W | <super> BTN_MIDDLE[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Workspaces arranged into a grid: 3 × 3.[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mvwidth = 3[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mvheight = 3[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Prefer server-side decoration[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mpreferred_decoration_mode = server[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Mouse bindings ---------------------------------------------------------------[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Drag windows by holding down Super and left mouse button.[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[move][0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mactivate = <super> BTN_LEFT[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Resize them with right mouse button + Super.[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[resize][0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mactivate = <super> BTN_RIGHT[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Zoom in the desktop by scrolling + Super + Control.[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[zoom][0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mmodifier = <super> <ctrl>[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Change opacity by scrolling with Super.[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[alpha][0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mmodifier = <super>[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Startup commands -------------------------------------------------------------[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[autostart][0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Wayfire shell[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mautostart_wf_shell = false[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Wallpaper[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m#[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# DuckTales Finale by AKHTS[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# https://akhts.carrd.co[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# https://bloggingboutburgers.tumblr.com/image/645856359657717761[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m#[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mbackground = swaybg --image ~/wallpapers/ducktales-finale.jpg --mode fill[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Output configuration[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# https://wayland.emersion.fr/kanshi/[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224moutputs = kanshi[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Notifications[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# https://wayland.emersion.fr/mako/[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mnotifications = mako[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Night mode[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# https://sr.ht/~kennylevinsen/wlsunset/[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mgamma = wlsunset[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Idle configuration[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# https://github.com/swaywm/swayidle[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# https://github.com/swaywm/swaylock[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224midle = swayidle before-sleep swaylock[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Applications -----------------------------------------------------------------[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[command][0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Start a terminal[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# https://wezfurlong.org/wezterm/[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mbinding_terminal = <super> KEY_ENTER[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mcommand_terminal = wezterm[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Start your launcher[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mbinding_launcher = <super> <shift> KEY_ENTER[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mcommand_launcher = wezterm[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Open mpv with URLs from clipboard[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mbinding_mpv = <super> KEY_M[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mcommand_mpv = wl-paste | mpv --playlist=-[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Password manager[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mbinding_password = <super> KEY_P[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mcommand_password = google-chrome-stable https://passwords.google.com[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Screen locker[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# https://github.com/swaywm/swaylock[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mbinding_lock = <super> KEY_BACKSPACE[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mcommand_lock = swaylock[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Suspend[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mbinding_suspend = <super> <shift> KEY_BACKSPACE[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mcommand_suspend = exec systemctl suspend[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Screenshots[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# https://wayland.emersion.fr/grim/[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# https://wayland.emersion.fr/slurp/[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mbinding_screenshot = KEY_PRINT[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mcommand_screenshot = grim ~/Desktop/$(date '+%F_%T').webp[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mbinding_screenshot_interactive = <shift> KEY_PRINT[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mcommand_screenshot_interactive = slurp | grim -g - ~/Desktop/$(date '+%F_%T').webp[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Volume controls[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# https://alsa-project.org[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mrepeatable_binding_volume_up = KEY_VOLUMEUP[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mcommand_volume_up = amixer set Master 5%+[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mrepeatable_binding_volume_down = KEY_VOLUMEDOWN[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mcommand_volume_down = amixer set Master 5%-[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mbinding_mute = KEY_MUTE[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mcommand_mute = amixer set Master toggle[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Screen brightness[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# https://haikarainen.github.io/light/[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mrepeatable_binding_light_up = KEY_BRIGHTNESSUP[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mcommand_light_up = light -A 5[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mrepeatable_binding_light_down = KEY_BRIGHTNESSDOWN[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mcommand_light_down = light -U 5[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Windows ----------------------------------------------------------------------[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Actions related to window management functionalities.[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[wm-actions][0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mtoggle_fullscreen = <super> KEY_F[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mtoggle_always_on_top = <super> KEY_X[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mtoggle_sticky = <super> <shift> KEY_X[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Position the windows in certain regions of the output.[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[grid][0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mslot_bl =[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mslot_b =[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mslot_br =[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mslot_l = <super> KEY_LEFT[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mslot_c = <super> KEY_UP[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mslot_r = <super> KEY_RIGHT[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mslot_tl =[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mslot_t =[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mslot_tr =[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Restore default.[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mrestore = <super> KEY_DOWN[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Change active window with an animation.[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[switcher][0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mnext_view = <super> KEY_TAB[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mprev_view = <super> <shift> KEY_TAB[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Workspaces -------------------------------------------------------------------[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Switch to workspace.[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[vswitch][0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mbinding_left = <super> KEY_H[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mbinding_down = <super> KEY_J[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mbinding_up = <super> KEY_K[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mbinding_right = <super> KEY_L[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Move the focused window with the same key-bindings, but add Shift.[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mbinding_win_left = <super> <shift> KEY_H[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mbinding_win_down = <super> <shift> KEY_J[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mbinding_win_up = <super> <shift> KEY_K[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mbinding_win_right = <super> <shift> KEY_L[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Show the current workspace row as a cube.[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[cube][0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mactivate = <super> <shift> BTN_LEFT[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Switch to the next or previous workspace.[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mrotate_left = <super> <ctrl> KEY_H[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mrotate_right = <super> <ctrl> KEY_L[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Show an overview of all workspaces.[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[expo][0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mtoggle = <super>[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Select a workspace with [hjkl] and [ge] or its number.[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Workspaces are arranged into a grid of 3 × 3.[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# The numbering is left to right, line by line.[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m#[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# See core.vwidth and core.vheight for configuring the grid.[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mselect_workspace_1 = KEY_1 | KEY_G[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mselect_workspace_2 = KEY_2 | KEY_K[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mselect_workspace_3 = KEY_3 | KEY_E[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mselect_workspace_4 = KEY_4 | KEY_H[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mselect_workspace_5 = KEY_5 | KEY_ENTER[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mselect_workspace_6 = KEY_6 | KEY_L[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mselect_workspace_7 = KEY_7 | <shift> KEY_G[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mselect_workspace_8 = KEY_8 | KEY_J[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mselect_workspace_9 = KEY_9 | <shift> KEY_E[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Outputs ----------------------------------------------------------------------[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Change focused output.[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[oswitch][0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Switch to the next output.[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mnext_output = <super> KEY_O[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Same with the window.[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mnext_output_with_win = <super> <shift> KEY_O[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Effects ----------------------------------------------------------------------[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[animate][0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mopen_animation = zoom[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mclose_animation = zoom[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mduration = 500[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Rules ------------------------------------------------------------------------[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[window-rules][0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Picture-in-picture (bottom-left)[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mpicture_in_picture = on created if title is "Picture in picture" then snap bottom_left[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# mpv[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mmpv = on created if app_id is "mpv" then maximize[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Add a bit of transparency to reduce eye strain.[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mwezterm = on created if app_id is "org.wezfurlong.wezterm" then set alpha 0.99[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mkonsole = on created if app_id is "org.kde.konsole" then set alpha 0.99[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mdolphin = on created if app_id is "org.kde.dolphin" then set alpha 0.99[0m[48;2;255;224;224m[0K[0m

[33mcommit 1949a0bb930b0a382f5c52c5d1dda8699470a2ef[m
Author: Taupiqueur <alexherbo2@gmail.com>
Date:   2021-10-22 20:34:35 +0200

    Update kakrc


[34mconfig/kak/kakrc[0m
[34m────────────────────────────────────────────────────────────────────────────────[0m

[34m─────────────────────────────────────────[0m[34m┐[0m
[34m24[0m:[38;2;51;51;51m source ~/projects/git.kak/rc/git.kak [0m[34m│[0m
[34m─────────────────────────────────────────[0m[34m┘[0m
[38;2;51;51;51msource ~/projects/indent.kak/rc/indent.kak[0m
[38;2;51;51;51msource ~/projects/lib.kak/rc/lib.kak[0m
[38;2;51;51;51msource ~/projects/mark.kak/rc/mark.kak[0m
[48;2;255;224;224msource ~/projects/search.kak/rc/search.kak[0m[48;2;255;224;224m[0K[0m
[38;2;51;51;51msource ~/projects/select.kak/rc/select.kak[0m
[48;2;208;255;208;38;2;51;51;51msource ~/projects/sensible.kak/rc/sensible.kak[0m[48;2;208;255;208m[0K[0m
[38;2;51;51;51msource ~/projects/shortcuts.kak/rc/shortcuts.kak[0m
[38;2;51;51;51msource ~/projects/show-whitespaces.kak/rc/show-whitespaces.kak[0m
[38;2;51;51;51m# source ~/projects/snippet.kak/rc/snippet.kak[0m

[34m───────────[0m[34m┐[0m
[34m63[0m:[38;2;51;51;51m try %{ [0m[34m│[0m
[34m───────────[0m[34m┘[0m
[38;2;51;51;51m  source-runtime rc/tools/grep.kak[0m
[38;2;51;51;51m  source-runtime rc/tools/make.kak[0m
[38;2;51;51;51m  source-runtime rc/tools/man.kak[0m
[48;2;255;224;224m  source-runtime rc/windowing/new-client.kak[0m[48;2;255;224;224m[0K[0m
[38;2;51;51;51m}[0m

[38;2;51;51;51m# Options ──────────────────────────────────────────────────────────────────────[0m

[34m───────────[0m[34m┐[0m
[34m70[0m:[38;2;51;51;51m try %{ [0m[34m│[0m
[34m───────────[0m[34m┘[0m
[38;2;51;51;51m# UI options[0m
[38;2;51;51;51mset-option global startup_info_version 20211231[0m
[38;2;51;51;51mset-option global ui_options terminal_assistant=none[0m
[48;2;255;224;224mdelete-scratch-message[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Sensible scroll-off: 5 lines and 1 column.[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-option global scrolloff 5,1[0m[48;2;255;224;224m[0K[0m

[38;2;51;51;51m# Color scheme[0m
[38;2;51;51;51m# Dracula – https://draculatheme.com/kakoune[0m
[38;2;51;51;51msource ~/projects/dracula/kakoune/colors/dracula.kak[0m

[48;2;255;224;224m# Custom faces[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global SelectedText "default,rgba:%opt{blue}%opt{selection_alpha}" # Blue (alpha-blended)[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global Search "default,rgba:%opt{white}%opt{selection_alpha}" # White (alpha-blended)[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global ConsecutiveWhitespaces "rgb:%opt{comment}+f@Whitespace"[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[38;2;51;51;51m# Status line[0m
[48;2;255;192;192madd[48;2;255;224;224m-cursor-character-unicode-expansion[0m[48;2;255;224;224m[0K[0m
[48;2;160;239;160;38;2;51;51;51mdeclare[48;2;208;255;208m-cursor-character-unicode-expansion[0m[48;2;208;255;208m[0K[0m
[38;2;51;51;51mset-option global modelinefmt '%val{bufname} %val{cursor_line}:%val{cursor_char_column} {{context_info}} {{mode_info}} - U+%opt{cursor_character_unicode} - %val{client}@%val{session}'[0m

[38;2;51;51;51m# Indentation[0m

[34m───────────────────────[0m[34m┐[0m
[34m87[0m:[38;2;51;51;51m enable-auto-indent [0m[34m│[0m
[34m───────────────────────[0m[34m┘[0m
[38;2;51;51;51m# Auto-pairing of characters[0m
[38;2;51;51;51menable-auto-pairs[0m

[48;2;255;224;224m# Highlighters[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter -override global/show-matching show-matching[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter -override global/number-lines number-lines -relative -hlcursor[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# add-highlighter -override global/wrap wrap -word -marker '↪'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Show search[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mshow-search[0m[48;2;255;224;224m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Integration[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51msynchronize-clipboard[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mmake-directory-on-save[0m[48;2;208;255;208m[0K[0m

[38;2;51;51;51m# Show whitespaces[0m
[38;2;51;51;51mshow-whitespaces[0m

[48;2;255;224;224m# LSP[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mremove-highlighter global/lsp_error_lines[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# ┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Show various characters[48;2;255;192;192m (Unicode characters, math symbols).[0m[48;2;255;224;224m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Show various characters[0m[48;2;208;255;208m[0K[0m
[38;2;51;51;51m# https://unicode-table.com[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global EmphasisCharacter 'green+if'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global StrongCharacter 'green+bf'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global MathSymbol 'cyan+f'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter -override [48;2;255;192;192mshared[48;2;255;224;224m/[48;2;255;192;192mcharacters group[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter -override [48;2;255;192;192mshared/characters[48;2;255;224;224m/[48;2;255;192;192municode-2013[48;2;255;224;224m regex '[48;2;255;192;192m–+[48;2;255;224;224m' '0:[48;2;255;192;192mEmphasisCharacter[48;2;255;224;224m'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter -override [48;2;255;192;192mshared/characters[48;2;255;224;224m/[48;2;255;192;192municode[48;2;255;224;224m-[48;2;255;192;192m2014[48;2;255;224;224m regex '[48;2;255;192;192m—+[48;2;255;224;224m' '0:[48;2;255;192;192mStrongCharacter[48;2;255;224;224m'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter -override shared/characters/math-symbols regex '[−×]+' '0:MathSymbol'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224madd-highlighter -override global/characters ref characters[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# ┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Show selections and marks[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mshow-selected-text[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Save buffer[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mmake-directory-on-save[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Clipboard[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224msynchronize-clipboard[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224msynchronize-buffer-directory-name-with-register d[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Tools[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-option global makecmd 'make -j 8'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-option global grepcmd 'rg --column'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Windowing[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224malacritty-integration-enable[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mtmux-integration-enable[0m[48;2;255;224;224m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter -override [48;2;160;239;160mglobal[48;2;208;255;208m/[48;2;160;239;160mU+2013 regex '–' '0:green+f'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter -override [48;2;160;239;160mglobal[48;2;208;255;208m/[48;2;160;239;160mU+2014[48;2;208;255;208m regex '[48;2;160;239;160m—[48;2;208;255;208m' '0:[48;2;160;239;160mgreen+bf[48;2;208;255;208m'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter -override [48;2;160;239;160mglobal[48;2;208;255;208m/[48;2;160;239;160mmath[48;2;208;255;208m-[48;2;160;239;160msymbols[48;2;208;255;208m regex '[48;2;160;239;160m[−×][48;2;208;255;208m' '0:[48;2;160;239;160mcyan+f[48;2;208;255;208m'[0m[48;2;208;255;208m[0K[0m

[38;2;51;51;51m# Mappings ─────────────────────────────────────────────────────────────────────[0m

[38;2;51;51;51m# Normal mode ┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈[0m

[38;2;51;51;51m# Hot reloading[0m
[48;2;255;224;224mmap -docstring 'reload kakrc' global user R ':source-kakrc; echo reloaded kakrc<ret>'[0m[48;2;255;224;224m[0K[0m
[48;2;208;255;208;38;2;51;51;51mmap -docstring 'reload kakrc' global user R ':[48;2;160;239;160m [48;2;208;255;208msource-kakrc; echo reloaded kakrc<ret>'[0m[48;2;208;255;208m[0K[0m

[38;2;51;51;51m# Enter command mode[0m
[38;2;51;51;51mmap -docstring 'enter command' global normal <ret> :[0m

[38;2;51;51;51m# Editing[0m
[48;2;255;224;224mmap -docstring 'save' global normal <c-s> ':write; echo saved<ret>'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mmap -docstring 'quit' global normal <c-q> ':quit<ret>'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mmap -docstring 'close buffer' global normal <c-w> ':delete-buffer<ret>'[0m[48;2;255;224;224m[0K[0m
[48;2;208;255;208;38;2;51;51;51mmap -docstring 'save' global normal <c-s> ':[48;2;160;239;160m [48;2;208;255;208mwrite; echo saved<ret>'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mmap -docstring 'quit' global normal <c-q> ':[48;2;160;239;160m [48;2;208;255;208mquit<ret>'[0m[48;2;208;255;208m[0K[0m
[38;2;51;51;51mmap -docstring 'last buffer' global normal <c-a> ga[0m

[48;2;255;224;224m# Search[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mmap -docstring 'search (replace)' global normal f ':search-replace<ret>'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mmap -docstring 'search (extend)' global normal F ':search-extend<ret>'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mmap -docstring 'search (append)' global normal <a-f> ':search-append<ret>'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[38;2;51;51;51m# Selection primitives[0m
[48;2;255;224;224mmap -docstring '[48;2;255;192;192mselect[48;2;255;224;224m mode' global normal [48;2;255;192;192mv[48;2;255;224;224m ':[48;2;255;192;192mselect[48;2;255;224;224m-mode<ret>'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mmap -docstring '[48;2;255;192;192msurround[48;2;255;224;224m' global normal [48;2;255;192;192mq[48;2;255;224;224m ':[48;2;255;192;192msurround[48;2;255;224;224m<ret>'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mmap -docstring 'select objects' global normal S ':select-objects<ret>'[0m[48;2;255;224;224m[0K[0m
[48;2;208;255;208;38;2;51;51;51mmap -docstring '[48;2;160;239;160msurround[48;2;208;255;208m mode' global normal[48;2;160;239;160m q[48;2;208;255;208m ':[48;2;160;239;160m surround[48;2;208;255;208m-mode<ret>'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mmap -docstring '[48;2;160;239;160mselect mode[48;2;208;255;208m' global normal[48;2;160;239;160m S[48;2;208;255;208m ':[48;2;160;239;160m select-mode[48;2;208;255;208m<ret>'[0m[48;2;208;255;208m[0K[0m

[38;2;51;51;51m# Windowing[0m
[48;2;255;224;224mmap -docstring '[48;2;255;192;192mterminal[48;2;255;224;224m' global normal <c-[48;2;255;192;192mt[48;2;255;224;224m> ':connect[48;2;255;192;192m-[48;2;255;224;224mterminal<ret>'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mmap -docstring 'file [48;2;255;192;192mexplorer[48;2;255;224;224m' global normal <c-[48;2;255;192;192me[48;2;255;224;224m> ':connect [48;2;255;192;192mpanel sidetree --select %val{buffile}[48;2;255;224;224m<ret>'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mmap -docstring '[48;2;255;192;192mfile[48;2;255;224;224m picker' global normal <c-[48;2;255;192;192mf[48;2;255;224;224m> ':connect popup kcr fzf [48;2;255;192;192mfiles[48;2;255;224;224m<ret>'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mmap -docstring '[48;2;255;192;192mbuffer[48;2;255;224;224m picker' global normal <c-[48;2;255;192;192mb[48;2;255;224;224m> ':connect popup kcr fzf [48;2;255;192;192mbuffers[48;2;255;224;224m<ret>'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mmap -docstring 'grep picker' global normal <c-[48;2;255;192;192mg[48;2;255;224;224m> ':connect popup kcr fzf grep<ret>'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mmap -docstring '[48;2;255;192;192mgrep picker (buffer)[48;2;255;224;224m' global normal <c-[48;2;255;192;192mr[48;2;255;224;224m> ':connect popup [48;2;255;192;192mkcr fzf grep %val{buflist}[48;2;255;224;224m<ret>'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mmap -docstring 'open Git UI' global normal <c-l> ':git-ui<ret>'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# View mode ┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224mmap -docstring 'show palette' global view p '<esc>:show-palette<ret>'[0m[48;2;255;224;224m[0K[0m
[48;2;208;255;208;38;2;51;51;51mmap -docstring '[48;2;160;239;160mfile explorer[48;2;208;255;208m' global normal <c-[48;2;160;239;160me[48;2;208;255;208m> ':[48;2;160;239;160m [48;2;208;255;208mconnect[48;2;160;239;160m [48;2;208;255;208mterminal[48;2;160;239;160m-panel sidetree --select %val{buffile}[48;2;208;255;208m<ret>'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mmap -docstring 'file [48;2;160;239;160mpicker[48;2;208;255;208m' global normal <c-[48;2;160;239;160mf[48;2;208;255;208m> ':[48;2;160;239;160m [48;2;208;255;208mconnect[48;2;160;239;160m terminal-popup kcr fzf files[48;2;208;255;208m<ret>'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mmap -docstring '[48;2;160;239;160mbuffer[48;2;208;255;208m picker' global normal <c-[48;2;160;239;160mb[48;2;208;255;208m> ':[48;2;160;239;160m [48;2;208;255;208mconnect[48;2;160;239;160m terminal-[48;2;208;255;208mpopup kcr fzf[48;2;160;239;160m buffers[48;2;208;255;208m<ret>'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mmap -docstring '[48;2;160;239;160mgrep[48;2;208;255;208m picker' global normal <c-[48;2;160;239;160mg[48;2;208;255;208m> ':[48;2;160;239;160m [48;2;208;255;208mconnect[48;2;160;239;160m terminal-[48;2;208;255;208mpopup kcr fzf[48;2;160;239;160m grep[48;2;208;255;208m<ret>'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mmap -docstring 'grep picker[48;2;160;239;160m (buffer)[48;2;208;255;208m' global normal <c-[48;2;160;239;160mr[48;2;208;255;208m> ':[48;2;160;239;160m [48;2;208;255;208mconnect[48;2;160;239;160m terminal-[48;2;208;255;208mpopup kcr fzf grep[48;2;160;239;160m %val{buflist}[48;2;208;255;208m<ret>'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mmap -docstring '[48;2;160;239;160mgit[48;2;208;255;208m' global normal <c-[48;2;160;239;160ml[48;2;208;255;208m> ':[48;2;160;239;160m [48;2;208;255;208mconnect[48;2;160;239;160m terminal-[48;2;208;255;208mpopup[48;2;160;239;160m gitui[48;2;208;255;208m<ret>'[0m[48;2;208;255;208m[0K[0m

[33mcommit b7024feba1917436452402f4ed0ae7f1565a3785[m
Author: Taupiqueur <alexherbo2@gmail.com>
Date:   2021-10-22 14:25:13 +0200

    Update support for Konsole


[34mconfig/wayfire.ini[0m
[34m────────────────────────────────────────────────────────────────────────────────[0m

[34m───────────────────────────────────────────────────────[0m[34m┐[0m
[34m244[0m:[38;2;51;51;51m [38;2;167;29;93mmpv[38;2;51;51;51m = [38;2;24;54;145mon created if app_id is "mpv" then maximize[38;2;51;51;51m [0m[34m│[0m
[34m───────────────────────────────────────────────────────[0m[34m┘[0m

[38;2;150;152;150m# Add a bit of transparency to reduce eye strain.[0m
[38;2;167;29;93malacritty[38;2;51;51;51m = [38;2;24;54;145mon created if app_id is "Alacritty" then set alpha 0.99[0m
[48;2;208;255;208;38;2;167;29;93mkonsole[38;2;51;51;51m = [38;2;24;54;145mon created if app_id is "org.kde.konsole" then set alpha 0.99[0m[48;2;208;255;208m[0K[0m
[38;2;167;29;93mdolphin[38;2;51;51;51m = [38;2;24;54;145mon created if app_id is "org.kde.dolphin" then set alpha 0.99[0m

[33mcommit 6e587bc5bfb9966d805e0728dec2dd83e125bd14[m
Author: Taupiqueur <alexherbo2@gmail.com>
Date:   2021-10-20 14:21:43 +0200

    Kakoune: Update mark configuration


[34mconfig/kak/kakrc[0m
[34m────────────────────────────────────────────────────────────────────────────────[0m

[34m─────────────────────────────────────────────────────────[0m[34m┐[0m
[34m83[0m:[38;2;51;51;51m source ~/projects/dracula/kakoune/colors/dracula.kak [0m[34m│[0m
[34m─────────────────────────────────────────────────────────[0m[34m┘[0m
[38;2;51;51;51m# Custom faces[0m
[38;2;51;51;51mset-face global SelectedText "default,rgba:%opt{blue}%opt{selection_alpha}" # Blue (alpha-blended)[0m
[38;2;51;51;51mset-face global Search "default,rgba:%opt{white}%opt{selection_alpha}" # White (alpha-blended)[0m
[48;2;255;224;224mset-face global MarkedPrimarySelection "default,rgba:%opt{orange}%opt{selection_alpha}" # Orange (alpha-blended)[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global MarkedSecondarySelection "default,rgba:%opt{green}%opt{selection_alpha}" # Green (alpha-blended)[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global MarkedPrimaryCursor "default,rgba:%opt{orange}%opt{cursor_alpha}" # Orange (alpha-blended)[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mset-face global MarkedSecondaryCursor "default,rgba:%opt{green}%opt{cursor_alpha}" # Green (alpha-blended)[0m[48;2;255;224;224m[0K[0m
[38;2;51;51;51mset-face global ConsecutiveWhitespaces "rgb:%opt{comment}+f@Whitespace"[0m

[38;2;51;51;51m# Status line[0m

[34m────────────────────────────────────────────────────────────────[0m[34m┐[0m
[34m131[0m:[38;2;51;51;51m add-highlighter -override global/characters ref characters [0m[34m│[0m
[34m────────────────────────────────────────────────────────────────[0m[34m┘[0m

[38;2;51;51;51m# Show selections and marks[0m
[38;2;51;51;51mshow-selected-text[0m
[48;2;255;224;224mshow-marks[0m[48;2;255;224;224m[0K[0m

[38;2;51;51;51m# Save buffer[0m
[38;2;51;51;51mmake-directory-on-save[0m

[34m──────────────────────────────────────────────────────────────────────────────[0m[34m┐[0m
[34m168[0m:[38;2;51;51;51m map -docstring 'search (replace)' global normal f ':search-replace<ret>' [0m[34m│[0m
[34m──────────────────────────────────────────────────────────────────────────────[0m[34m┘[0m
[38;2;51;51;51mmap -docstring 'search (extend)' global normal F ':search-extend<ret>'[0m
[38;2;51;51;51mmap -docstring 'search (append)' global normal <a-f> ':search-append<ret>'[0m

[48;2;255;224;224m# Marks[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mmap -docstring 'enter insert mode with main selection' global normal '^' ':mark<ret>i'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mmap -docstring 'iterate previous selection' global normal '<left>' ':mark<ret>p'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mmap -docstring 'iterate next selection' global normal '<right>' ':mark<ret>n'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mmap -docstring 'consume selections' global normal '<s-left>' ':mark<ret>C'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mmap -docstring 'consume main selection' global normal '<a-right>' ':mark<ret>c'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mmap -docstring 'add selections to register' global normal Y ':mark<ret>a'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mmap -docstring 'clear register' global normal D ':mark<ret>d'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[38;2;51;51;51m# Selection primitives[0m
[38;2;51;51;51mmap -docstring 'select mode' global normal v ':select-mode<ret>'[0m
[38;2;51;51;51mmap -docstring 'surround' global normal q ':surround<ret>'[0m

[34m──────────────────────────────────────────────────────────────────────────────────────[0m[34m┐[0m
[34m185[0m:[38;2;51;51;51m map -docstring 'select all occurrences of current selection' global normal <a-pe [0m[34m│[0m
[34m──────────────────────────────────────────────────────────────────────────────────────[0m[34m┘[0m
[38;2;51;51;51mmap -docstring 'math' global normal = ':math<ret>'[0m

[38;2;51;51;51m# Windowing[0m
[48;2;255;224;224mmap -docstring '[48;2;255;192;192mclient[48;2;255;224;224m' global normal <c-t> ':[48;2;255;192;192mnew[48;2;255;224;224m<ret>'[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mmap -docstring 'terminal' global normal <c-n> ':connect-terminal<ret>'[0m[48;2;255;224;224m[0K[0m
[48;2;208;255;208;38;2;51;51;51mmap -docstring '[48;2;160;239;160mterminal[48;2;208;255;208m' global normal <c-t> ':[48;2;160;239;160mconnect-terminal[48;2;208;255;208m<ret>'[0m[48;2;208;255;208m[0K[0m
[38;2;51;51;51mmap -docstring 'file explorer' global normal <c-e> ':connect panel sidetree --select %val{buffile}<ret>'[0m
[38;2;51;51;51mmap -docstring 'file picker' global normal <c-f> ':connect popup kcr fzf files<ret>'[0m
[38;2;51;51;51mmap -docstring 'buffer picker' global normal <c-b> ':connect popup kcr fzf buffers<ret>'[0m

[33mcommit e39eb98be902c5436ec6bbf9493edef33d7d3b75[m
Author: Taupiqueur <alexherbo2@gmail.com>
Date:   2021-10-20 00:02:33 +0200

    Kakoune: Update search faces


[34mconfig/kak/kakrc[0m
[34m────────────────────────────────────────────────────────────────────────────────[0m

[34m────────────────────────────────────[0m[34m┐[0m
[34m81[0m:[38;2;51;51;51m set-option global scrolloff 5,1 [0m[34m│[0m
[34m────────────────────────────────────[0m[34m┘[0m
[38;2;51;51;51msource ~/projects/dracula/kakoune/colors/dracula.kak[0m

[38;2;51;51;51m# Custom faces[0m
[48;2;255;224;224mset-face global SelectedText "default,rgba:%opt{[48;2;255;192;192mblue[48;2;255;224;224m}%opt{selection_alpha}" # [48;2;255;192;192mBlue[48;2;255;224;224m (alpha-blended)[0m[48;2;255;224;224m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global SelectedText "default,rgba:%opt{[48;2;160;239;160mwhite[48;2;208;255;208m}%opt{selection_alpha}" #[48;2;160;239;160m White[48;2;208;255;208m (alpha-blended)[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global Search "default,rgba:%opt{white}%opt{selection_alpha}" # White (alpha-blended)[0m[48;2;208;255;208m[0K[0m
[38;2;51;51;51mset-face global MarkedPrimarySelection "default,rgba:%opt{orange}%opt{selection_alpha}" # Orange (alpha-blended)[0m
[38;2;51;51;51mset-face global MarkedSecondarySelection "default,rgba:%opt{green}%opt{selection_alpha}" # Green (alpha-blended)[0m
[38;2;51;51;51mset-face global MarkedPrimaryCursor "default,rgba:%opt{orange}%opt{cursor_alpha}" # Orange (alpha-blended)[0m

[33mcommit 633ec029bedba25655ecfea4c6e84cc23dc08584[m
Author: Taupiqueur <alexherbo2@gmail.com>
Date:   2021-10-19 15:01:02 +0200

    Kakoune: Update marked faces


[34mconfig/kak/kakrc[0m
[34m────────────────────────────────────────────────────────────────────────────────[0m

[34m─────────────────────────────────────────────────────────[0m[34m┐[0m
[34m82[0m:[38;2;51;51;51m source ~/projects/dracula/kakoune/colors/dracula.kak [0m[34m│[0m
[34m─────────────────────────────────────────────────────────[0m[34m┘[0m

[38;2;51;51;51m# Custom faces[0m
[38;2;51;51;51mset-face global SelectedText "default,rgba:%opt{blue}%opt{selection_alpha}" # Blue (alpha-blended)[0m
[48;2;208;255;208;38;2;51;51;51mset-face global MarkedPrimarySelection "default,rgba:%opt{orange}%opt{selection_alpha}" # Orange (alpha-blended)[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global MarkedSecondarySelection "default,rgba:%opt{green}%opt{selection_alpha}" # Green (alpha-blended)[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global MarkedPrimaryCursor "default,rgba:%opt{orange}%opt{cursor_alpha}" # Orange (alpha-blended)[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global MarkedSecondaryCursor "default,rgba:%opt{green}%opt{cursor_alpha}" # Green (alpha-blended)[0m[48;2;208;255;208m[0K[0m
[38;2;51;51;51mset-face global ConsecutiveWhitespaces "rgb:%opt{comment}+f@Whitespace"[0m

[38;2;51;51;51m# Status line[0m

[33mcommit 192b4ce48fd741bfda0bcf3ac264ff58597b12e4[m
Author: Taupiqueur <alexherbo2@gmail.com>
Date:   2021-10-17 15:55:32 +0200

    Kakoune: Update configuration


[34mconfig/kak/kakrc[0m
[34m────────────────────────────────────────────────────────────────────────────────[0m

[34m───────────────────────────────────────────[0m[34m┐[0m
[34m27[0m:[38;2;51;51;51m source ~/projects/mark.kak/rc/mark.kak [0m[34m│[0m
[34m───────────────────────────────────────────[0m[34m┘[0m
[38;2;51;51;51msource ~/projects/search.kak/rc/search.kak[0m
[38;2;51;51;51msource ~/projects/select.kak/rc/select.kak[0m
[38;2;51;51;51msource ~/projects/shortcuts.kak/rc/shortcuts.kak[0m
[48;2;255;224;224msource ~/projects/show-[48;2;255;192;192mcharacters[48;2;255;224;224m.kak/rc/show-[48;2;255;192;192mcharacters[48;2;255;224;224m.kak[0m[48;2;255;224;224m[0K[0m
[48;2;208;255;208;38;2;51;51;51msource ~/projects/show-[48;2;160;239;160mwhitespaces[48;2;208;255;208m.kak/rc/show-[48;2;160;239;160mwhitespaces[48;2;208;255;208m.kak[0m[48;2;208;255;208m[0K[0m
[38;2;51;51;51m# source ~/projects/snippet.kak/rc/snippet.kak[0m
[38;2;51;51;51msource ~/projects/surround.kak/rc/surround.kak[0m
[38;2;51;51;51msource ~/projects/text-objects.kak/rc/text-objects.kak[0m

[34m────────────────────────────────────[0m[34m┐[0m
[34m80[0m:[38;2;51;51;51m set-option global scrolloff 5,1 [0m[34m│[0m
[34m────────────────────────────────────[0m[34m┘[0m
[38;2;51;51;51m# Dracula – https://draculatheme.com/kakoune[0m
[38;2;51;51;51msource ~/projects/dracula/kakoune/colors/dracula.kak[0m

[48;2;208;255;208;38;2;51;51;51m# Custom faces[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global SelectedText "default,rgba:%opt{blue}%opt{selection_alpha}" # Blue (alpha-blended)[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global ConsecutiveWhitespaces "rgb:%opt{comment}+f@Whitespace"[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[38;2;51;51;51m# Status line[0m
[38;2;51;51;51madd-cursor-character-unicode-expansion[0m
[38;2;51;51;51mset-option global modelinefmt '%val{bufname} %val{cursor_line}:%val{cursor_char_column} {{context_info}} {{mode_info}} - U+%opt{cursor_character_unicode} - %val{client}@%val{session}'[0m

[34m──────────────────────[0m[34m┐[0m
[34m98[0m:[38;2;51;51;51m enable-auto-pairs [0m[34m│[0m
[34m──────────────────────[0m[34m┘[0m

[38;2;51;51;51m# Highlighters[0m
[38;2;51;51;51madd-highlighter -override global/show-matching show-matching[0m
[48;2;255;224;224madd-highlighter -override global/show-whitespaces show-whitespaces[0m[48;2;255;224;224m[0K[0m
[38;2;51;51;51madd-highlighter -override global/number-lines number-lines -relative -hlcursor[0m
[38;2;51;51;51m# add-highlighter -override global/wrap wrap -word -marker '↪'[0m

[48;2;255;224;224m# Show [48;2;255;192;192mcharacters and [48;2;255;224;224mwhitespaces[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mshow-characters[0m[48;2;255;224;224m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Show whitespaces[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mshow-whitespaces[0m[48;2;208;255;208m[0K[0m

[38;2;51;51;51m# LSP[0m
[38;2;51;51;51mremove-highlighter global/lsp_error_lines[0m

[48;2;208;255;208;38;2;51;51;51m# ┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# Show various characters (Unicode characters, math symbols).[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# https://unicode-table.com[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global EmphasisCharacter 'green+if'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global StrongCharacter 'green+bf'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51mset-face global MathSymbol 'cyan+f'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter -override shared/characters group[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter -override shared/characters/unicode-2013 regex '–+' '0:EmphasisCharacter'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter -override shared/characters/unicode-2014 regex '—+' '0:StrongCharacter'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter -override shared/characters/math-symbols regex '[−×]+' '0:MathSymbol'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51madd-highlighter -override global/characters ref characters[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m# ┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[38;2;51;51;51m# Show selections and marks[0m
[38;2;51;51;51mshow-selected-text[0m
[38;2;51;51;51mshow-marks[0m

[33mcommit adee02f4ffc730b55156c79a96962aed57074797[m
Author: Taupiqueur <alexherbo2@gmail.com>
Date:   2021-10-15 18:10:18 +0200

    Add transparency with Alacritty


[34mconfig/wayfire.ini[0m
[34m────────────────────────────────────────────────────────────────────────────────[0m

[34m──────────────────────────────────────────────────────────────────────────────────────[0m[34m┐[0m
[34m243[0m:[38;2;51;51;51m [38;2;167;29;93mpicture_in_picture[38;2;51;51;51m = [38;2;24;54;145mon created if title is "Picture in picture" then snap botto[38;2;51;51;51m [0m[34m│[0m
[34m──────────────────────────────────────────────────────────────────────────────────────[0m[34m┘[0m
[38;2;167;29;93mmpv[38;2;51;51;51m = [38;2;24;54;145mon created if app_id is "mpv" then maximize[0m

[38;2;150;152;150m# Add a bit of transparency to reduce eye strain.[0m
[48;2;208;255;208;38;2;167;29;93malacritty[38;2;51;51;51m = [38;2;24;54;145mon created if app_id is "Alacritty" then set alpha 0.99[0m[48;2;208;255;208m[0K[0m
[38;2;167;29;93mdolphin[38;2;51;51;51m = [38;2;24;54;145mon created if app_id is "org.kde.dolphin" then set alpha 0.99[0m

[33mcommit 42b28c75b4dc86cb698709802235b1f321d4aa88[m
Author: Taupiqueur <alexherbo2@gmail.com>
Date:   2021-10-11 20:50:08 +0200

    Update Wayfire configuration


[34mconfig/wayfire.ini[0m
[34m────────────────────────────────────────────────────────────────────────────────[0m

[34m───[0m[34m┐[0m
[34m1[0m: [34m│[0m
[34m───[0m[34m┘[0m
[48;2;255;224;224m# [48;2;255;192;192mDefault config for [48;2;255;224;224mWayfire[0m[48;2;255;224;224m[0K[0m
[48;2;208;255;208;38;2;150;152;150m# Wayfire[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;150;152;150m# https://wayfire.org[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;150;152;150m# https://github.com/WayfireWM/wayfire/blob/master/wayfire.ini[0m[48;2;208;255;208m[0K[0m
[38;2;150;152;150m#[0m
[48;2;255;224;224m# Copy this to ~/.config/wayfire.ini and edit it to your liking.[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m#[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Take the tutorial to get started.[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# https://github.com/WayfireWM/wayfire/wiki/Tutorial[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m#[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Read the Configuration document for a complete reference.[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# https://github.com/WayfireWM/wayfire/wiki/Configuration[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Input configuration ──────────────────────────────────────────────────────────[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Example configuration:[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m#[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# [input][0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# xkb_layout = us,fr[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# xkb_variant = dvorak,bepo[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m#[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# See Input options for a complete reference.[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# https://github.com/WayfireWM/wayfire/wiki/Configuration#input[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Output configuration ─────────────────────────────────────────────────────────[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[eDP-1][0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mmode = 1920x1080@60.000000[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mlayout = 0,900[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mtransform = normal[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mscale = 1.000000[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[HDMI-A-1][0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mmode = 1440x900@60.000000[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mlayout = 0,0[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mtransform = normal[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mscale = 1.000000[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# You can get the names of your outputs with wlr-randr.[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# https://github.com/[48;2;255;192;192memersion[48;2;255;224;224m/[48;2;255;192;192mwlr-randr[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m#[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# See also kanshi for configuring your outputs automatically.[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# https://wayland.emersion.fr/kanshi/[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m#[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# See Output options for a complete reference.[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# https://github.com/WayfireWM/wayfire/wiki/Configuration#output[0m[48;2;255;224;224m[0K[0m
[48;2;208;255;208;38;2;150;152;150m# [48;2;160;239;160mOptions: [48;2;208;255;208mhttps://github.com/[48;2;160;239;160mWayfireWM[48;2;208;255;208m/[48;2;160;239;160mwayfire/tree/master/metadata[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;150;152;150m# Keys: https://git.kernel.org/pub/scm/linux/kernel/git/stable/linux.git/tree/include/uapi/linux/input-event-codes.h[0m[48;2;208;255;208m[0K[0m

[38;2;150;152;150m# Core options ─────────────────────────────────────────────────────────────────[0m

[38;2;51;51;51m[[38;2;121;93;163mcore[38;2;51;51;51m][0m

[38;2;150;152;150m# List of plugins to be enabled.[0m
[48;2;255;224;224m# See the Configuration document for a complete list.[0m[48;2;255;224;224m[0K[0m
[38;2;167;29;93mplugins[38;2;51;51;51m = [38;2;24;54;145m\[0m
[38;2;51;51;51m  [38;2;24;54;145malpha \[0m
[38;2;51;51;51m  [38;2;24;54;145manimate \[0m

[34m────────────────[0m[34m┐[0m
[34m17[0m:[38;2;51;51;51m [38;2;167;29;93mplugins[38;2;51;51;51m = [38;2;24;54;145m\[38;2;51;51;51m [0m[34m│[0m
[34m────────────────[0m[34m┘[0m
[38;2;51;51;51m  [38;2;24;54;145mcommand \[0m
[38;2;51;51;51m  [38;2;24;54;145mcube \[0m
[38;2;51;51;51m  [38;2;24;54;145mexpo \[0m
[48;2;255;224;224m  fast-switcher \[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  fisheye \[0m[48;2;255;224;224m[0K[0m
[38;2;51;51;51m  [38;2;24;54;145mgrid \[0m
[38;2;51;51;51m  [38;2;24;54;145midle \[0m
[48;2;255;224;224m  invert \[0m[48;2;255;224;224m[0K[0m
[38;2;51;51;51m  [38;2;24;54;145mmove \[0m
[38;2;51;51;51m  [38;2;24;54;145moswitch \[0m
[38;2;51;51;51m  [38;2;24;54;145mplace \[0m

[34m────────────────[0m[34m┐[0m
[34m28[0m:[38;2;51;51;51m [38;2;167;29;93mplugins[38;2;51;51;51m = [38;2;24;54;145m\[38;2;51;51;51m [0m[34m│[0m
[34m────────────────[0m[34m┘[0m
[38;2;51;51;51m  [38;2;24;54;145mwindow-rules \[0m
[38;2;51;51;51m  [38;2;24;54;145mwm-actions \[0m
[38;2;51;51;51m  [38;2;24;54;145mwobbly \[0m
[48;2;255;224;224m  wrot \[0m[48;2;255;224;224m[0K[0m
[38;2;51;51;51m  [38;2;24;54;145mzoom[0m

[48;2;255;224;224m# Note: [blur] is not enabled by default, because it can be resource-intensive.[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Feel free to add it to the list if you want it.[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# You can find its documentation here:[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# https://github.com/WayfireWM/wayfire/wiki/Configuration#blur[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[38;2;150;152;150m# Close focused window.[0m
[48;2;255;224;224mclose_top_view = <super> KEY_W | <super> BTN_MIDDLE[48;2;255;192;192m | <alt> KEY_F4[0m[48;2;255;224;224m[0K[0m
[48;2;208;255;208;38;2;167;29;93mclose_top_view[38;2;51;51;51m = [38;2;24;54;145m<super> KEY_W | <super> BTN_MIDDLE[0m[48;2;208;255;208m[0K[0m

[38;2;150;152;150m# Workspaces arranged into a grid: 3 × 3.[0m
[38;2;167;29;93mvwidth[38;2;51;51;51m = [38;2;24;54;145m3[0m

[34m──────────────────────────────[0m[34m┐[0m
[34m55[0m:[38;2;51;51;51m [38;2;167;29;93mmodifier[38;2;51;51;51m = [38;2;24;54;145m<super> <ctrl>[38;2;51;51;51m [0m[34m│[0m
[34m──────────────────────────────[0m[34m┘[0m
[38;2;51;51;51m[[38;2;121;93;163malpha[38;2;51;51;51m][0m
[38;2;167;29;93mmodifier[38;2;51;51;51m = [38;2;24;54;145m<super>[0m

[48;2;255;224;224m# Rotate windows with the mouse.[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[wrot][0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mactivate = <super> <ctrl> BTN_RIGHT[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Fisheye effect.[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[fisheye][0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mtoggle = <super> <ctrl> BTN_LEFT[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[38;2;150;152;150m# Startup commands ─────────────────────────────────────────────────────────────[0m

[38;2;51;51;51m[[38;2;121;93;163mautostart[38;2;51;51;51m][0m

[48;2;255;224;224m# Set the wallpaper, start a panel and dock if you want one.[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# https://github.com/WayfireWM/wf-shell[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# background = wf-background[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# panel = wf-panel[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# dock = wf-dock[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mbackground = swaybg --image ~/images/wallpapers/[48;2;255;192;192mjojo-no-kimyou-na-bouken[48;2;255;224;224m/[48;2;255;192;192mjosuke[48;2;255;224;224m-[48;2;255;192;192mhigashikata[48;2;255;224;224m-[48;2;255;192;192mcrazy[48;2;255;224;224m-[48;2;255;192;192mdiamond.png[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mbar = waybar[0m[48;2;255;224;224m[0K[0m
[48;2;208;255;208;38;2;150;152;150m# Wayfire shell[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;167;29;93mautostart_wf_shell[38;2;51;51;51m = [38;2;24;54;145mfalse[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;150;152;150m# Wallpaper[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;150;152;150m#[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;150;152;150m# DuckTales Finale by AKHTS[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;150;152;150m# https://akhts.carrd.co[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;150;152;150m# https://bloggingboutburgers.tumblr.com/image/645856359657717761[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;150;152;150m#[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;167;29;93mbackground[38;2;51;51;51m = [38;2;24;54;145mswaybg --image ~/images/wallpapers/[48;2;160;239;160makhts[48;2;208;255;208m/[48;2;160;239;160mducktales[48;2;208;255;208m-[48;2;160;239;160mfinale.jpg [48;2;208;255;208m--[48;2;160;239;160mmode fill[0m[48;2;208;255;208m[0K[0m

[38;2;150;152;150m# Output configuration[0m
[38;2;150;152;150m# https://wayland.emersion.fr/kanshi/[0m

[34m─────────────────────[0m[34m┐[0m
[34m78[0m:[38;2;51;51;51m [38;2;167;29;93moutputs[38;2;51;51;51m = [38;2;24;54;145mkanshi[38;2;51;51;51m [0m[34m│[0m
[34m─────────────────────[0m[34m┘[0m
[38;2;150;152;150m# https://wayland.emersion.fr/mako/[0m
[38;2;167;29;93mnotifications[38;2;51;51;51m = [38;2;24;54;145mmako[0m

[48;2;255;224;224m# Screen color temperature[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# http://jonls.dk/redshift/[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Note: Requires Redshift with Wayland support.[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# https://github.com/jonls/redshift/pull/663[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mredshift = redshift -m wayland[0m[48;2;255;224;224m[0K[0m
[48;2;208;255;208;38;2;150;152;150m# Night mode[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;150;152;150m# https://sr.ht/~kennylevinsen/wlsunset/[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;167;29;93mgamma[38;2;51;51;51m = [38;2;24;54;145mwlsunset[0m[48;2;208;255;208m[0K[0m

[38;2;150;152;150m# Idle configuration[0m
[38;2;150;152;150m# https://github.com/swaywm/swayidle[0m
[38;2;150;152;150m# https://github.com/swaywm/swaylock[0m
[38;2;167;29;93midle[38;2;51;51;51m = [38;2;24;54;145mswayidle before-sleep swaylock[0m

[48;2;255;224;224m# Example configuration:[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m#[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# [idle][0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# toggle = <super> KEY_Z[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# screensaver_timeout = 300[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# dpms_timeout = 600[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m#[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Disables the compositor going idle with Super + z.[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# This will lock your screen after 300 seconds of inactivity, then turn off[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# your displays after another 300 seconds.[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[38;2;150;152;150m# Applications ─────────────────────────────────────────────────────────────────[0m

[38;2;51;51;51m[[38;2;121;93;163mcommand[38;2;51;51;51m][0m

[48;2;255;224;224m# Plumb[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mbinding_plumb = <super> KEY_Q[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mcommand_plumb = plumb mpv pandoc xdg-open[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[38;2;150;152;150m# Start a terminal[0m
[38;2;150;152;150m# https://github.com/alacritty/alacritty[0m
[38;2;167;29;93mbinding_terminal[38;2;51;51;51m = [38;2;24;54;145m<super> KEY_ENTER[0m

[34m─────────────────────────────────[0m[34m┐[0m
[34m98[0m:[38;2;51;51;51m [38;2;167;29;93mcommand_terminal[38;2;51;51;51m = [38;2;24;54;145malacritty[38;2;51;51;51m [0m[34m│[0m
[34m─────────────────────────────────[0m[34m┘[0m

[38;2;150;152;150m# Start your launcher[0m
[38;2;167;29;93mbinding_launcher[38;2;51;51;51m = [38;2;24;54;145m<super> <shift> KEY_ENTER[0m
[48;2;255;224;224mcommand_launcher = [48;2;255;192;192mlauncher run $(launcher menu | dmenu)[0m[48;2;255;224;224m[0K[0m
[48;2;208;255;208;38;2;167;29;93mcommand_launcher[38;2;51;51;51m = [48;2;160;239;160;38;2;24;54;145malacritty[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;150;152;150m# Open mpv with URLs from clipboard[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;167;29;93mbinding_mpv[38;2;51;51;51m = [38;2;24;54;145m<super> KEY_M[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;167;29;93mcommand_mpv[38;2;51;51;51m = [38;2;24;54;145mwl-paste | mpv -playlist -[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;150;152;150m# Password manager[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;167;29;93mbinding_password[38;2;51;51;51m = [38;2;24;54;145m<super> KEY_P[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;167;29;93mcommand_password[38;2;51;51;51m = [38;2;24;54;145mchromium https://passwords.google.com[0m[48;2;208;255;208m[0K[0m

[38;2;150;152;150m# Screen locker[0m
[38;2;150;152;150m# https://github.com/swaywm/swaylock[0m
[48;2;255;224;224mbinding_lock = <super> [48;2;255;192;192m<shift> [48;2;255;224;224mKEY_BACKSPACE[0m[48;2;255;224;224m[0K[0m
[48;2;208;255;208;38;2;167;29;93mbinding_lock[38;2;51;51;51m = [38;2;24;54;145m<super> KEY_BACKSPACE[0m[48;2;208;255;208m[0K[0m
[38;2;167;29;93mcommand_lock[38;2;51;51;51m = [38;2;24;54;145mswaylock[0m

[48;2;255;224;224m# Logout[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# https://github.com/ArtsyMacaw/wlogout[0m[48;2;255;224;224m[0K[0m
[48;2;255;192;192mbinding_logout[48;2;255;224;224m = <super> KEY_BACKSPACE[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mcommand_logout = wlogout[0m[48;2;255;224;224m[0K[0m
[48;2;208;255;208;38;2;150;152;150m# Suspend[0m[48;2;208;255;208m[0K[0m
[48;2;160;239;160;38;2;167;29;93mbinding_suspend[48;2;208;255;208;38;2;51;51;51m = [38;2;24;54;145m<super>[48;2;160;239;160m <shift> [48;2;208;255;208mKEY_BACKSPACE[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;167;29;93mcommand_suspend[38;2;51;51;51m = [38;2;24;54;145mexec systemctl suspend[0m[48;2;208;255;208m[0K[0m

[38;2;150;152;150m# Screenshots[0m
[38;2;150;152;150m# https://wayland.emersion.fr/grim/[0m

[34m───────────────────────────────────[0m[34m┐[0m
[34m141[0m:[38;2;51;51;51m [38;2;167;29;93mcommand_light_up[38;2;51;51;51m = [38;2;24;54;145mlight -A 5[38;2;51;51;51m [0m[34m│[0m
[34m───────────────────────────────────[0m[34m┘[0m
[38;2;167;29;93mrepeatable_binding_light_down[38;2;51;51;51m = [38;2;24;54;145mKEY_BRIGHTNESSDOWN[0m
[38;2;167;29;93mcommand_light_down[38;2;51;51;51m = [38;2;24;54;145mlight -U 5[0m

[48;2;255;224;224m# Room[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mbinding_room = <super> KEY_F2[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mcommand_room = room[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Password manager[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mbinding_password = <super> KEY_P[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mcommand_password = password get $(password menu | dmenu) | wl-copy[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Snippets[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mbinding_snippets = <super> KEY_Y[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mcommand_snippets = snippets-to-clipboard[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[38;2;150;152;150m# Windows ──────────────────────────────────────────────────────────────────────[0m

[48;2;255;224;224m# Layouts[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Set various window states[0m[48;2;255;224;224m[0K[0m
[48;2;208;255;208;38;2;150;152;150m# Actions[0m[48;2;208;255;208m[0K[0m
[38;2;51;51;51m[[38;2;121;93;163mwm-actions[38;2;51;51;51m][0m
[48;2;255;224;224mtoggle_fullscreen = <super> [48;2;255;192;192m<shift> [48;2;255;224;224mKEY_F[48;2;255;192;192m | <super> KEY_F11[0m[48;2;255;224;224m[0K[0m
[48;2;208;255;208;38;2;167;29;93mtoggle_fullscreen[38;2;51;51;51m = [38;2;24;54;145m<super> KEY_F[0m[48;2;208;255;208m[0K[0m
[38;2;167;29;93mtoggle_always_on_top[38;2;51;51;51m = [38;2;24;54;145m<super> KEY_X[0m
[38;2;167;29;93mtoggle_sticky[38;2;51;51;51m = [38;2;24;54;145m<super> <shift> KEY_X[0m

[38;2;150;152;150m# Position the windows in certain regions of the output.[0m
[38;2;51;51;51m[[38;2;121;93;163mgrid[38;2;51;51;51m][0m
[48;2;255;224;224m#[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# ⇱ ↑ ⇲   │ 7 8 9[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# ← f →   │ 4 5 6[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# ⇱ ↓ ⇲ d │ 1 2 3 0[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# ‾   ‾[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mslot_bl = <super> <shift> KEY_HOME | <super> KEY_KP1[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mslot_b = <super> KEY_DOWN | <super> KEY_KP2[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mslot_br = <super> <shift> KEY_END | <super> KEY_KP3[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mslot_l = <super> KEY_LEFT[48;2;255;192;192m | <super> KEY_KP4[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mslot_c = <super> [48;2;255;192;192mKEY_F | <super> KEY_KP5[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mslot_r = <super> KEY_RIGHT[48;2;255;192;192m | <super> KEY_KP6[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mslot_tl = <super> KEY_HOME | <super> KEY_KP7[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mslot_t = <super> KEY_UP | <super> KEY_KP8[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mslot_tr = <super> KEY_END | <super> KEY_KP9[0m[48;2;255;224;224m[0K[0m
[48;2;208;255;208;38;2;167;29;93mslot_bl[38;2;51;51;51m =[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;167;29;93mslot_b[38;2;51;51;51m =[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;167;29;93mslot_br[38;2;51;51;51m =[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;167;29;93mslot_l[38;2;51;51;51m = [38;2;24;54;145m<super> KEY_LEFT[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;167;29;93mslot_c[38;2;51;51;51m = [38;2;24;54;145m<super> [48;2;160;239;160mKEY_UP[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;167;29;93mslot_r[38;2;51;51;51m = [38;2;24;54;145m<super> KEY_RIGHT[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;167;29;93mslot_tl[38;2;51;51;51m =[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;167;29;93mslot_t[38;2;51;51;51m =[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;167;29;93mslot_tr[38;2;51;51;51m =[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[38;2;150;152;150m# Restore default.[0m
[48;2;255;224;224mrestore = <super> [48;2;255;192;192mKEY_D | <super> KEY_KP0[0m[48;2;255;224;224m[0K[0m
[48;2;208;255;208;38;2;167;29;93mrestore[38;2;51;51;51m = [38;2;24;54;145m<super> [48;2;160;239;160mKEY_DOWN[0m[48;2;208;255;208m[0K[0m

[38;2;150;152;150m# Change active window with an animation.[0m
[38;2;51;51;51m[[38;2;121;93;163mswitcher[38;2;51;51;51m][0m
[38;2;167;29;93mnext_view[38;2;51;51;51m = [38;2;24;54;145m<super> KEY_TAB[0m
[38;2;167;29;93mprev_view[38;2;51;51;51m = [38;2;24;54;145m<super> <shift> KEY_TAB[0m

[48;2;255;224;224m# Simple active window switcher.[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[fast-switcher][0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mactivate = <super> KEY_ESC[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[38;2;150;152;150m# Workspaces ───────────────────────────────────────────────────────────────────[0m

[38;2;150;152;150m# Switch to workspace.[0m

[34m──────────────────────────────────[0m[34m┐[0m
[34m177[0m:[38;2;51;51;51m [38;2;167;29;93mbinding_left[38;2;51;51;51m = [38;2;24;54;145m<super> KEY_H[38;2;51;51;51m [0m[34m│[0m
[34m──────────────────────────────────[0m[34m┘[0m
[38;2;167;29;93mbinding_down[38;2;51;51;51m = [38;2;24;54;145m<super> KEY_J[0m
[38;2;167;29;93mbinding_up[38;2;51;51;51m = [38;2;24;54;145m<super> KEY_K[0m
[38;2;167;29;93mbinding_right[38;2;51;51;51m = [38;2;24;54;145m<super> KEY_L[0m
[48;2;208;255;208m[0K[0m
[38;2;150;152;150m# Move the focused window with the same key-bindings, but add Shift.[0m
[48;2;255;192;192mbinding_win_left[48;2;255;224;224m = <super> <shift> KEY_H[0m[48;2;255;224;224m[0K[0m
[48;2;255;192;192mbinding_win_down[48;2;255;224;224m = <super> <shift> KEY_J[0m[48;2;255;224;224m[0K[0m
[48;2;255;192;192mbinding_win_up[48;2;255;224;224m = <super> <shift> KEY_K[0m[48;2;255;224;224m[0K[0m
[48;2;255;192;192mbinding_win_right[48;2;255;224;224m = <super> <shift> KEY_L[0m[48;2;255;224;224m[0K[0m
[48;2;160;239;160;38;2;167;29;93mwith_win_left[48;2;208;255;208;38;2;51;51;51m = [38;2;24;54;145m<super> <shift> KEY_H[0m[48;2;208;255;208m[0K[0m
[48;2;160;239;160;38;2;167;29;93mwith_win_down[48;2;208;255;208;38;2;51;51;51m = [38;2;24;54;145m<super> <shift> KEY_J[0m[48;2;208;255;208m[0K[0m
[48;2;160;239;160;38;2;167;29;93mwith_win_up[48;2;208;255;208;38;2;51;51;51m = [38;2;24;54;145m<super> <shift> KEY_K[0m[48;2;208;255;208m[0K[0m
[48;2;160;239;160;38;2;167;29;93mwith_win_right[48;2;208;255;208;38;2;51;51;51m = [38;2;24;54;145m<super> <shift> KEY_L[0m[48;2;208;255;208m[0K[0m

[38;2;150;152;150m# Show the current workspace row as a cube.[0m
[38;2;51;51;51m[[38;2;121;93;163mcube[38;2;51;51;51m][0m
[38;2;167;29;93mactivate[38;2;51;51;51m = [38;2;24;54;145m<super> <shift> BTN_LEFT[0m
[48;2;208;255;208m[0K[0m
[38;2;150;152;150m# Switch to the next or previous workspace.[0m
[38;2;167;29;93mrotate_left[38;2;51;51;51m = [38;2;24;54;145m<super> <ctrl> KEY_H[0m
[38;2;167;29;93mrotate_right[38;2;51;51;51m = [38;2;24;54;145m<super> <ctrl> KEY_L[0m

[34m─────────────────────────────────────────[0m[34m┐[0m
[34m195[0m:[38;2;51;51;51m [38;2;167;29;93mrotate_right[38;2;51;51;51m = [38;2;24;54;145m<super> <ctrl> KEY_L[38;2;51;51;51m [0m[34m│[0m
[34m─────────────────────────────────────────[0m[34m┘[0m
[38;2;150;152;150m# Show an overview of all workspaces.[0m
[38;2;51;51;51m[[38;2;121;93;163mexpo[38;2;51;51;51m][0m
[38;2;167;29;93mtoggle[38;2;51;51;51m = [38;2;24;54;145m<super>[0m
[48;2;255;224;224m# Select a workspace with [hjkl] or its number.[0m[48;2;255;224;224m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;150;152;150m# Select a workspace with [hjkl] [48;2;160;239;160mand [ge] [48;2;208;255;208mor its number.[0m[48;2;208;255;208m[0K[0m
[38;2;150;152;150m# Workspaces are arranged into a grid of 3 × 3.[0m
[38;2;150;152;150m# The numbering is left to right, line by line.[0m
[38;2;150;152;150m#[0m
[48;2;255;224;224m# ⇱ k ⇲[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# h ⏎ l[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# ⇱ j ⇲[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# ‾   ‾[0m[48;2;255;224;224m[0K[0m
[38;2;150;152;150m# See core.vwidth and core.vheight for configuring the grid.[0m
[48;2;255;224;224mselect_workspace_1 = KEY_1 | [48;2;255;192;192mKEY_HOME[0m[48;2;255;224;224m[0K[0m
[48;2;208;255;208;38;2;167;29;93mselect_workspace_1[38;2;51;51;51m = [38;2;24;54;145mKEY_1 | [48;2;160;239;160mKEY_G[0m[48;2;208;255;208m[0K[0m
[38;2;167;29;93mselect_workspace_2[38;2;51;51;51m = [38;2;24;54;145mKEY_2 | KEY_K[0m
[48;2;255;224;224mselect_workspace_3 = KEY_3 | [48;2;255;192;192mKEY_END[0m[48;2;255;224;224m[0K[0m
[48;2;208;255;208;38;2;167;29;93mselect_workspace_3[38;2;51;51;51m = [38;2;24;54;145mKEY_3 | [48;2;160;239;160mKEY_E[0m[48;2;208;255;208m[0K[0m
[38;2;167;29;93mselect_workspace_4[38;2;51;51;51m = [38;2;24;54;145mKEY_4 | KEY_H[0m
[38;2;167;29;93mselect_workspace_5[38;2;51;51;51m = [38;2;24;54;145mKEY_5 | KEY_ENTER[0m
[38;2;167;29;93mselect_workspace_6[38;2;51;51;51m = [38;2;24;54;145mKEY_6 | KEY_L[0m
[48;2;255;224;224mselect_workspace_7 = KEY_7 | <shift> [48;2;255;192;192mKEY_HOME[0m[48;2;255;224;224m[0K[0m
[48;2;208;255;208;38;2;167;29;93mselect_workspace_7[38;2;51;51;51m = [38;2;24;54;145mKEY_7 | <shift> [48;2;160;239;160mKEY_G[0m[48;2;208;255;208m[0K[0m
[38;2;167;29;93mselect_workspace_8[38;2;51;51;51m = [38;2;24;54;145mKEY_8 | KEY_J[0m
[48;2;255;224;224mselect_workspace_9 = KEY_9 | <shift> [48;2;255;192;192mKEY_END[0m[48;2;255;224;224m[0K[0m
[48;2;208;255;208;38;2;167;29;93mselect_workspace_9[38;2;51;51;51m = [38;2;24;54;145mKEY_9 | <shift> [48;2;160;239;160mKEY_E[0m[48;2;208;255;208m[0K[0m

[38;2;150;152;150m# Outputs ──────────────────────────────────────────────────────────────────────[0m

[38;2;150;152;150m# Change focused output.[0m
[38;2;51;51;51m[[38;2;121;93;163moswitch[38;2;51;51;51m][0m
[48;2;208;255;208m[0K[0m
[38;2;150;152;150m# Switch to the next output.[0m
[38;2;167;29;93mnext_output[38;2;51;51;51m = [38;2;24;54;145m<super> KEY_O[0m
[48;2;208;255;208m[0K[0m
[38;2;150;152;150m# Same with the window.[0m
[38;2;167;29;93mnext_output_with_win[38;2;51;51;51m = [38;2;24;54;145m<super> <shift> KEY_O[0m

[48;2;255;224;224m# Invert the colors of the whole output.[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[invert][0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mtoggle = <super> KEY_I[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[38;2;150;152;150m# Effects ──────────────────────────────────────────────────────────────────────[0m

[38;2;51;51;51m[[38;2;121;93;163manimate[38;2;51;51;51m][0m

[34m────────────────────[0m[34m┐[0m
[34m231[0m:[38;2;51;51;51m [38;2;167;29;93mduration[38;2;51;51;51m = [38;2;24;54;145m500[38;2;51;51;51m [0m[34m│[0m
[34m────────────────────[0m[34m┘[0m

[38;2;150;152;150m# Rules ────────────────────────────────────────────────────────────────────────[0m

[48;2;255;224;224m# Example configuration:[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m#[0m[48;2;255;224;224m[0K[0m
[48;2;255;192;192m# [48;2;255;224;224m[window-rules][0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# alacritty = app-id Alacritty created -> set maximized[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m#[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# You can get the properties of your applications with the following command:[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# $ WAYLAND_DEBUG=1 alacritty 2>&1 | kak[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m#[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# See Window rules for a complete reference.[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# https://github.com/WayfireWM/wayfire/wiki/Configuration#window-rules[0m[48;2;255;224;224m[0K[0m
[48;2;208;255;208;38;2;51;51;51m[[38;2;121;93;163mwindow-rules[38;2;51;51;51m][0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;150;152;150m# Picture-in-picture (bottom-left)[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;167;29;93mpicture_in_picture[38;2;51;51;51m = [38;2;24;54;145mon created if title is "Picture in picture" then snap bottom_left[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;150;152;150m# Add a bit of transparency to reduce eye strain.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;167;29;93mdolphin[38;2;51;51;51m = [38;2;24;54;145mon created if app_id is "org.kde.dolphin" then set alpha 0.99[0m[48;2;208;255;208m[0K[0m

[33mcommit d5f320e6e72b1b76339e25569b2065623d35df3f[m
Author: Taupiqueur <alexherbo2@gmail.com>
Date:   2021-10-11 13:07:46 +0200

    Restore Wayfire configuration


[34madded: config/wayfire.ini[0m
[34m────────────────────────────────────────────────────────────────────────────────[0m

[34m───[0m[34m┐[0m
[34m1[0m: [34m│[0m
[34m───[0m[34m┘[0m
[48;2;208;255;208;38;2;150;152;150m# Default config for Wayfire[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;150;152;150m#[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;150;152;150m# Copy this to ~/.config/wayfire.ini and edit it to your liking.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;150;152;150m#[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;150;152;150m# Take the tutorial to get started.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;150;152;150m# https://github.com/WayfireWM/wayfire/wiki/Tutorial[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;150;152;150m#[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;150;152;150m# Read the Configuration document for a complete reference.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;150;152;150m# https://github.com/WayfireWM/wayfire/wiki/Configuration[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;150;152;150m# Input configuration ──────────────────────────────────────────────────────────[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;150;152;150m# Example configuration:[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;150;152;150m#[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;150;152;150m# [input][0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;150;152;150m# xkb_layout = us,fr[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;150;152;150m# xkb_variant = dvorak,bepo[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;150;152;150m#[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;150;152;150m# See Input options for a complete reference.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;150;152;150m# https://github.com/WayfireWM/wayfire/wiki/Configuration#input[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;150;152;150m# Output configuration ─────────────────────────────────────────────────────────[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m[[38;2;121;93;163meDP-1[38;2;51;51;51m][0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;167;29;93mmode[38;2;51;51;51m = [38;2;24;54;145m1920x1080@60.000000[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;167;29;93mlayout[38;2;51;51;51m = [38;2;24;54;145m0,900[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;167;29;93mtransform[38;2;51;51;51m = [38;2;24;54;145mnormal[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;167;29;93mscale[38;2;51;51;51m = [38;2;24;54;145m1.000000[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m[[38;2;121;93;163mHDMI-A-1[38;2;51;51;51m][0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;167;29;93mmode[38;2;51;51;51m = [38;2;24;54;145m1440x900@60.000000[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;167;29;93mlayout[38;2;51;51;51m = [38;2;24;54;145m0,0[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;167;29;93mtransform[38;2;51;51;51m = [38;2;24;54;145mnormal[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;167;29;93mscale[38;2;51;51;51m = [38;2;24;54;145m1.000000[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;150;152;150m# You can get the names of your outputs with wlr-randr.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;150;152;150m# https://github.com/emersion/wlr-randr[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;150;152;150m#[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;150;152;150m# See also kanshi for configuring your outputs automatically.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;150;152;150m# https://wayland.emersion.fr/kanshi/[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;150;152;150m#[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;150;152;150m# See Output options for a complete reference.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;150;152;150m# https://github.com/WayfireWM/wayfire/wiki/Configuration#output[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;150;152;150m# Core options ─────────────────────────────────────────────────────────────────[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m[[38;2;121;93;163mcore[38;2;51;51;51m][0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;150;152;150m# List of plugins to be enabled.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;150;152;150m# See the Configuration document for a complete list.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;167;29;93mplugins[38;2;51;51;51m = [38;2;24;54;145m\[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  [38;2;24;54;145malpha \[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  [38;2;24;54;145manimate \[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  [38;2;24;54;145mautostart \[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  [38;2;24;54;145mcommand \[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  [38;2;24;54;145mcube \[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  [38;2;24;54;145mexpo \[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  [38;2;24;54;145mfast-switcher \[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  [38;2;24;54;145mfisheye \[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  [38;2;24;54;145mgrid \[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  [38;2;24;54;145midle \[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  [38;2;24;54;145minvert \[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  [38;2;24;54;145mmove \[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  [38;2;24;54;145moswitch \[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  [38;2;24;54;145mplace \[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  [38;2;24;54;145mresize \[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  [38;2;24;54;145mswitcher \[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  [38;2;24;54;145mvswitch \[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  [38;2;24;54;145mwindow-rules \[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  [38;2;24;54;145mwm-actions \[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  [38;2;24;54;145mwobbly \[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  [38;2;24;54;145mwrot \[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  [38;2;24;54;145mzoom[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;150;152;150m# Note: [blur] is not enabled by default, because it can be resource-intensive.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;150;152;150m# Feel free to add it to the list if you want it.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;150;152;150m# You can find its documentation here:[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;150;152;150m# https://github.com/WayfireWM/wayfire/wiki/Configuration#blur[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;150;152;150m# Close focused window.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;167;29;93mclose_top_view[38;2;51;51;51m = [38;2;24;54;145m<super> KEY_W | <super> BTN_MIDDLE | <alt> KEY_F4[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;150;152;150m# Workspaces arranged into a grid: 3 × 3.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;167;29;93mvwidth[38;2;51;51;51m = [38;2;24;54;145m3[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;167;29;93mvheight[38;2;51;51;51m = [38;2;24;54;145m3[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;150;152;150m# Mouse bindings ───────────────────────────────────────────────────────────────[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;150;152;150m# Drag windows by holding down Super and left mouse button.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m[[38;2;121;93;163mmove[38;2;51;51;51m][0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;167;29;93mactivate[38;2;51;51;51m = [38;2;24;54;145m<super> BTN_LEFT[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;150;152;150m# Resize them with right mouse button + Super.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m[[38;2;121;93;163mresize[38;2;51;51;51m][0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;167;29;93mactivate[38;2;51;51;51m = [38;2;24;54;145m<super> BTN_RIGHT[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;150;152;150m# Zoom in the desktop by scrolling + Super + Control.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m[[38;2;121;93;163mzoom[38;2;51;51;51m][0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;167;29;93mmodifier[38;2;51;51;51m = [38;2;24;54;145m<super> <ctrl>[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;150;152;150m# Change opacity by scrolling with Super.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m[[38;2;121;93;163malpha[38;2;51;51;51m][0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;167;29;93mmodifier[38;2;51;51;51m = [38;2;24;54;145m<super>[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;150;152;150m# Rotate windows with the mouse.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m[[38;2;121;93;163mwrot[38;2;51;51;51m][0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;167;29;93mactivate[38;2;51;51;51m = [38;2;24;54;145m<super> <ctrl> BTN_RIGHT[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;150;152;150m# Fisheye effect.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m[[38;2;121;93;163mfisheye[38;2;51;51;51m][0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;167;29;93mtoggle[38;2;51;51;51m = [38;2;24;54;145m<super> <ctrl> BTN_LEFT[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;150;152;150m# Startup commands ─────────────────────────────────────────────────────────────[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m[[38;2;121;93;163mautostart[38;2;51;51;51m][0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;150;152;150m# Set the wallpaper, start a panel and dock if you want one.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;150;152;150m# https://github.com/WayfireWM/wf-shell[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;150;152;150m# background = wf-background[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;150;152;150m# panel = wf-panel[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;150;152;150m# dock = wf-dock[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;167;29;93mbackground[38;2;51;51;51m = [38;2;24;54;145mswaybg --image ~/images/wallpapers/jojo-no-kimyou-na-bouken/josuke-higashikata-crazy-diamond.png[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;167;29;93mbar[38;2;51;51;51m = [38;2;24;54;145mwaybar[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;150;152;150m# Output configuration[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;150;152;150m# https://wayland.emersion.fr/kanshi/[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;167;29;93moutputs[38;2;51;51;51m = [38;2;24;54;145mkanshi[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;150;152;150m# Notifications[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;150;152;150m# https://wayland.emersion.fr/mako/[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;167;29;93mnotifications[38;2;51;51;51m = [38;2;24;54;145mmako[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;150;152;150m# Screen color temperature[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;150;152;150m# http://jonls.dk/redshift/[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;150;152;150m# Note: Requires Redshift with Wayland support.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;150;152;150m# https://github.com/jonls/redshift/pull/663[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;167;29;93mredshift[38;2;51;51;51m = [38;2;24;54;145mredshift -m wayland[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;150;152;150m# Idle configuration[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;150;152;150m# https://github.com/swaywm/swayidle[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;150;152;150m# https://github.com/swaywm/swaylock[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;167;29;93midle[38;2;51;51;51m = [38;2;24;54;145mswayidle before-sleep swaylock[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;150;152;150m# Example configuration:[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;150;152;150m#[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;150;152;150m# [idle][0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;150;152;150m# toggle = <super> KEY_Z[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;150;152;150m# screensaver_timeout = 300[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;150;152;150m# dpms_timeout = 600[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;150;152;150m#[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;150;152;150m# Disables the compositor going idle with Super + z.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;150;152;150m# This will lock your screen after 300 seconds of inactivity, then turn off[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;150;152;150m# your displays after another 300 seconds.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;150;152;150m# Applications ─────────────────────────────────────────────────────────────────[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m[[38;2;121;93;163mcommand[38;2;51;51;51m][0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;150;152;150m# Plumb[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;167;29;93mbinding_plumb[38;2;51;51;51m = [38;2;24;54;145m<super> KEY_Q[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;167;29;93mcommand_plumb[38;2;51;51;51m = [38;2;24;54;145mplumb mpv pandoc xdg-open[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;150;152;150m# Start a terminal[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;150;152;150m# https://github.com/alacritty/alacritty[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;167;29;93mbinding_terminal[38;2;51;51;51m = [38;2;24;54;145m<super> KEY_ENTER[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;167;29;93mcommand_terminal[38;2;51;51;51m = [38;2;24;54;145malacritty[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;150;152;150m# Start your launcher[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;167;29;93mbinding_launcher[38;2;51;51;51m = [38;2;24;54;145m<super> <shift> KEY_ENTER[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;167;29;93mcommand_launcher[38;2;51;51;51m = [38;2;24;54;145mlauncher run $(launcher menu | dmenu)[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;150;152;150m# Screen locker[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;150;152;150m# https://github.com/swaywm/swaylock[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;167;29;93mbinding_lock[38;2;51;51;51m = [38;2;24;54;145m<super> <shift> KEY_BACKSPACE[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;167;29;93mcommand_lock[38;2;51;51;51m = [38;2;24;54;145mswaylock[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;150;152;150m# Logout[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;150;152;150m# https://github.com/ArtsyMacaw/wlogout[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;167;29;93mbinding_logout[38;2;51;51;51m = [38;2;24;54;145m<super> KEY_BACKSPACE[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;167;29;93mcommand_logout[38;2;51;51;51m = [38;2;24;54;145mwlogout[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;150;152;150m# Screenshots[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;150;152;150m# https://wayland.emersion.fr/grim/[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;150;152;150m# https://wayland.emersion.fr/slurp/[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;167;29;93mbinding_screenshot[38;2;51;51;51m = [38;2;24;54;145mKEY_PRINT[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;167;29;93mcommand_screenshot[38;2;51;51;51m = [38;2;24;54;145mgrim $(date '+%F_%T').webp[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;167;29;93mbinding_screenshot_interactive[38;2;51;51;51m = [38;2;24;54;145m<shift> KEY_PRINT[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;167;29;93mcommand_screenshot_interactive[38;2;51;51;51m = [38;2;24;54;145mslurp | grim -g - $(date '+%F_%T').webp[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;150;152;150m# Volume controls[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;150;152;150m# https://alsa-project.org[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;167;29;93mrepeatable_binding_volume_up[38;2;51;51;51m = [38;2;24;54;145mKEY_VOLUMEUP[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;167;29;93mcommand_volume_up[38;2;51;51;51m = [38;2;24;54;145mamixer set Master 5%+[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;167;29;93mrepeatable_binding_volume_down[38;2;51;51;51m = [38;2;24;54;145mKEY_VOLUMEDOWN[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;167;29;93mcommand_volume_down[38;2;51;51;51m = [38;2;24;54;145mamixer set Master 5%-[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;167;29;93mbinding_mute[38;2;51;51;51m = [38;2;24;54;145mKEY_MUTE[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;167;29;93mcommand_mute[38;2;51;51;51m = [38;2;24;54;145mamixer set Master toggle[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;150;152;150m# Screen brightness[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;150;152;150m# https://haikarainen.github.io/light/[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;167;29;93mrepeatable_binding_light_up[38;2;51;51;51m = [38;2;24;54;145mKEY_BRIGHTNESSUP[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;167;29;93mcommand_light_up[38;2;51;51;51m = [38;2;24;54;145mlight -A 5[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;167;29;93mrepeatable_binding_light_down[38;2;51;51;51m = [38;2;24;54;145mKEY_BRIGHTNESSDOWN[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;167;29;93mcommand_light_down[38;2;51;51;51m = [38;2;24;54;145mlight -U 5[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;150;152;150m# Room[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;167;29;93mbinding_room[38;2;51;51;51m = [38;2;24;54;145m<super> KEY_F2[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;167;29;93mcommand_room[38;2;51;51;51m = [38;2;24;54;145mroom[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;150;152;150m# Password manager[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;167;29;93mbinding_password[38;2;51;51;51m = [38;2;24;54;145m<super> KEY_P[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;167;29;93mcommand_password[38;2;51;51;51m = [38;2;24;54;145mpassword get $(password menu | dmenu) | wl-copy[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;150;152;150m# Snippets[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;167;29;93mbinding_snippets[38;2;51;51;51m = [38;2;24;54;145m<super> KEY_Y[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;167;29;93mcommand_snippets[38;2;51;51;51m = [38;2;24;54;145msnippets-to-clipboard[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;150;152;150m# Windows ──────────────────────────────────────────────────────────────────────[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;150;152;150m# Layouts[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;150;152;150m# Set various window states[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m[[38;2;121;93;163mwm-actions[38;2;51;51;51m][0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;167;29;93mtoggle_fullscreen[38;2;51;51;51m = [38;2;24;54;145m<super> <shift> KEY_F | <super> KEY_F11[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;167;29;93mtoggle_always_on_top[38;2;51;51;51m = [38;2;24;54;145m<super> KEY_X[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;167;29;93mtoggle_sticky[38;2;51;51;51m = [38;2;24;54;145m<super> <shift> KEY_X[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;150;152;150m# Position the windows in certain regions of the output.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m[[38;2;121;93;163mgrid[38;2;51;51;51m][0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;150;152;150m#[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;150;152;150m# ⇱ ↑ ⇲   │ 7 8 9[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;150;152;150m# ← f →   │ 4 5 6[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;150;152;150m# ⇱ ↓ ⇲ d │ 1 2 3 0[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;150;152;150m# ‾   ‾[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;167;29;93mslot_bl[38;2;51;51;51m = [38;2;24;54;145m<super> <shift> KEY_HOME | <super> KEY_KP1[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;167;29;93mslot_b[38;2;51;51;51m = [38;2;24;54;145m<super> KEY_DOWN | <super> KEY_KP2[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;167;29;93mslot_br[38;2;51;51;51m = [38;2;24;54;145m<super> <shift> KEY_END | <super> KEY_KP3[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;167;29;93mslot_l[38;2;51;51;51m = [38;2;24;54;145m<super> KEY_LEFT | <super> KEY_KP4[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;167;29;93mslot_c[38;2;51;51;51m = [38;2;24;54;145m<super> KEY_F | <super> KEY_KP5[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;167;29;93mslot_r[38;2;51;51;51m = [38;2;24;54;145m<super> KEY_RIGHT | <super> KEY_KP6[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;167;29;93mslot_tl[38;2;51;51;51m = [38;2;24;54;145m<super> KEY_HOME | <super> KEY_KP7[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;167;29;93mslot_t[38;2;51;51;51m = [38;2;24;54;145m<super> KEY_UP | <super> KEY_KP8[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;167;29;93mslot_tr[38;2;51;51;51m = [38;2;24;54;145m<super> KEY_END | <super> KEY_KP9[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;150;152;150m# Restore default.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;167;29;93mrestore[38;2;51;51;51m = [38;2;24;54;145m<super> KEY_D | <super> KEY_KP0[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;150;152;150m# Change active window with an animation.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m[[38;2;121;93;163mswitcher[38;2;51;51;51m][0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;167;29;93mnext_view[38;2;51;51;51m = [38;2;24;54;145m<super> KEY_TAB[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;167;29;93mprev_view[38;2;51;51;51m = [38;2;24;54;145m<super> <shift> KEY_TAB[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;150;152;150m# Simple active window switcher.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m[[38;2;121;93;163mfast-switcher[38;2;51;51;51m][0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;167;29;93mactivate[38;2;51;51;51m = [38;2;24;54;145m<super> KEY_ESC[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;150;152;150m# Workspaces ───────────────────────────────────────────────────────────────────[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;150;152;150m# Switch to workspace.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m[[38;2;121;93;163mvswitch[38;2;51;51;51m][0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;167;29;93mbinding_left[38;2;51;51;51m = [38;2;24;54;145m<super> KEY_H[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;167;29;93mbinding_down[38;2;51;51;51m = [38;2;24;54;145m<super> KEY_J[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;167;29;93mbinding_up[38;2;51;51;51m = [38;2;24;54;145m<super> KEY_K[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;167;29;93mbinding_right[38;2;51;51;51m = [38;2;24;54;145m<super> KEY_L[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;150;152;150m# Move the focused window with the same key-bindings, but add Shift.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;167;29;93mbinding_win_left[38;2;51;51;51m = [38;2;24;54;145m<super> <shift> KEY_H[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;167;29;93mbinding_win_down[38;2;51;51;51m = [38;2;24;54;145m<super> <shift> KEY_J[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;167;29;93mbinding_win_up[38;2;51;51;51m = [38;2;24;54;145m<super> <shift> KEY_K[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;167;29;93mbinding_win_right[38;2;51;51;51m = [38;2;24;54;145m<super> <shift> KEY_L[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;150;152;150m# Show the current workspace row as a cube.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m[[38;2;121;93;163mcube[38;2;51;51;51m][0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;167;29;93mactivate[38;2;51;51;51m = [38;2;24;54;145m<super> <shift> BTN_LEFT[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;150;152;150m# Switch to the next or previous workspace.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;167;29;93mrotate_left[38;2;51;51;51m = [38;2;24;54;145m<super> <ctrl> KEY_H[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;167;29;93mrotate_right[38;2;51;51;51m = [38;2;24;54;145m<super> <ctrl> KEY_L[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;150;152;150m# Show an overview of all workspaces.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m[[38;2;121;93;163mexpo[38;2;51;51;51m][0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;167;29;93mtoggle[38;2;51;51;51m = [38;2;24;54;145m<super>[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;150;152;150m# Select a workspace with [hjkl] or its number.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;150;152;150m# Workspaces are arranged into a grid of 3 × 3.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;150;152;150m# The numbering is left to right, line by line.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;150;152;150m#[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;150;152;150m# ⇱ k ⇲[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;150;152;150m# h ⏎ l[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;150;152;150m# ⇱ j ⇲[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;150;152;150m# ‾   ‾[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;150;152;150m# See core.vwidth and core.vheight for configuring the grid.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;167;29;93mselect_workspace_1[38;2;51;51;51m = [38;2;24;54;145mKEY_1 | KEY_HOME[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;167;29;93mselect_workspace_2[38;2;51;51;51m = [38;2;24;54;145mKEY_2 | KEY_K[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;167;29;93mselect_workspace_3[38;2;51;51;51m = [38;2;24;54;145mKEY_3 | KEY_END[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;167;29;93mselect_workspace_4[38;2;51;51;51m = [38;2;24;54;145mKEY_4 | KEY_H[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;167;29;93mselect_workspace_5[38;2;51;51;51m = [38;2;24;54;145mKEY_5 | KEY_ENTER[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;167;29;93mselect_workspace_6[38;2;51;51;51m = [38;2;24;54;145mKEY_6 | KEY_L[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;167;29;93mselect_workspace_7[38;2;51;51;51m = [38;2;24;54;145mKEY_7 | <shift> KEY_HOME[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;167;29;93mselect_workspace_8[38;2;51;51;51m = [38;2;24;54;145mKEY_8 | KEY_J[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;167;29;93mselect_workspace_9[38;2;51;51;51m = [38;2;24;54;145mKEY_9 | <shift> KEY_END[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;150;152;150m# Outputs ──────────────────────────────────────────────────────────────────────[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;150;152;150m# Change focused output.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m[[38;2;121;93;163moswitch[38;2;51;51;51m][0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;150;152;150m# Switch to the next output.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;167;29;93mnext_output[38;2;51;51;51m = [38;2;24;54;145m<super> KEY_O[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;150;152;150m# Same with the window.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;167;29;93mnext_output_with_win[38;2;51;51;51m = [38;2;24;54;145m<super> <shift> KEY_O[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;150;152;150m# Invert the colors of the whole output.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m[[38;2;121;93;163minvert[38;2;51;51;51m][0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;167;29;93mtoggle[38;2;51;51;51m = [38;2;24;54;145m<super> KEY_I[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;150;152;150m# Effects ──────────────────────────────────────────────────────────────────────[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m[[38;2;121;93;163manimate[38;2;51;51;51m][0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;167;29;93mopen_animation[38;2;51;51;51m = [38;2;24;54;145mzoom[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;167;29;93mclose_animation[38;2;51;51;51m = [38;2;24;54;145mzoom[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;167;29;93mduration[38;2;51;51;51m = [38;2;24;54;145m500[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;150;152;150m# Rules ────────────────────────────────────────────────────────────────────────[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;150;152;150m# Example configuration:[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;150;152;150m#[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;150;152;150m# [window-rules][0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;150;152;150m# alacritty = app-id Alacritty created -> set maximized[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;150;152;150m#[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;150;152;150m# You can get the properties of your applications with the following command:[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;150;152;150m# $ WAYLAND_DEBUG=1 alacritty 2>&1 | kak[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;150;152;150m#[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;150;152;150m# See Window rules for a complete reference.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;150;152;150m# https://github.com/WayfireWM/wayfire/wiki/Configuration#window-rules[0m[48;2;208;255;208m[0K[0m

[33mcommit 4e0254b3c91d3a0fc54b5df90e3123e16d170c8f[m
Author: alexherbo2 <alexherbo2@gmail.com>
Date:   2021-03-29 14:04:35 +0200

    Remove Wayfire


[34mremoved: config/wayfire.ini[0m
[34m────────────────────────────────────────────────────────────────────────────────[0m

[34m───[0m[34m┐[0m
[34m0[0m: [34m│[0m
[34m───[0m[34m┘[0m
[48;2;255;224;224m# Default config for Wayfire[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m#[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Copy this to ~/.config/wayfire.ini and edit it to your liking.[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m#[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Take the tutorial to get started.[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# https://github.com/WayfireWM/wayfire/wiki/Tutorial[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m#[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Read the Configuration document for a complete reference.[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# https://github.com/WayfireWM/wayfire/wiki/Configuration[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Input configuration ──────────────────────────────────────────────────────────[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Example configuration:[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m#[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# [input][0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# xkb_layout = us,fr[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# xkb_variant = dvorak,bepo[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m#[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# See Input options for a complete reference.[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# https://github.com/WayfireWM/wayfire/wiki/Configuration#input[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Output configuration ─────────────────────────────────────────────────────────[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[eDP-1][0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mmode = 1920x1080@60.000000[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mlayout = 0,900[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mtransform = normal[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mscale = 1.000000[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[HDMI-A-1][0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mmode = 1440x900@60.000000[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mlayout = 0,0[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mtransform = normal[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mscale = 1.000000[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# You can get the names of your outputs with wlr-randr.[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# https://github.com/emersion/wlr-randr[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m#[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# See also kanshi for configuring your outputs automatically.[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# https://wayland.emersion.fr/kanshi/[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m#[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# See Output options for a complete reference.[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# https://github.com/WayfireWM/wayfire/wiki/Configuration#output[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Core options ─────────────────────────────────────────────────────────────────[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[core][0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# List of plugins to be enabled.[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# See the Configuration document for a complete list.[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mplugins = \[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  alpha \[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  animate \[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  autostart \[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  command \[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  cube \[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  expo \[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  fast-switcher \[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  fisheye \[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  grid \[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  idle \[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  invert \[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  move \[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  oswitch \[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  place \[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  resize \[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  switcher \[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  vswitch \[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  window-rules \[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  wm-actions \[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  wobbly \[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  wrot \[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m  zoom[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Note: [blur] is not enabled by default, because it can be resource-intensive.[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Feel free to add it to the list if you want it.[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# You can find its documentation here:[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# https://github.com/WayfireWM/wayfire/wiki/Configuration#blur[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Close focused window.[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mclose_top_view = <super> KEY_W | <super> BTN_MIDDLE | <alt> KEY_F4[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Workspaces arranged into a grid: 3 × 3.[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mvwidth = 3[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mvheight = 3[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Mouse bindings ───────────────────────────────────────────────────────────────[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Drag windows by holding down Super and left mouse button.[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[move][0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mactivate = <super> BTN_LEFT[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Resize them with right mouse button + Super.[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[resize][0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mactivate = <super> BTN_RIGHT[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Zoom in the desktop by scrolling + Super + Control.[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[zoom][0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mmodifier = <super> <ctrl>[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Change opacity by scrolling with Super.[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[alpha][0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mmodifier = <super>[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Rotate windows with the mouse.[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[wrot][0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mactivate = <super> <ctrl> BTN_RIGHT[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Fisheye effect.[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[fisheye][0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mtoggle = <super> <ctrl> BTN_LEFT[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Startup commands ─────────────────────────────────────────────────────────────[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[autostart][0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Set the wallpaper, start a panel and dock if you want one.[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# https://github.com/WayfireWM/wf-shell[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# background = wf-background[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# panel = wf-panel[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# dock = wf-dock[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mbackground = swaybg --image ~/images/wallpapers/jojo-no-kimyou-na-bouken/josuke-higashikata-crazy-diamond.png[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mbar = waybar[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Output configuration[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# https://wayland.emersion.fr/kanshi/[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224moutputs = kanshi[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Notifications[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# https://wayland.emersion.fr/mako/[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mnotifications = mako[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Screen color temperature[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# http://jonls.dk/redshift/[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Note: Requires Redshift with Wayland support.[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# https://github.com/jonls/redshift/pull/663[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mredshift = redshift -m wayland[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Idle configuration[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# https://github.com/swaywm/swayidle[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# https://github.com/swaywm/swaylock[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224midle = swayidle before-sleep swaylock[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Example configuration:[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m#[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# [idle][0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# toggle = <super> KEY_Z[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# screensaver_timeout = 300[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# dpms_timeout = 600[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m#[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Disables the compositor going idle with Super + z.[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# This will lock your screen after 300 seconds of inactivity, then turn off[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# your displays after another 300 seconds.[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Applications ─────────────────────────────────────────────────────────────────[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[command][0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Plumb[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mbinding_plumb = <super> KEY_Q[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mcommand_plumb = plumb mpv pandoc xdg-open[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Start a terminal[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# https://github.com/alacritty/alacritty[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mbinding_terminal = <super> KEY_ENTER[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mcommand_terminal = alacritty[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Start your launcher[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mbinding_launcher = <super> <shift> KEY_ENTER[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mcommand_launcher = launcher run $(launcher menu | dmenu)[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Screen locker[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# https://github.com/swaywm/swaylock[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mbinding_lock = <super> <shift> KEY_BACKSPACE[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mcommand_lock = swaylock[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Logout[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# https://github.com/ArtsyMacaw/wlogout[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mbinding_logout = <super> KEY_BACKSPACE[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mcommand_logout = wlogout[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Screenshots[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# https://wayland.emersion.fr/grim/[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# https://wayland.emersion.fr/slurp/[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mbinding_screenshot = KEY_PRINT[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mcommand_screenshot = grim $(date '+%F_%T').webp[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mbinding_screenshot_interactive = <shift> KEY_PRINT[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mcommand_screenshot_interactive = slurp | grim -g - $(date '+%F_%T').webp[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Volume controls[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# https://alsa-project.org[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mrepeatable_binding_volume_up = KEY_VOLUMEUP[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mcommand_volume_up = amixer set Master 5%+[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mrepeatable_binding_volume_down = KEY_VOLUMEDOWN[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mcommand_volume_down = amixer set Master 5%-[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mbinding_mute = KEY_MUTE[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mcommand_mute = amixer set Master toggle[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Screen brightness[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# https://haikarainen.github.io/light/[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mrepeatable_binding_light_up = KEY_BRIGHTNESSUP[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mcommand_light_up = light -A 5[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mrepeatable_binding_light_down = KEY_BRIGHTNESSDOWN[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mcommand_light_down = light -U 5[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Room[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mbinding_room = <super> KEY_F2[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mcommand_room = room[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Password manager[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mbinding_password = <super> KEY_P[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mcommand_password = password get $(password menu | dmenu) | wl-copy[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Snippets[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mbinding_snippets = <super> KEY_Y[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mcommand_snippets = snippets-to-clipboard[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Windows ──────────────────────────────────────────────────────────────────────[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Layouts[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Set various window states[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[wm-actions][0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mtoggle_fullscreen = <super> <shift> KEY_F | <super> KEY_F11[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mtoggle_always_on_top = <super> KEY_X[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mtoggle_sticky = <super> <shift> KEY_X[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Position the windows in certain regions of the output.[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[grid][0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m#[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# ⇱ ↑ ⇲   │ 7 8 9[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# ← f →   │ 4 5 6[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# ⇱ ↓ ⇲ d │ 1 2 3 0[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# ‾   ‾[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mslot_bl = <super> <shift> KEY_HOME | <super> KEY_KP1[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mslot_b = <super> KEY_DOWN | <super> KEY_KP2[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mslot_br = <super> <shift> KEY_END | <super> KEY_KP3[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mslot_l = <super> KEY_LEFT | <super> KEY_KP4[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mslot_c = <super> KEY_F | <super> KEY_KP5[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mslot_r = <super> KEY_RIGHT | <super> KEY_KP6[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mslot_tl = <super> KEY_HOME | <super> KEY_KP7[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mslot_t = <super> KEY_UP | <super> KEY_KP8[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mslot_tr = <super> KEY_END | <super> KEY_KP9[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Restore default.[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mrestore = <super> KEY_D | <super> KEY_KP0[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Change active window with an animation.[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[switcher][0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mnext_view = <super> KEY_TAB[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mprev_view = <super> <shift> KEY_TAB[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Simple active window switcher.[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[fast-switcher][0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mactivate = <super> KEY_ESC[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Workspaces ───────────────────────────────────────────────────────────────────[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Switch to workspace.[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[vswitch][0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mbinding_left = <super> KEY_H[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mbinding_down = <super> KEY_J[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mbinding_up = <super> KEY_K[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mbinding_right = <super> KEY_L[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Move the focused window with the same key-bindings, but add Shift.[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mbinding_win_left = <super> <shift> KEY_H[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mbinding_win_down = <super> <shift> KEY_J[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mbinding_win_up = <super> <shift> KEY_K[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mbinding_win_right = <super> <shift> KEY_L[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Show the current workspace row as a cube.[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[cube][0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mactivate = <super> <shift> BTN_LEFT[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Switch to the next or previous workspace.[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mrotate_left = <super> <ctrl> KEY_H[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mrotate_right = <super> <ctrl> KEY_L[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Show an overview of all workspaces.[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[expo][0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mtoggle = <super>[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Select a workspace with [hjkl] or its number.[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Workspaces are arranged into a grid of 3 × 3.[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# The numbering is left to right, line by line.[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m#[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# ⇱ k ⇲[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# h ⏎ l[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# ⇱ j ⇲[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# ‾   ‾[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# See core.vwidth and core.vheight for configuring the grid.[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mselect_workspace_1 = KEY_1 | KEY_HOME[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mselect_workspace_2 = KEY_2 | KEY_K[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mselect_workspace_3 = KEY_3 | KEY_END[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mselect_workspace_4 = KEY_4 | KEY_H[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mselect_workspace_5 = KEY_5 | KEY_ENTER[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mselect_workspace_6 = KEY_6 | KEY_L[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mselect_workspace_7 = KEY_7 | <shift> KEY_HOME[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mselect_workspace_8 = KEY_8 | KEY_J[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mselect_workspace_9 = KEY_9 | <shift> KEY_END[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Outputs ──────────────────────────────────────────────────────────────────────[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Change focused output.[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[oswitch][0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Switch to the next output.[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mnext_output = <super> KEY_O[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Same with the window.[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mnext_output_with_win = <super> <shift> KEY_O[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Invert the colors of the whole output.[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[invert][0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mtoggle = <super> KEY_I[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Effects ──────────────────────────────────────────────────────────────────────[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[animate][0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mopen_animation = zoom[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mclose_animation = zoom[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224mduration = 500[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Rules ────────────────────────────────────────────────────────────────────────[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# Example configuration:[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m#[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# [window-rules][0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# alacritty = app-id Alacritty created -> set maximized[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m#[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# You can get the properties of your applications with the following command:[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# $ WAYLAND_DEBUG=1 alacritty 2>&1 | kak[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m#[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# See Window rules for a complete reference.[0m[48;2;255;224;224m[0K[0m
[48;2;255;224;224m# https://github.com/WayfireWM/wayfire/wiki/Configuration#window-rules[0m[48;2;255;224;224m[0K[0m

[33mcommit bee5d0a945bceed6fad97f7def0b5cdba0869b12[m
Author: Alex Leferry 2 <alexherbo2@gmail.com>
Date:   2020-02-19 12:40:27 +0100

    Add Wayfire configuration
    
    https://wayfire.org


[34madded: config/wayfire.ini[0m
[34m────────────────────────────────────────────────────────────────────────────────[0m

[34m───[0m[34m┐[0m
[34m1[0m: [34m│[0m
[34m───[0m[34m┘[0m
[48;2;208;255;208;38;2;150;152;150m# Default config for Wayfire[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;150;152;150m#[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;150;152;150m# Copy this to ~/.config/wayfire.ini and edit it to your liking.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;150;152;150m#[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;150;152;150m# Take the tutorial to get started.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;150;152;150m# https://github.com/WayfireWM/wayfire/wiki/Tutorial[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;150;152;150m#[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;150;152;150m# Read the Configuration document for a complete reference.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;150;152;150m# https://github.com/WayfireWM/wayfire/wiki/Configuration[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;150;152;150m# Core options ─────────────────────────────────────────────────────────────────[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m[[38;2;121;93;163mcore[38;2;51;51;51m][0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;150;152;150m# List of plugins to be enabled.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;150;152;150m# See the Configuration document for a complete list.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;167;29;93mplugins[38;2;51;51;51m = [38;2;24;54;145m\[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  [38;2;24;54;145malpha \[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  [38;2;24;54;145manimate \[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  [38;2;24;54;145mautostart \[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  [38;2;24;54;145mcommand \[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  [38;2;24;54;145mdecoration \[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  [38;2;24;54;145mexpo \[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  [38;2;24;54;145mfast-switcher \[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  [38;2;24;54;145mfisheye \[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  [38;2;24;54;145mgrid \[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  [38;2;24;54;145midle \[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  [38;2;24;54;145minvert \[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  [38;2;24;54;145mmove \[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  [38;2;24;54;145moswitch \[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  [38;2;24;54;145mplace \[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  [38;2;24;54;145mresize \[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  [38;2;24;54;145mswitcher \[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  [38;2;24;54;145mvswitch \[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  [38;2;24;54;145mwindow-rules \[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  [38;2;24;54;145mwobbly \[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  [38;2;24;54;145mwrot \[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m  [38;2;24;54;145mzoom[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;150;152;150m# Note: [blur] is not enabled by default, because it can be resource-intensive.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;150;152;150m# Feel free to add it to the list if you want it.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;150;152;150m# You can find its documentation here:[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;150;152;150m# https://github.com/WayfireWM/wayfire/wiki/Configuration#blur[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;150;152;150m# Close focused window.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;167;29;93mclose_top_view[38;2;51;51;51m = [38;2;24;54;145m<super> KEY_W | <super> BTN_MIDDLE | <alt> KEY_F4[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;150;152;150m# Workspaces arranged into a grid: 3 × 3.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;167;29;93mvwidth[38;2;51;51;51m = [38;2;24;54;145m3[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;167;29;93mvheight[38;2;51;51;51m = [38;2;24;54;145m3[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;150;152;150m# Mouse bindings ───────────────────────────────────────────────────────────────[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;150;152;150m# Drag windows by holding down Super and left mouse button.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m[[38;2;121;93;163mmove[38;2;51;51;51m][0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;167;29;93mactivate[38;2;51;51;51m = [38;2;24;54;145m<super> BTN_LEFT[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;150;152;150m# Resize them with right mouse button + Super.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m[[38;2;121;93;163mresize[38;2;51;51;51m][0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;167;29;93mactivate[38;2;51;51;51m = [38;2;24;54;145m<super> BTN_RIGHT[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;150;152;150m# Zoom in the desktop by scrolling + Super + Control.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m[[38;2;121;93;163mzoom[38;2;51;51;51m][0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;167;29;93mmodifier[38;2;51;51;51m = [38;2;24;54;145m<super> <ctrl>[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;150;152;150m# Change opacity by scrolling with Super.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m[[38;2;121;93;163malpha[38;2;51;51;51m][0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;167;29;93mmodifier[38;2;51;51;51m = [38;2;24;54;145m<super>[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;150;152;150m# Rotate windows with the mouse.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m[[38;2;121;93;163mwrot[38;2;51;51;51m][0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;167;29;93mactivate[38;2;51;51;51m = [38;2;24;54;145m<super> <ctrl> BTN_RIGHT[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;150;152;150m# Fisheye effect.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m[[38;2;121;93;163mfisheye[38;2;51;51;51m][0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;167;29;93mtoggle[38;2;51;51;51m = [38;2;24;54;145m<super> <ctrl> BTN_LEFT[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;150;152;150m# Startup commands ─────────────────────────────────────────────────────────────[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m[[38;2;121;93;163mautostart[38;2;51;51;51m][0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;150;152;150m# Set the wallpaper, start a panel and dock if you want one.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;150;152;150m# https://github.com/WayfireWM/wf-shell[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;167;29;93mbackground[38;2;51;51;51m = [38;2;24;54;145mwf-background[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;167;29;93mpanel[38;2;51;51;51m = [38;2;24;54;145mwf-panel[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;167;29;93mdock[38;2;51;51;51m = [38;2;24;54;145mwf-dock[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;150;152;150m# Output configuration[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;150;152;150m# https://wayland.emersion.fr/kanshi/[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;167;29;93moutput[38;2;51;51;51m = [38;2;24;54;145mkanshi[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;150;152;150m# Idle configuration[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;150;152;150m# https://github.com/swaywm/swayidle[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;150;152;150m# https://github.com/swaywm/swaylock[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;167;29;93midle[38;2;51;51;51m = [38;2;24;54;145mswayidle before-sleep swaylock[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;150;152;150m# Example configuration:[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;150;152;150m#[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;150;152;150m# [idle][0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;150;152;150m# toggle = <super> KEY_Z[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;150;152;150m# screensaver_timeout = 300[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;150;152;150m# dpms_timeout = 600[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;150;152;150m#[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;150;152;150m# Disables the compositor going idle with Super + z.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;150;152;150m# This will lock your screen after 300 seconds of inactivity, then turn off[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;150;152;150m# your displays after another 300 seconds.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;150;152;150m# Applications ─────────────────────────────────────────────────────────────────[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m[[38;2;121;93;163mcommand[38;2;51;51;51m][0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;150;152;150m# Start a terminal[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;150;152;150m# https://github.com/alacritty/alacritty[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;167;29;93mbinding_terminal[38;2;51;51;51m = [38;2;24;54;145m<super> KEY_ENTER[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;167;29;93mcommand_terminal[38;2;51;51;51m = [38;2;24;54;145malacritty[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;150;152;150m# Start your launcher[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;150;152;150m# https://github.com/alexherbo2/launcher[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;150;152;150m# https://github.com/junegunn/fzf[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;167;29;93mbinding_launcher[38;2;51;51;51m = [38;2;24;54;145m<super> <shift> KEY_ENTER[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;167;29;93mcommand_launcher[38;2;51;51;51m = [38;2;24;54;145malacritty --command sh -c 'nohup launcher $(launcher | fzf) > /dev/null'[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;150;152;150m# Screen locker[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;150;152;150m# https://github.com/swaywm/swaylock[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;167;29;93mbinding_lock[38;2;51;51;51m = [38;2;24;54;145m<super> KEY_ESC[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;167;29;93mcommand_lock[38;2;51;51;51m = [38;2;24;54;145mswaylock[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;150;152;150m# Screenshots[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;150;152;150m# https://wayland.emersion.fr/grim/[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;150;152;150m# https://wayland.emersion.fr/slurp/[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;167;29;93mbinding_screenshot[38;2;51;51;51m = [38;2;24;54;145mKEY_PRINT[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;167;29;93mcommand_screenshot[38;2;51;51;51m = [38;2;24;54;145mgrim $(date '+%F_%T').webp[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;167;29;93mbinding_screenshot_interactive[38;2;51;51;51m = [38;2;24;54;145m<shift> KEY_PRINT[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;167;29;93mcommand_screenshot_interactive[38;2;51;51;51m = [38;2;24;54;145mslurp | grim -g - $(date '+%F_%T').webp[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;150;152;150m# Volume controls[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;150;152;150m# https://alsa-project.org[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;167;29;93mrepeatable_binding_volume_up[38;2;51;51;51m = [38;2;24;54;145mKEY_VOLUMEUP[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;167;29;93mcommand_volume_up[38;2;51;51;51m = [38;2;24;54;145mamixer set Master 5%+[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;167;29;93mrepeatable_binding_volume_down[38;2;51;51;51m = [38;2;24;54;145mKEY_VOLUMEDOWN[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;167;29;93mcommand_volume_down[38;2;51;51;51m = [38;2;24;54;145mamixer set Master 5%-[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;167;29;93mbinding_mute[38;2;51;51;51m = [38;2;24;54;145mKEY_MUTE[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;167;29;93mcommand_mute[38;2;51;51;51m = [38;2;24;54;145mamixer set Master toggle[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;150;152;150m# Windows ──────────────────────────────────────────────────────────────────────[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;150;152;150m# Position the windows in certain regions of the output.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m[[38;2;121;93;163mgrid[38;2;51;51;51m][0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;150;152;150m#[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;150;152;150m# ⇱ ↑ ⇲[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;150;152;150m# ← f →[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;150;152;150m# ⇱ ↓ ⇲[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;150;152;150m#[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;167;29;93mslot_bl[38;2;51;51;51m = [38;2;24;54;145m<super> <shift> KEY_HOME | <super> KEY_KP1[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;167;29;93mslot_b[38;2;51;51;51m = [38;2;24;54;145m<super> KEY_DOWN | <super> KEY_KP2[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;167;29;93mslot_br[38;2;51;51;51m = [38;2;24;54;145m<super> <shift> KEY_END | <super> KEY_KP3[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;167;29;93mslot_l[38;2;51;51;51m = [38;2;24;54;145m<super> KEY_LEFT | <super> KEY_KP4[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;167;29;93mslot_c[38;2;51;51;51m = [38;2;24;54;145m<super> KEY_F | <super> KEY_KP5[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;167;29;93mslot_r[38;2;51;51;51m = [38;2;24;54;145m<super> KEY_RIGHT | <super> KEY_KP6[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;167;29;93mslot_tl[38;2;51;51;51m = [38;2;24;54;145m<super> KEY_HOME | <super> KEY_KP7[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;167;29;93mslot_t[38;2;51;51;51m = [38;2;24;54;145m<super> KEY_UP | <super> KEY_KP8[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;167;29;93mslot_tr[38;2;51;51;51m = [38;2;24;54;145m<super> KEY_END | <super> KEY_KP9[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;150;152;150m# Restore default.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;167;29;93mrestore[38;2;51;51;51m = [38;2;24;54;145m<super> KEY_D | <super> KEY_KP0[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;150;152;150m# Change active window with an animation.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m[[38;2;121;93;163mswitcher[38;2;51;51;51m][0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;167;29;93mnext_view[38;2;51;51;51m = [38;2;24;54;145m<super> KEY_TAB[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;167;29;93mprev_view[38;2;51;51;51m = [38;2;24;54;145m<super> <shift> KEY_TAB[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;150;152;150m# Simple active window switcher.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m[[38;2;121;93;163mfast-switcher[38;2;51;51;51m][0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;167;29;93mactivate[38;2;51;51;51m = [38;2;24;54;145m<alt> KEY_ESC[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;150;152;150m# Workspaces ───────────────────────────────────────────────────────────────────[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;150;152;150m# Switch to workspace.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m[[38;2;121;93;163mvswitch[38;2;51;51;51m][0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;167;29;93mbinding_left[38;2;51;51;51m = [38;2;24;54;145m<super> KEY_H[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;167;29;93mbinding_down[38;2;51;51;51m = [38;2;24;54;145m<super> KEY_J[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;167;29;93mbinding_up[38;2;51;51;51m = [38;2;24;54;145m<super> KEY_K[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;167;29;93mbinding_right[38;2;51;51;51m = [38;2;24;54;145m<super> KEY_L[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;150;152;150m# Move the focused window with the same key-bindings, but add Shift.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;167;29;93mbinding_win_left[38;2;51;51;51m = [38;2;24;54;145m<super> <shift> KEY_H[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;167;29;93mbinding_win_down[38;2;51;51;51m = [38;2;24;54;145m<super> <shift> KEY_J[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;167;29;93mbinding_win_up[38;2;51;51;51m = [38;2;24;54;145m<super> <shift> KEY_K[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;167;29;93mbinding_win_right[38;2;51;51;51m = [38;2;24;54;145m<super> <shift> KEY_L[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;150;152;150m# Show the current workspace row as a cube.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m[[38;2;121;93;163mcube[38;2;51;51;51m][0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;167;29;93mactivate[38;2;51;51;51m = [38;2;24;54;145m<super> <shift> BTN_LEFT[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;150;152;150m# Switch to the next or previous workspace.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;167;29;93mrotate_left[38;2;51;51;51m = [38;2;24;54;145m<super> <ctrl> KEY_H[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;167;29;93mrotate_right[38;2;51;51;51m = [38;2;24;54;145m<super> <ctrl> KEY_L[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;150;152;150m# Show an overview of all workspaces.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m[[38;2;121;93;163mexpo[38;2;51;51;51m][0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;167;29;93mtoggle[38;2;51;51;51m = [38;2;24;54;145m<super>[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;150;152;150m# Select a workspace.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;150;152;150m# Workspaces are arranged into a grid of 3 × 3.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;150;152;150m# The numbering is left to right, line by line.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;150;152;150m#[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;150;152;150m# ⇱ k ⇲[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;150;152;150m# h f l[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;150;152;150m# ⇱ j ⇲[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;150;152;150m#[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;150;152;150m# See core.vwidth and core.vheight for configuring the grid.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;167;29;93mselect_workspace_1[38;2;51;51;51m = [38;2;24;54;145mKEY_HOME[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;167;29;93mselect_workspace_2[38;2;51;51;51m = [38;2;24;54;145mKEY_K[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;167;29;93mselect_workspace_3[38;2;51;51;51m = [38;2;24;54;145mKEY_END[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;167;29;93mselect_workspace_4[38;2;51;51;51m = [38;2;24;54;145mKEY_H[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;167;29;93mselect_workspace_5[38;2;51;51;51m = [38;2;24;54;145mKEY_F[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;167;29;93mselect_workspace_6[38;2;51;51;51m = [38;2;24;54;145mKEY_L[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;167;29;93mselect_workspace_7[38;2;51;51;51m = [38;2;24;54;145m<shift> KEY_HOME[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;167;29;93mselect_workspace_8[38;2;51;51;51m = [38;2;24;54;145mKEY_J[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;167;29;93mselect_workspace_9[38;2;51;51;51m = [38;2;24;54;145m<shift> KEY_END[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;150;152;150m# Outputs ──────────────────────────────────────────────────────────────────────[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;150;152;150m# Change focused output.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m[[38;2;121;93;163moswitch[38;2;51;51;51m][0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;150;152;150m# Switch to the next output.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;167;29;93mnext_output[38;2;51;51;51m = [38;2;24;54;145m<super> KEY_O[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;150;152;150m# Same with the window.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;167;29;93mnext_output_with_win[38;2;51;51;51m = [38;2;24;54;145m<super> <shift> KEY_O[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;150;152;150m# Invert the colors of the whole output.[0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;51;51;51m[[38;2;121;93;163minvert[38;2;51;51;51m][0m[48;2;208;255;208m[0K[0m
[48;2;208;255;208;38;2;167;29;93mtoggle[38;2;51;51;51m = [38;2;24;54;145m<super> KEY_I[0m[48;2;208;255;208m[0K[0m
